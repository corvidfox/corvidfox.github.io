<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Morrigan M.">
<meta name="dcterms.date" content="2025-06-30">
<meta name="description" content="This project explores the Chinook dataset — a mock digital music store — to uncover key business insights around revenue, customers, and performance. It combines SQL analysis with dashboard development to present findings visually.">

<title>SQL-Driven Business Intelligence Dashboard (Chinook ‘Digital Music Store’) – Data Science &amp; Bioinformatics Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href=".././img/favicon-32x32.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-2fef5ea3f8957b3e4ecc936fc74692ca.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" class="quarto-color-scheme-extra" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-a8daa347c29f3bce361fb1b75b940d3b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-ca131377d38971f765fa5a67f280c60e.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<link href="../site_libs/bootstrap/bootstrap-a8daa347c29f3bce361fb1b75b940d3b.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme-extra" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">

<script src="../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>

<script src="../site_libs/plotly-binding-4.11.0/plotly.js"></script>

<script src="../site_libs/typedarray-0.1/typedarray.min.js"></script>

<script src="../site_libs/jquery-3.5.1/jquery.min.js"></script>

<link href="../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">

<script src="../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>

<link href="../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">

<script src="../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>



</head>

<body class="nav-fixed quarto-light"><script id="quarto-html-before-body" type="application/javascript">
    const toggleBodyColorMode = (bsSheetEl) => {
      const mode = bsSheetEl.getAttribute("data-mode");
      const bodyEl = window.document.querySelector("body");
      if (mode === "dark") {
        bodyEl.classList.add("quarto-dark");
        bodyEl.classList.remove("quarto-light");
      } else {
        bodyEl.classList.add("quarto-light");
        bodyEl.classList.remove("quarto-dark");
      }
    }
    const toggleBodyColorPrimary = () => {
      const bsSheetEl = window.document.querySelector("link#quarto-bootstrap:not([rel=disabled-stylesheet])");
      if (bsSheetEl) {
        toggleBodyColorMode(bsSheetEl);
      }
    }
    const setColorSchemeToggle = (alternate) => {
      const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
      for (let i=0; i < toggles.length; i++) {
        const toggle = toggles[i];
        if (toggle) {
          if (alternate) {
            toggle.classList.add("alternate");
          } else {
            toggle.classList.remove("alternate");
          }
        }
      }
    };
    const toggleColorMode = (alternate) => {
      // Switch the stylesheets
      const primaryStylesheets = window.document.querySelectorAll('link.quarto-color-scheme:not(.quarto-color-alternate)');
      const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
      manageTransitions('#quarto-margin-sidebar .nav-link', false);
      if (alternate) {
        // note: dark is layered on light, we don't disable primary!
        enableStylesheet(alternateStylesheets);
        for (const sheetNode of alternateStylesheets) {
          if (sheetNode.id === "quarto-bootstrap") {
            toggleBodyColorMode(sheetNode);
          }
        }
      } else {
        disableStylesheet(alternateStylesheets);
        enableStylesheet(primaryStylesheets)
        toggleBodyColorPrimary();
      }
      manageTransitions('#quarto-margin-sidebar .nav-link', true);
      // Switch the toggles
      setColorSchemeToggle(alternate)
      // Hack to workaround the fact that safari doesn't
      // properly recolor the scrollbar when toggling (#1455)
      if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
        manageTransitions("body", false);
        window.scrollTo(0, 1);
        setTimeout(() => {
          window.scrollTo(0, 0);
          manageTransitions("body", true);
        }, 40);
      }
    }
    const disableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        stylesheet.rel = 'disabled-stylesheet';
      }
    }
    const enableStylesheet = (stylesheets) => {
      for (let i=0; i < stylesheets.length; i++) {
        const stylesheet = stylesheets[i];
        if(stylesheet.rel !== 'stylesheet') { // for Chrome, which will still FOUC without this check
          stylesheet.rel = 'stylesheet';
        }
      }
    }
    const manageTransitions = (selector, allowTransitions) => {
      const els = window.document.querySelectorAll(selector);
      for (let i=0; i < els.length; i++) {
        const el = els[i];
        if (allowTransitions) {
          el.classList.remove('notransition');
        } else {
          el.classList.add('notransition');
        }
      }
    }
    const isFileUrl = () => {
      return window.location.protocol === 'file:';
    }
    const hasAlternateSentinel = () => {
      let styleSentinel = getColorSchemeSentinel();
      if (styleSentinel !== null) {
        return styleSentinel === "alternate";
      } else {
        return false;
      }
    }
    const setStyleSentinel = (alternate) => {
      const value = alternate ? "alternate" : "default";
      if (!isFileUrl()) {
        window.localStorage.setItem("quarto-color-scheme", value);
      } else {
        localAlternateSentinel = value;
      }
    }
    const getColorSchemeSentinel = () => {
      if (!isFileUrl()) {
        const storageValue = window.localStorage.getItem("quarto-color-scheme");
        return storageValue != null ? storageValue : localAlternateSentinel;
      } else {
        return localAlternateSentinel;
      }
    }
    const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
      const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
      const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
      let newTheme = '';
      if(authorPrefersDark) {
        newTheme = isAlternate ? baseTheme : alternateTheme;
      } else {
        newTheme = isAlternate ? alternateTheme : baseTheme;
      }
      const changeGiscusTheme = () => {
        // From: https://github.com/giscus/giscus/issues/336
        const sendMessage = (message) => {
          const iframe = document.querySelector('iframe.giscus-frame');
          if (!iframe) return;
          iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
        }
        sendMessage({
          setConfig: {
            theme: newTheme
          }
        });
      }
      const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
      if (isGiscussLoaded) {
        changeGiscusTheme();
      }
    };
    const authorPrefersDark = false;
    const queryPrefersDark = window.matchMedia('(prefers-color-scheme: dark)');
    const darkModeDefault = queryPrefersDark.matches;
      document.querySelector('link#quarto-text-highlighting-styles.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
      document.querySelector('link#quarto-bootstrap.quarto-color-scheme-extra').rel = 'disabled-stylesheet';
    let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
    // Dark / light mode switch
    window.quartoToggleColorScheme = () => {
      // Read the current dark / light value
      let toAlternate = !hasAlternateSentinel();
      toggleColorMode(toAlternate);
      setStyleSentinel(toAlternate);
      toggleGiscusIfUsed(toAlternate, darkModeDefault);
      window.dispatchEvent(new Event('resize'));
    };
    queryPrefersDark.addEventListener("change", e => {
      if(window.localStorage.getItem("quarto-color-scheme") !== null)
        return;
      const alternate = e.matches
      toggleColorMode(alternate);
      localAlternateSentinel = e.matches ? 'alternate' : 'default'; // this is used alongside local storage!
      toggleGiscusIfUsed(alternate, darkModeDefault);
    });
    // Switch to dark mode if need be
    if (hasAlternateSentinel()) {
      toggleColorMode(true);
    } else {
      toggleColorMode(false);
    }
  </script>

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Data Science &amp; Bioinformatics Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../projects.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://github.com/corvidfox"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text">GitHub</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://www.linkedin.com/in/morrigan-mahady-6b640712b"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text">LinkedIn</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="mailto:anmorrigan@proton.me"> <i class="bi bi-envelope-at-fill" role="img">
</i> 
<span class="menu-text">Email</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Project Overview</a>
  <ul class="collapse">
  <li><a href="#business-questions" id="toc-business-questions" class="nav-link" data-scroll-target="#business-questions">Business Questions</a></li>
  <li><a href="#deliverables" id="toc-deliverables" class="nav-link" data-scroll-target="#deliverables">Deliverables</a></li>
  <li><a href="#tech-stack" id="toc-tech-stack" class="nav-link" data-scroll-target="#tech-stack">Technology Stack</a></li>
  </ul></li>
  <li><a href="#data-schema" id="toc-data-schema" class="nav-link" data-scroll-target="#data-schema">Data Exploration &amp; Schema Understanding</a>
  <ul class="collapse">
  <li><a href="#connection-validation" id="toc-connection-validation" class="nav-link" data-scroll-target="#connection-validation">Connection and Validation</a></li>
  </ul></li>
  <li><a href="#q1" id="toc-q1" class="nav-link" data-scroll-target="#q1">Question 1: Where is revenue coming from geographically?</a>
  <ul class="collapse">
  <li><a href="#q1-vis" id="toc-q1-vis" class="nav-link" data-scroll-target="#q1-vis">Exploratory Visualizations</a>
  <ul class="collapse">
  <li><a href="#q1-vis-rev-by-country" id="toc-q1-vis-rev-by-country" class="nav-link" data-scroll-target="#q1-vis-rev-by-country">Total Revenue: Choropleth by Country</a></li>
  <li><a href="#q1-vis-rev-per-cust-by-country" id="toc-q1-vis-rev-per-cust-by-country" class="nav-link" data-scroll-target="#q1-vis-rev-per-cust-by-country">Revenue per Customer: Choropleth by Country</a></li>
  </ul></li>
  <li><a href="#q1-summary" id="toc-q1-summary" class="nav-link" data-scroll-target="#q1-summary">Summary of Exploratory findings</a></li>
  </ul></li>
  <li><a href="#q2" id="toc-q2" class="nav-link" data-scroll-target="#q2">Question 2: What genres or artists generate the most income?</a>
  <ul class="collapse">
  <li><a href="#exploratory-visualizations" id="toc-exploratory-visualizations" class="nav-link" data-scroll-target="#exploratory-visualizations">Exploratory Visualizations</a>
  <ul class="collapse">
  <li><a href="#q2-vis-rev-by-genre" id="toc-q2-vis-rev-by-genre" class="nav-link" data-scroll-target="#q2-vis-rev-by-genre">Revenue by Genre: Stacked Bar Chart</a></li>
  <li><a href="#artist-revenue" id="toc-artist-revenue" class="nav-link" data-scroll-target="#artist-revenue">Artist Revenue</a></li>
  <li><a href="#q2-vis-rev-by-artist" id="toc-q2-vis-rev-by-artist" class="nav-link" data-scroll-target="#q2-vis-rev-by-artist">Revenue by Artist: Stacked Bar Chart</a></li>
  </ul></li>
  <li><a href="#q2-summary" id="toc-q2-summary" class="nav-link" data-scroll-target="#q2-summary">Summary of Exploratory Findings</a></li>
  </ul></li>
  <li><a href="#question-3-how-many-customers-are-repeat-buyers" id="toc-question-3-how-many-customers-are-repeat-buyers" class="nav-link" data-scroll-target="#question-3-how-many-customers-are-repeat-buyers">Question 3: How many customers are repeat buyers?</a></li>
  <li><a href="#question-4.-how-do-sales-trends-evolve-over-time" id="toc-question-4.-how-do-sales-trends-evolve-over-time" class="nav-link" data-scroll-target="#question-4.-how-do-sales-trends-evolve-over-time">Question 4. How do sales trends evolve over time?</a></li>
  <li><a href="#bottom" id="toc-bottom" class="nav-link" data-scroll-target="#bottom">BOTTOM</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/corvidfox/corvidfox.github.io/blob/main/projects/draft.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/corvidfox/corvidfox.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">


<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">SQL-Driven Business Intelligence Dashboard (Chinook ‘Digital Music Store’)</h1>
  <div class="quarto-categories">
    <div class="quarto-category">SQL</div>
    <div class="quarto-category">R</div>
    <div class="quarto-category">Python</div>
    <div class="quarto-category">Dashboard</div>
    <div class="quarto-category">Data Analysis</div>
    <div class="quarto-category">Business Intelligence</div>
    <div class="quarto-category">Exploratory Analysis</div>
    <div class="quarto-category">Retail Analytics</div>
    <div class="quarto-category">Chinook</div>
    <div class="quarto-category">Short</div>
    <div class="quarto-category">DuckDB</div>
  </div>
  </div>

<div>
  <div class="description">
    This project explores the Chinook dataset — a mock digital music store — to uncover key business insights around revenue, customers, and performance. It combines SQL analysis with dashboard development to present findings visually.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Morrigan M. </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 30, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">June 30, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="overview" class="level1">
<h1>Project Overview</h1>
<ul>
<li><strong>Goal</strong>: Build a BI dashboard for a fictional digital media business.</li>
<li><strong>Focus</strong>: Revenue insights, customer analysis, business performance.</li>
<li><strong>Why it matters</strong>: Business stakeholders benefit from fast, accessible reporting on key performance indicators (KPIs) to support decision-making.</li>
</ul>
<p>This project is intended for both technical and business audiences, with clear visual insights supported by SQL-based exploration.</p>
<p>For the best visualization experience, browser is recommended - optimization of these exploratory visualizations is limited.</p>
<section id="business-questions" class="level2">
<h2 class="anchored" data-anchor-id="business-questions">Business Questions</h2>
<p>This project is designed to help answer the following business questions:</p>
<ol type="1">
<li><strong>Where is revenue coming from geographically?</strong></li>
<li><strong>What genres or artists generate the most income?</strong></li>
<li><strong>How many customers are repeat buyers?</strong></li>
<li><strong>How do sales trends evolve over time?</strong></li>
</ol>
</section>
<section id="deliverables" class="level2">
<h2 class="anchored" data-anchor-id="deliverables">Deliverables</h2>
<ul>
<li>SQL-based analysis of key business metrics with visualizations in both R and Python.</li>
<li>Dashboards built in R (Shiny) and Python (Dash) [TO DO].</li>
<li>[Considering a tableau version of the dashboard; TO DO]</li>
</ul>
</section>
<section id="tech-stack" class="level2">
<h2 class="anchored" data-anchor-id="tech-stack">Technology Stack</h2>
<p>The following tools were used to merge, analyze, and present the data:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Tool</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SQL</td>
<td>Data transformation and KPIs</td>
</tr>
<tr class="even">
<td>DuckDB</td>
<td>Lightweight, embedded relational database</td>
</tr>
<tr class="odd">
<td>R + Shiny</td>
<td>Dashboard development (R-based)</td>
</tr>
<tr class="even">
<td>Python + Dash</td>
<td>Dashboard development (Python-based)</td>
</tr>
</tbody>
</table>
<p>This project demonstrates dashboard development in both R (Shiny) and Python (Dash), highlighting flexibility across technical ecosystems.</p>
<p>[NOTE TO SELF - DELETE ONCE REVISED: This is a work in progress. I plan to make a dashboard with R and one with Python, just to show I can do both. I will update this to reflect the final project once it’s done.]</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(duckdb)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DBI)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(countrycode)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> duckdb</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.graph_objects <span class="im">as</span> go</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.subplots <span class="im">import</span> make_subplots</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> plotly.graph_objs <span class="im">import</span> Figure</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pycountry</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="data-schema" class="level1">
<h1>Data Exploration &amp; Schema Understanding</h1>
<p>The <a href="https://github.com/lerocha/chinook-database">Chinook Database</a> is a well documented, publicly available data set. The SQLite version of the data was downloaded and converted into a <a href="https://duckdb.org/">DuckDB</a> database for this project to take advantage of DuckDB’s speed and in-memory querying capabilities.</p>
<p>The Chinook Database simulates a digital music store, similar to platforms like iTunes. It includes tables for artists, albums, tracks, customers, invoices, employees, and more.</p>
<p>A diagram of the database schema was created with <a href="https://dbdiagram.io/home">dbdiagram</a>.</p>
<div class="light-content">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img/project_imgs/chinook_schema_light.png" class="img-fluid figure-img" alt="A database schema diagram for the Chinook database."></p>
<figcaption>Chinook Database Schema</figcaption>
</figure>
</div>
</div>
<div class="dark-content">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img/project_imgs/chinook_schema_dark.png" class="img-fluid figure-img" alt="A database schema diagram for the Chinook database."></p>
<figcaption>Chinook Database Schema</figcaption>
</figure>
</div>
</div>
<p>From this schema, key tables of interest were identified for each business question:</p>
<ol type="1">
<li><strong>Where is revenue coming from geographically?</strong></li>
</ol>
<ul>
<li><em>Key Tables</em>: <code>Invoice</code>, <code>Customer</code></li>
<li><em>Explanation</em>: The <code>Invoice</code> table records total sales and billing address information, which identifies where revenue is being billed geographically. <code>Customer</code> provides customer addressing, which may differ from billing location and allows for a more detailed geographic analysis.</li>
</ul>
<ol start="2" type="1">
<li><strong>What genres or artists generate the most income?</strong></li>
</ol>
<ul>
<li><em>Key Tables</em>: <code>InvoiceLine</code>, <code>Track</code>, <code>Artist</code>, <code>Genre</code></li>
<li><em>Explanation</em>: <code>InvoiceLine</code> records individual track purchases, including price and quantity. Joining to the <code>Track</code> table provides track-level metadata through further links to <code>Artist</code> and <code>Genre</code>, enabling revenue analysis by artist or genre.</li>
</ul>
<ol start="3" type="1">
<li><strong>How many customers are repeat buyers?</strong></li>
</ol>
<ul>
<li><em>Key Tables</em>: <code>Invoice</code>, <code>Customer</code></li>
<li><em>Explanation</em>: The <code>Customer</code> table identifies each buyer, while <code>Invoice</code> records all purchase transactions. Counting invoices per customer reveals how many made repeat purchases, offering insight into customer retention.</li>
</ul>
<ol start="4" type="1">
<li><strong>How do sales trends evolve over time?</strong></li>
</ol>
<ul>
<li><em>Key Tables</em>: <code>Invoice</code>, <code>InvoiceLine</code></li>
<li><em>Explanation</em>: The <code>Invoice</code> table includes invoice dates and total amounts, allowing for time-based trend analysis (e.g., monthly revenue). <code>InvoiceLine</code> can be joined for more granular insights, such as which tracks or genres are trending over specific time periods, or purchase volume trends.</li>
</ul>
<p>With the schema understood and key tables identified, the next step is to query the data using SQL and create exploratory R visualizations to begin answering the business questions.</p>
<section id="connection-validation" class="level2">
<h2 class="anchored" data-anchor-id="connection-validation">Connection and Validation</h2>
<p>A connection was made to the DuckDB database file.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>con_chinook <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbConnect</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  duckdb<span class="sc">::</span><span class="fu">duckdb</span>(), </span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">dbdir =</span> <span class="st">"../data/chinook.duckdb"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">read_only =</span> <span class="cn">TRUE</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>con_chinook <span class="op">=</span> duckdb.<span class="ex">connect</span>(<span class="st">"../data/chinook.duckdb"</span>, read_only <span class="op">=</span> <span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<p>Initial exploration confirmed the data’s structure and date range matched documentation.</p>
<p>A query of date values in the <code>InvoiceDate</code> table confirmed that the data contained records with a date range from <code>2009-01-01</code> to <code>2013-12-22</code>.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Get date range of Invoices</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">MIN</span>(i.InvoiceDate) <span class="kw">as</span> MinDate, </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">MAX</span>(i.InvoiceDate) <span class="kw">as</span> MaxDate</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Invoice i;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>1 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">MinDate</th>
<th style="text-align: left;">MaxDate</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">2009-01-01</td>
<td style="text-align: left;">2013-12-22</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As expected, <code>InvoiceLine</code> and <code>Track</code> had the highest number of unique records, reflecting their one-to-many relationships with <code>Invoice</code> and <code>Album</code>, respectively. Metadata tables such as <code>Genre</code> and <code>MediaType</code> had fewer unique values.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Get Number of Unique Key Values in Each Table</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Employees'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> EmployeeId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Employee</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Customers'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> Customerid) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customer</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Invoices'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> InvoiceId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Invoice</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Invoice Lines'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> InvoiceLineId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> InvoiceLine</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Tracks'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> TrackId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Track</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Artists'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> ArtistId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Artist</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Albums'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> AlbumId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Album</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Genres'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> GenreId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Genre</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Media Types'</span> <span class="kw">AS</span> TableName,</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> MediaTypeId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> MediaType</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a><span class="kw">UNION</span> <span class="kw">ALL</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  <span class="st">'Playlists'</span> <span class="kw">AS</span> TableName, </span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> PlaylistId) <span class="kw">AS</span> UniqueKeys </span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Playlist</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> UniqueKeys <span class="kw">DESC</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<thead>
<tr class="header">
<th style="text-align: left;">TableName</th>
<th style="text-align: right;">UniqueKeys</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Tracks</td>
<td style="text-align: right;">3503</td>
</tr>
<tr class="even">
<td style="text-align: left;">Invoice Lines</td>
<td style="text-align: right;">2240</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Invoices</td>
<td style="text-align: right;">412</td>
</tr>
<tr class="even">
<td style="text-align: left;">Albums</td>
<td style="text-align: right;">347</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Artists</td>
<td style="text-align: right;">275</td>
</tr>
<tr class="even">
<td style="text-align: left;">Customers</td>
<td style="text-align: right;">59</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Genres</td>
<td style="text-align: right;">25</td>
</tr>
<tr class="even">
<td style="text-align: left;">Playlists</td>
<td style="text-align: right;">18</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Employees</td>
<td style="text-align: right;">8</td>
</tr>
<tr class="even">
<td style="text-align: left;">Media Types</td>
<td style="text-align: right;">5</td>
</tr>
</tbody>
</table>
</div>
</div>
<p><strong>Next Step:</strong> Key performance indicators (KPIs) will be extracted with SQL and visualized with R and Python to answer the <a href="#business-questions">business questions outlined previously</a>, beginning with a geographic revenue analysis.</p>
</section>
</section>
<section id="q1" class="level1">
<h1>Question 1: Where is revenue coming from geographically?</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Executive Summary
</div>
</div>
<div class="callout-body-container callout-body">
<p>Global revenue is highly concentrated, with the U.S., Canada, and France driving over 50% of total earnings. Yet, smaller markets like Chile and Hungary show outsized revenue per customer, indicating growth potential. Geographic disparities in engagement suggest tailored strategies — retention and upsell in large markets, acquisition in high-value niches. Visual analysis also reveals year-specific anomalies that merit further exploration</p>
</div>
</div>
<p>The data set documented revenue of $2,328.60 (USD) from customers in 24 countries.</p>
<p>Analysis of geographic revenue began with the country recorded in the <code>Invoice</code> table. This geographic value reflected where purchases were billed, which is often used as the default location reference for financial reporting.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Revenue by Country (Billing)</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    i.BillingCountry, </span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">SUM</span>(i.Total) <span class="kw">AS</span> TotalRevenue,</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ROUND</span>(<span class="fu">SUM</span>(i.Total)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">SUM</span>(Total) <span class="kw">from</span> Invoice), <span class="dv">2</span>) <span class="kw">AS</span> PercentGlobalRevenue,</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> c.CustomerId) <span class="kw">AS</span> NumCustomers,</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ROUND</span>(<span class="fu">SUM</span>(i.Total) <span class="op">/</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> c.CustomerId), <span class="dv">2</span>) <span class="kw">AS</span> RevenuePerCustomer</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customer c</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Invoice i <span class="kw">on</span> c.CustomerId <span class="op">==</span> i.CustomerId</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> i.BillingCountry</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">-- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> TotalRevenue <span class="kw">DESC</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 25%">
<col style="width: 16%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">BillingCountry</th>
<th style="text-align: right;">TotalRevenue</th>
<th style="text-align: right;">PercentGlobalRevenue</th>
<th style="text-align: right;">NumCustomers</th>
<th style="text-align: right;">RevenuePerCustomer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">USA</td>
<td style="text-align: right;">523.06</td>
<td style="text-align: right;">22.46</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">40.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Canada</td>
<td style="text-align: right;">303.96</td>
<td style="text-align: right;">13.05</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">37.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">France</td>
<td style="text-align: right;">195.10</td>
<td style="text-align: right;">8.38</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">39.02</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">190.10</td>
<td style="text-align: right;">8.16</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">38.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Germany</td>
<td style="text-align: right;">156.48</td>
<td style="text-align: right;">6.72</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">39.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">United Kingdom</td>
<td style="text-align: right;">112.86</td>
<td style="text-align: right;">4.85</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">37.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Czech Republic</td>
<td style="text-align: right;">90.24</td>
<td style="text-align: right;">3.88</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">45.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">Portugal</td>
<td style="text-align: right;">77.24</td>
<td style="text-align: right;">3.32</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">38.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">India</td>
<td style="text-align: right;">75.26</td>
<td style="text-align: right;">3.23</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">37.63</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chile</td>
<td style="text-align: right;">46.62</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">46.62</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>Revenue is geographically concentrated, with a few countries dominating global totals.</p>
<ul>
<li>The United States alone accounts for a quarter of global revenue (22.46%).</li>
<li>The top five countries (USA, Canada, France, Brazil, Germany) contribute over half (58.77%) of global revenue.</li>
</ul>
<p><strong>Opportunity</strong>: Expanding to underrepresented regions could be a growth opportunity, if demand can be identified and activated.</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are different customer behavior patterns in each country.</p>
<ul>
<li>None of the top revenue-generating countries appear in the top five for <em>revenue-per-customer</em> (Chile, Hungary, Ireland, Czech Republic, Austria).</li>
<li>High total revenue countries likely have broad but less engaged customer bases.</li>
<li>High revenue per customer regions represent smaller but highly engaged audiences.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li>High total revenue countries are ideal for <em>retention and upselling</em> strategies.</li>
<li>High per-customer revenue countries are ideal for <em>acquisition-focused</em> campaigns.</li>
</ul>
</div>
</div>
<p>However, the <code>Customer</code> table also contained a <code>Country</code> field. Differences between billing and customer country could reflect travel, gift purchases, or mismatched contact vs.&nbsp;billing addresses.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Total Revenue by Country (Customer)</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    c.Country, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">SUM</span>(i.Total) <span class="kw">AS</span> TotalRevenue,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ROUND</span>(<span class="fu">SUM</span>(i.Total)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">SUM</span>(Total) <span class="kw">from</span> Invoice), <span class="dv">2</span>) <span class="kw">AS</span> PercentGlobalRevenue,</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> c.CustomerId) <span class="kw">AS</span> NumCustomers,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ROUND</span>(<span class="fu">SUM</span>(i.Total) <span class="op">/</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> c.CustomerId), <span class="dv">2</span>) <span class="kw">AS</span> RevenuePerCustomer</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> Customer c</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Invoice i <span class="kw">on</span> c.CustomerId <span class="op">==</span> i.CustomerId</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> c.Country</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co">-- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> TotalRevenue <span class="kw">DESC</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 16%">
<col style="width: 25%">
<col style="width: 16%">
<col style="width: 23%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: right;">TotalRevenue</th>
<th style="text-align: right;">PercentGlobalRevenue</th>
<th style="text-align: right;">NumCustomers</th>
<th style="text-align: right;">RevenuePerCustomer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">USA</td>
<td style="text-align: right;">523.06</td>
<td style="text-align: right;">22.46</td>
<td style="text-align: right;">13</td>
<td style="text-align: right;">40.24</td>
</tr>
<tr class="even">
<td style="text-align: left;">Canada</td>
<td style="text-align: right;">303.96</td>
<td style="text-align: right;">13.05</td>
<td style="text-align: right;">8</td>
<td style="text-align: right;">37.99</td>
</tr>
<tr class="odd">
<td style="text-align: left;">France</td>
<td style="text-align: right;">195.10</td>
<td style="text-align: right;">8.38</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">39.02</td>
</tr>
<tr class="even">
<td style="text-align: left;">Brazil</td>
<td style="text-align: right;">190.10</td>
<td style="text-align: right;">8.16</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">38.02</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Germany</td>
<td style="text-align: right;">156.48</td>
<td style="text-align: right;">6.72</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">39.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">United Kingdom</td>
<td style="text-align: right;">112.86</td>
<td style="text-align: right;">4.85</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">37.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Czech Republic</td>
<td style="text-align: right;">90.24</td>
<td style="text-align: right;">3.88</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">45.12</td>
</tr>
<tr class="even">
<td style="text-align: left;">Portugal</td>
<td style="text-align: right;">77.24</td>
<td style="text-align: right;">3.32</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">38.62</td>
</tr>
<tr class="odd">
<td style="text-align: left;">India</td>
<td style="text-align: right;">75.26</td>
<td style="text-align: right;">3.23</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">37.63</td>
</tr>
<tr class="even">
<td style="text-align: left;">Chile</td>
<td style="text-align: right;">46.62</td>
<td style="text-align: right;">2.00</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">46.62</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>To identify any countries with mismatched revenue attribution, the aggregated views were joined and compared.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Rows with discrepancies in Revenue by Country</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">-- (Billing vs Customer)</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">-- Revenue by Invoice.BillingCountry</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="kw">WITH</span> billing_country_revenue <span class="kw">AS</span> (</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>        BillingCountry <span class="kw">AS</span> Country,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>        <span class="fu">SUM</span>(Total) <span class="kw">AS</span> Revenue_Billing</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Invoice</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GROUP</span> <span class="kw">BY</span> BillingCountry</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>),</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="co">-- Revenue by Customer Country (joined from Invoice.Customer)</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>customer_country_revenue <span class="kw">AS</span> (</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> </span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>        c.Country <span class="kw">AS</span> Country,</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="fu">SUM</span>(i.Total) <span class="kw">AS</span> Revenue_Customer</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Invoice i</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="kw">JOIN</span> Customer c <span class="kw">ON</span> i.CustomerId <span class="op">=</span> c.CustomerId</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GROUP</span> <span class="kw">BY</span> c.Country</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a><span class="co">-- Join the aggregations into a single table (by Country)</span></span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">COALESCE</span>(b.Country, c.Country) <span class="kw">AS</span> Country,</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    b.Revenue_Billing,</span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    c.Revenue_Customer</span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> billing_country_revenue b</span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a><span class="kw">FULL</span> <span class="kw">OUTER</span> <span class="kw">JOIN</span> customer_country_revenue c</span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">ON</span> b.Country <span class="op">=</span> c.Country</span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a><span class="co">-- Select only rows where revenue differs by country source</span></span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span></span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  b.Revenue_Billing <span class="kw">IS</span> <span class="kw">DISTINCT</span> <span class="kw">FROM</span> c.Revenue_Customer</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> Country;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top">
<caption>0 records</caption>
<thead>
<tr class="header">
<th style="text-align: left;">Country</th>
<th style="text-align: right;">Revenue_Billing</th>
<th style="text-align: right;">Revenue_Customer</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>Billing and customer country match exactly in this data set, indicating no divergence due to travel, gifting, or alternate addresses. This simplifies location-based analysis but may also reflect a limitation in the data set’s realism.</p>
</div>
</div>
<section id="q1-vis" class="level2">
<h2 class="anchored" data-anchor-id="q1-vis">Exploratory Visualizations</h2>
<p>In preparation for exploratory visualization generation, the data is retrieved using SQL queries and prepared in both R and Python.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL Queries</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Yearly Breakdown</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>res_yearly_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  con_chinook, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Get Country and Year for grouping</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="st">    i.BillingCountry as Country, </span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="st">    YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate Total Revenue</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(i.Total) AS TotalRevenue,</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate % of Total/Global Revenue</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(i.Total)*100.0 / (SELECT SUM(Total) from Invoice), 2) AS PercentGlobalRevenue,</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Get Number of Customers</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(DISTINCT c.CustomerId) AS NumCustomers,</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate Revenue per Customer</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(i.Total) / COUNT(DISTINCT c.CustomerId), 2) AS RevenuePerCustomer</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="st">FROM Customer c</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on c.CustomerId == i.CustomerId</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY i.BillingCountry, Year</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="st">-- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a><span class="do">## Total (all years)</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>res_agg_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  con_chinook, </span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Get Country for grouping</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a><span class="st">    i.BillingCountry as Country,</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Set 'Year' to 'All' for grouping</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a><span class="st">    'All' AS Year,</span></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate Total Revenue</span></span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a><span class="st">    SUM(i.Total) AS TotalRevenue,</span></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate % of Total/Global Revenue</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(i.Total)*100.0 / (SELECT SUM(Total) from Invoice), 2) AS PercentGlobalRevenue,</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Get Number of Customers</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a><span class="st">    COUNT(DISTINCT c.CustomerId) AS NumCustomers,</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a><span class="st">    -- Calculate Revenue per Customer</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a><span class="st">    ROUND(SUM(i.Total) / COUNT(DISTINCT c.CustomerId), 2) AS RevenuePerCustomer</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a><span class="st">FROM Customer c</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on c.CustomerId == i.CustomerId</span></span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY i.BillingCountry,</span></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a><span class="st">-- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames in R</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>res_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  res_agg_df,</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  res_yearly_df <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.character</span>(Year))</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Add ISO Country Codes</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">iso_alpha =</span> countrycode<span class="sc">::</span><span class="fu">countrycode</span>(</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>      Country, </span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>      <span class="at">origin =</span> <span class="st">'country.name'</span>, </span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>      <span class="at">destination =</span> <span class="st">'iso3c'</span></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>    <span class="do">## Format Hover Text (&lt;b&gt;Country:&lt;/b&gt;&lt;br&gt; $TotalRevenue.##")</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">hover_text =</span> <span class="fu">paste0</span>(</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;"</span>, Country, <span class="st">":&lt;/b&gt;&lt;br&gt; $"</span>,</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(TotalRevenue, <span class="at">format =</span> <span class="st">'f'</span>, <span class="at">big.mark =</span><span class="st">",'"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Get vector of unique years (layers/traces) - order with "All" first.</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"All"</span>, <span class="fu">sort</span>(<span class="fu">unique</span>(res_yearly_df<span class="sc">$</span>Year)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL Queries</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Yearly Breakdown</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>res_yearly_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""SELECT </span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Get Country and Year for grouping</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="st">      i.BillingCountry as Country, </span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="st">      YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate Total Revenue</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="st">      SUM(i.Total) AS TotalRevenue,</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate </span><span class="sc">% o</span><span class="st">f Total/Global Revenue</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="st">      ROUND(SUM(i.Total)*100.0 / (SELECT SUM(Total) from Invoice), 2) AS PercentGlobalRevenue,</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Get Number of Customers</span></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(DISTINCT c.CustomerId) AS NumCustomers,</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate Revenue per Customer</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="st">      ROUND(SUM(i.Total) / COUNT(DISTINCT c.CustomerId), 2) AS RevenuePerCustomer</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM Customer c</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN Invoice i on c.CustomerId == i.CustomerId</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY i.BillingCountry, Year</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a><span class="st">  ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a><span class="co">## Total (all years)</span></span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>res_agg_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"""SELECT </span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Get Country for grouping</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a><span class="st">      i.BillingCountry as Country,</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Set 'Year' to 'All' for grouping</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a><span class="st">      'All' AS Year,</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate Total Revenue</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a><span class="st">      SUM(i.Total) AS TotalRevenue,</span></span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate </span><span class="sc">% o</span><span class="st">f Total/Global Revenue</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a><span class="st">      ROUND(SUM(i.Total)*100.0 / (SELECT SUM(Total) from Invoice), 2) AS PercentGlobalRevenue,</span></span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Get Number of Customers</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(DISTINCT c.CustomerId) AS NumCustomers,</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a><span class="st">      -- Calculate Revenue per Customer</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a><span class="st">      ROUND(SUM(i.Total) / COUNT(DISTINCT c.CustomerId), 2) AS RevenuePerCustomer</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a><span class="st">  FROM Customer c</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a><span class="st">  JOIN Invoice i on c.CustomerId == i.CustomerId</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a><span class="st">  GROUP BY i.BillingCountry,</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Sort Revenue (Highest to Lowest)</span></span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a><span class="st">  ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames and ensure consistent types</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>res_df <span class="op">=</span> pd.concat([</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>  res_agg_df,</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>  res_yearly_df.assign(Year<span class="op">=</span>res_yearly_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>))</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>  ], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a><span class="co"># Add ISO Country Codes</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_iso_alpha3(country_name):</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a> <span class="cf">try</span>:</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>   match <span class="op">=</span> pycountry.countries.search_fuzzy(country_name)</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>   <span class="cf">return</span> match[<span class="dv">0</span>].alpha_3</span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a> <span class="cf">except</span> <span class="pp">LookupError</span>:</span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>   <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>res_df[<span class="st">'iso_alpha'</span>] <span class="op">=</span> res_df[<span class="st">'Country'</span>].<span class="bu">apply</span>(get_iso_alpha3)</span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique years (layers/traces) - order with "All" first.</span></span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> [<span class="st">"All"</span>] <span class="op">+</span> <span class="bu">sorted</span>(res_df[res_df[<span class="st">'Year'</span>] <span class="op">!=</span> <span class="st">'All'</span>][<span class="st">'Year'</span>].unique().tolist())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<section id="q1-vis-rev-by-country" class="level3">
<h3 class="anchored" data-anchor-id="q1-vis-rev-by-country">Total Revenue: Choropleth by Country</h3>
<p>Total revenue per country across the entire data set was visualized with a Choropeth plot.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Hover Text (&lt;b&gt;Country:&lt;/b&gt;&lt;br&gt; $TotalRevenue.##")</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>res_df <span class="ot">&lt;-</span> res_df <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hover_text =</span> <span class="fu">paste0</span>(</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;"</span>, Country, <span class="st">":&lt;/b&gt;&lt;br&gt; $"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(TotalRevenue, <span class="at">format =</span> <span class="st">'f'</span>, <span class="at">big.mark =</span><span class="st">",'"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get minimum and maximum values for TotalRevenue (Colorbar consistency)</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>z_min_val <span class="ot">&lt;-</span> <span class="fu">min</span>(res_df<span class="sc">$</span>TotalRevenue, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>z_max_val <span class="ot">&lt;-</span> <span class="fu">max</span>(res_df<span class="sc">$</span>TotalRevenue, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plotly Choropleth</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> res_df,</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'choropleth'</span>,</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> <span class="sc">~</span>iso_alpha,</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="sc">~</span>TotalRevenue,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set hover text to only display our desired, formatted output</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span>hover_text,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="sc">~</span>Year,</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set minimum and maximum TotalRevenue values, for consistent scale</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">zmin =</span> z_min_val,</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">zmax =</span> z_max_val,</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Title Colorbar/Legend</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">colorbar =</span> <span class="fu">list</span>(</span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Revenue (USD$)"</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color-blind friendly color scale</span></span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">colorscale =</span> <span class="st">"Viridis"</span>,</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">reversescale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">showscale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Give national boundaries a dark gray outline</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"darkgrey"</span>, <span class="at">width =</span> <span class="fl">0.5</span>))</span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout with animation controls</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">layout</span>(</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="st">"Total Revenue by Country &lt;br&gt; 2009-01-01 to 2013-12-22"</span>,</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fl">0.5</span>,</span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">xanchor =</span> <span class="st">"center"</span>,</span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">18</span>)</span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">geo =</span> <span class="fu">list</span>(</span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add a neat little frame around the world</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">showframe =</span> <span class="cn">TRUE</span>, </span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add coast lines - ensures countries that aren't in data are seen</span></span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">showcoastlines =</span> <span class="cn">TRUE</span>, </span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Use natural earth projection</span></span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">projection =</span> <span class="fu">list</span>(<span class="at">type =</span> <span class="st">'natural earth'</span>)</span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">updatemenus =</span> <span class="fu">list</span>(</span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"dropdown"</span>,</span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">showactive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">buttons =</span> purrr<span class="sc">::</span><span class="fu">map</span>(years, <span class="cf">function</span>(yr) {</span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>          <span class="fu">list</span>(</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">"animate"</span>,</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>            <span class="at">args =</span> <span class="fu">list</span>(<span class="fu">list</span>(yr), <span class="fu">list</span>(<span class="at">mode =</span> <span class="st">"immediate"</span>, <span class="at">frame =</span> <span class="fu">list</span>(<span class="at">duration =</span> <span class="dv">0</span>, <span class="at">redraw =</span> <span class="cn">TRUE</span>))),</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>            <span class="at">label =</span> yr</span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>        }),</span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Positioning of dropdown menu</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">0.1</span>,</span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fl">1.15</span>,</span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">xanchor =</span> <span class="st">"left"</span>,</span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">yanchor =</span> <span class="st">"top"</span></span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">80</span>)</span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1000</span>, <span class="at">transition =</span> <span class="dv">0</span>, <span class="at">redraw =</span> <span class="cn">TRUE</span>)</span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Display interactive plot</span></span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-532352835694bd9e3943" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-532352835694bd9e3943">{"x":{"visdat":{"8c581f2e2f0e":["function () ","plotlyVisDat"]},"cur_data":"8c581f2e2f0e","attrs":{"8c581f2e2f0e":{"locations":{},"z":{},"text":{},"hoverinfo":"text","zmin":0.98999999999999999,"zmax":523.06000000000029,"colorbar":{"title":"Total Revenue (USD$)"},"colorscale":"Viridis","reversescale":true,"showscale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":80,"r":10},"title":{"text":"Total Revenue by Country <br> 2009-01-01 to 2013-12-22","x":0.5,"xanchor":"center","font":{"size":18}},"geo":{"showframe":true,"showcoastlines":true,"projection":{"type":"natural earth"}},"updatemenus":[{"type":"dropdown","showactive":true,"buttons":[{"method":"animate","args":[["All"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"All"},{"method":"animate","args":[["2009"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2009"},{"method":"animate","args":[["2010"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2010"},{"method":"animate","args":[["2011"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2011"},{"method":"animate","args":[["2012"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2012"},{"method":"animate","args":[["2013"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2013"}],"x":0.10000000000000001,"y":1.1499999999999999,"xanchor":"left","yanchor":"top"},{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true}}]}]}],"scene":{"zaxis":{"title":"TotalRevenue"}},"hovermode":"closest","showlegend":false,"sliders":[{"currentvalue":{"prefix":"Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["2009"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2009","value":"2009"},{"method":"animate","args":[["2010"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2010","value":"2010"},{"method":"animate","args":[["2011"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2011","value":"2011"},{"method":"animate","args":[["2012"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2012","value":"2012"},{"method":"animate","args":[["2013"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["All"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"All","value":"All"}],"visible":true,"pad":{"t":40}}],"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","BRA","FRA","GBR","POL","CHL","PRT","AUS","CZE","NOR","IND","NLD","FIN","IRL","BEL","SWE","DNK","AUT","ITA","ESP"],"z":[103.94999999999999,57.419999999999995,53.459999999999994,37.619999999999997,35.640000000000001,25.740000000000002,15.84,15.84,11.879999999999999,11.879999999999999,10.890000000000001,10.890000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,6.9300000000000006,6.9300000000000006,5.9399999999999995,5.9399999999999995,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $103.95","<b>Canada:<\/b><br> $57.42","<b>Germany:<\/b><br> $53.46","<b>Brazil:<\/b><br> $37.62","<b>France:<\/b><br> $35.64","<b>United Kingdom:<\/b><br> $25.74","<b>Poland:<\/b><br> $15.84","<b>Chile:<\/b><br> $15.84","<b>Portugal:<\/b><br> $11.88","<b>Australia:<\/b><br> $11.88","<b>Czech Republic:<\/b><br> $10.89","<b>Norway:<\/b><br> $10.89","<b>India:<\/b><br> $9.90","<b>Netherlands:<\/b><br> $8.91","<b>Finland:<\/b><br> $8.91","<b>Ireland:<\/b><br> $6.93","<b>Belgium:<\/b><br> $6.93","<b>Sweden:<\/b><br> $5.94","<b>Denmark:<\/b><br> $5.94","<b>Austria:<\/b><br> $1.98","<b>Italy:<\/b><br> $1.98","<b>Spain:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2009","type":"choropleth","visible":true}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"2009","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","BRA","FRA","GBR","POL","CHL","PRT","AUS","CZE","NOR","IND","NLD","FIN","IRL","BEL","SWE","DNK","AUT","ITA","ESP"],"z":[103.94999999999999,57.419999999999995,53.459999999999994,37.619999999999997,35.640000000000001,25.740000000000002,15.84,15.84,11.879999999999999,11.879999999999999,10.890000000000001,10.890000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,6.9300000000000006,6.9300000000000006,5.9399999999999995,5.9399999999999995,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $103.95","<b>Canada:<\/b><br> $57.42","<b>Germany:<\/b><br> $53.46","<b>Brazil:<\/b><br> $37.62","<b>France:<\/b><br> $35.64","<b>United Kingdom:<\/b><br> $25.74","<b>Poland:<\/b><br> $15.84","<b>Chile:<\/b><br> $15.84","<b>Portugal:<\/b><br> $11.88","<b>Australia:<\/b><br> $11.88","<b>Czech Republic:<\/b><br> $10.89","<b>Norway:<\/b><br> $10.89","<b>India:<\/b><br> $9.90","<b>Netherlands:<\/b><br> $8.91","<b>Finland:<\/b><br> $8.91","<b>Ireland:<\/b><br> $6.93","<b>Belgium:<\/b><br> $6.93","<b>Sweden:<\/b><br> $5.94","<b>Denmark:<\/b><br> $5.94","<b>Austria:<\/b><br> $1.98","<b>Italy:<\/b><br> $1.98","<b>Spain:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2009","type":"choropleth","visible":true}],"traces":[0]},{"name":"2010","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","BRA","FRA","HUN","GBR","AUT","DEU","CHL","IND","ARG","ITA","CZE","POL","SWE","DNK","PRT","NLD","ESP","AUS"],"z":[102.97999999999999,76.259999999999991,41.600000000000001,39.599999999999994,32.75,30.690000000000001,27.77,25.740000000000002,17.91,17.829999999999998,11.879999999999999,10.890000000000001,9.9000000000000004,8.9100000000000001,7.9300000000000006,6.9300000000000006,6.9299999999999997,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $102.98","<b>Canada:<\/b><br> $76.26","<b>Brazil:<\/b><br> $41.60","<b>France:<\/b><br> $39.60","<b>Hungary:<\/b><br> $32.75","<b>United Kingdom:<\/b><br> $30.69","<b>Austria:<\/b><br> $27.77","<b>Germany:<\/b><br> $25.74","<b>Chile:<\/b><br> $17.91","<b>India:<\/b><br> $17.83","<b>Argentina:<\/b><br> $11.88","<b>Italy:<\/b><br> $10.89","<b>Czech Republic:<\/b><br> $9.90","<b>Poland:<\/b><br> $8.91","<b>Sweden:<\/b><br> $7.93","<b>Denmark:<\/b><br> $6.93","<b>Portugal:<\/b><br> $6.93","<b>Netherlands:<\/b><br> $1.98","<b>Spain:<\/b><br> $1.98","<b>Australia:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2010","type":"choropleth","visible":true}],"traces":[0]},{"name":"2011","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","FRA","IRL","BEL","IND","ESP","BRA","NOR","GBR","FIN","NLD","CZE","PRT","CHL","AUS","ARG"],"z":[103.00999999999999,55.439999999999998,48.57,42.609999999999999,32.75,24.75,24.75,22.77,19.800000000000001,17.84,17.82,15.879999999999999,12.899999999999999,12.870000000000001,8.9100000000000001,5.9399999999999995,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $103.01","<b>Canada:<\/b><br> $55.44","<b>Germany:<\/b><br> $48.57","<b>France:<\/b><br> $42.61","<b>Ireland:<\/b><br> $32.75","<b>Belgium:<\/b><br> $24.75","<b>India:<\/b><br> $24.75","<b>Spain:<\/b><br> $22.77","<b>Brazil:<\/b><br> $19.80","<b>Norway:<\/b><br> $17.84","<b>United Kingdom:<\/b><br> $17.82","<b>Finland:<\/b><br> $15.88","<b>Netherlands:<\/b><br> $12.90","<b>Czech Republic:<\/b><br> $12.87","<b>Portugal:<\/b><br> $8.91","<b>Chile:<\/b><br> $5.94","<b>Australia:<\/b><br> $1.98","<b>Argentina:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2011","type":"choropleth","visible":true}],"traces":[0]},{"name":"2012","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","BRA","CAN","FRA","PRT","SWE","AUS","CZE","DEU","ITA","DNK","POL","HUN","AUT","IND","GBR","NOR","CHL","NLD","FIN"],"z":[127.97999999999999,53.460000000000001,42.57,36.659999999999997,24.77,24.75,22.77,19.829999999999998,18.810000000000002,15.84,15.84,11.879999999999999,11.879999999999999,11.879999999999999,10.890000000000001,9.9000000000000004,8.9100000000000001,6.9300000000000006,0.98999999999999999,0.98999999999999999],"text":["<b>USA:<\/b><br> $127.98","<b>Brazil:<\/b><br> $53.46","<b>Canada:<\/b><br> $42.57","<b>France:<\/b><br> $36.66","<b>Portugal:<\/b><br> $24.77","<b>Sweden:<\/b><br> $24.75","<b>Australia:<\/b><br> $22.77","<b>Czech Republic:<\/b><br> $19.83","<b>Germany:<\/b><br> $18.81","<b>Italy:<\/b><br> $15.84","<b>Denmark:<\/b><br> $15.84","<b>Poland:<\/b><br> $11.88","<b>Hungary:<\/b><br> $11.88","<b>Austria:<\/b><br> $11.88","<b>India:<\/b><br> $10.89","<b>United Kingdom:<\/b><br> $9.90","<b>Norway:<\/b><br> $8.91","<b>Chile:<\/b><br> $6.93","<b>Netherlands:<\/b><br> $0.99","<b>Finland:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2012","type":"choropleth","visible":true}],"traces":[0]},{"name":"2013","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","FRA","BRA","CZE","GBR","ARG","PRT","NLD","FIN","IND","ESP","DEU","ITA","DNK","IRL","BEL","NOR","POL","HUN","AUT"],"z":[85.140000000000001,72.269999999999982,40.590000000000003,37.619999999999997,36.75,28.710000000000001,24.75,24.75,15.84,15.84,11.890000000000001,11.879999999999999,9.9000000000000004,8.9100000000000001,8.9100000000000001,5.9399999999999995,5.9399999999999995,1.98,0.98999999999999999,0.98999999999999999,0.98999999999999999],"text":["<b>USA:<\/b><br> $85.14","<b>Canada:<\/b><br> $72.27","<b>France:<\/b><br> $40.59","<b>Brazil:<\/b><br> $37.62","<b>Czech Republic:<\/b><br> $36.75","<b>United Kingdom:<\/b><br> $28.71","<b>Argentina:<\/b><br> $24.75","<b>Portugal:<\/b><br> $24.75","<b>Netherlands:<\/b><br> $15.84","<b>Finland:<\/b><br> $15.84","<b>India:<\/b><br> $11.89","<b>Spain:<\/b><br> $11.88","<b>Germany:<\/b><br> $9.90","<b>Italy:<\/b><br> $8.91","<b>Denmark:<\/b><br> $8.91","<b>Ireland:<\/b><br> $5.94","<b>Belgium:<\/b><br> $5.94","<b>Norway:<\/b><br> $1.98","<b>Poland:<\/b><br> $0.99","<b>Hungary:<\/b><br> $0.99","<b>Austria:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2013","type":"choropleth","visible":true}],"traces":[0]},{"name":"All","data":[{"colorbar":{"title":"Total Revenue (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","ARG","DNK","ITA","POL","AUS","ESP","BEL"],"z":[523.06000000000029,303.95999999999992,195.09999999999994,190.09999999999997,156.47999999999999,112.85999999999999,90.240000000000009,77.239999999999981,75.259999999999991,46.619999999999997,45.619999999999997,45.619999999999997,42.619999999999997,41.620000000000005,40.619999999999997,39.619999999999997,38.620000000000005,37.620000000000005,37.620000000000005,37.620000000000005,37.620000000000005,37.620000000000005,37.619999999999997,37.619999999999997],"text":["<b>USA:<\/b><br> $523.06","<b>Canada:<\/b><br> $303.96","<b>France:<\/b><br> $195.10","<b>Brazil:<\/b><br> $190.10","<b>Germany:<\/b><br> $156.48","<b>United Kingdom:<\/b><br> $112.86","<b>Czech Republic:<\/b><br> $90.24","<b>Portugal:<\/b><br> $77.24","<b>India:<\/b><br> $75.26","<b>Chile:<\/b><br> $46.62","<b>Hungary:<\/b><br> $45.62","<b>Ireland:<\/b><br> $45.62","<b>Austria:<\/b><br> $42.62","<b>Finland:<\/b><br> $41.62","<b>Netherlands:<\/b><br> $40.62","<b>Norway:<\/b><br> $39.62","<b>Sweden:<\/b><br> $38.62","<b>Argentina:<\/b><br> $37.62","<b>Denmark:<\/b><br> $37.62","<b>Italy:<\/b><br> $37.62","<b>Poland:<\/b><br> $37.62","<b>Australia:<\/b><br> $37.62","<b>Spain:<\/b><br> $37.62","<b>Belgium:<\/b><br> $37.62"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":523.06000000000029,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"All","type":"choropleth","visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify hover text</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>res_df[<span class="st">'hover_text'</span>] <span class="op">=</span> res_df.<span class="bu">apply</span>( <span class="op">\</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">lambda</span> row: <span class="ss">f"&lt;b&gt;</span><span class="sc">{</span>row[<span class="st">'Country'</span>]<span class="sc">}</span><span class="ss">&lt;/b&gt;&lt;br&gt; $</span><span class="sc">{</span>row[<span class="st">'TotalRevenue'</span>]<span class="sc">:.2f}</span><span class="ss">"</span>, axis <span class="op">=</span> <span class="dv">1</span> <span class="op">\</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Get maximum and minimum TotalRevenue values (consistent scale)</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>z_min_val <span class="op">=</span> res_df[<span class="st">'TotalRevenue'</span>].<span class="bu">min</span>()</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>z_max_val <span class="op">=</span> res_df[<span class="st">'TotalRevenue'</span>].<span class="bu">max</span>()</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create frames (one per year, and aggregate)</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>frames <span class="op">=</span> []</span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> years:</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>  df_year <span class="op">=</span> res_df[res_df[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>  frames.append(go.Frame(</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> <span class="bu">str</span>(year),</span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> [go.Choropleth(</span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>      locations <span class="op">=</span> df_year[<span class="st">'iso_alpha'</span>],</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>      z <span class="op">=</span> df_year[<span class="st">'TotalRevenue'</span>],</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>      zmin <span class="op">=</span> z_min_val,</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>      zmax <span class="op">=</span> z_max_val,</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>      text <span class="op">=</span> df_year[<span class="st">'hover_text'</span>],</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>      hoverinfo <span class="op">=</span> <span class="st">'text'</span>,</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Color-blind friendly color scale (reversed: darker with higher revenues)</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>      colorscale <span class="op">=</span> <span class="st">'Viridis_r'</span>,</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Give national boundaries a dark grey outline</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>      marker <span class="op">=</span> <span class="bu">dict</span>(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkgrey'</span>, width<span class="op">=</span><span class="fl">0.5</span>))</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    )]</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a><span class="co"># First frame (initial state)</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>init_df <span class="op">=</span> res_df[res_df[<span class="st">'Year'</span>] <span class="op">==</span> <span class="st">'All'</span>]</span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plotly Choropleth</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(</span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>  data<span class="op">=</span>[go.Choropleth(</span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>        locations<span class="op">=</span>init_df[<span class="st">'iso_alpha'</span>],</span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>init_df[<span class="st">'TotalRevenue'</span>],</span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>init_df[<span class="st">'hover_text'</span>],</span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>        hoverinfo<span class="op">=</span><span class="st">'text'</span>,</span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Color-blind friendly color scale (reversed: darker with higher revenues)</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span><span class="st">'Viridis_r'</span>,</span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span>z_min_val,</span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span>z_max_val,</span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Give national boundaries a dark grey outline</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkgrey'</span>, width<span class="op">=</span><span class="fl">0.5</span>)),</span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Title Colorbar/Legend</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>        colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Total Revenue (USD$)'</span>)</span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>    )],</span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>    frames<span class="op">=</span>frames</span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Layout with Animation Controls</span></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="st">"Total Revenue by Country &lt;br&gt; 2009-01-01 to 2013-12-22"</span>,</span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>    xanchor <span class="op">=</span> <span class="st">'center'</span>,</span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>    font <span class="op">=</span> <span class="bu">dict</span>(size<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>  margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>),</span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Frame and view</span></span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>  geo <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Show countries and boundaries</span></span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>    showcountries <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Give national boundaries a dark gray outline</span></span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a>    countrycolor<span class="op">=</span><span class="st">"darkgrey"</span>,</span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add coast lines - ensure countries that aren't in data are seen</span></span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a>    showcoastlines <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a>    coastlinecolor <span class="op">=</span> <span class="st">"gray"</span>,</span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>    <span class="co">#  Ad a neat little frame around the world</span></span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a>    showframe <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a>    framecolor <span class="op">=</span> <span class="st">"black"</span>,</span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use natural earth projection</span></span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a>    projection_type <span class="op">=</span> <span class="st">"natural earth"</span></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Buttons/Menus</span></span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a>  updatemenus <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Play/Pause</span></span>
<span id="cb13-80"><a href="#cb13-80" aria-hidden="true" tabindex="-1"></a>        <span class="co"># First button active by default (yr == "All")</span></span>
<span id="cb13-81"><a href="#cb13-81" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span> <span class="op">=</span> <span class="st">"buttons"</span>,</span>
<span id="cb13-82"><a href="#cb13-82" aria-hidden="true" tabindex="-1"></a>        direction <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb13-83"><a href="#cb13-83" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb13-84"><a href="#cb13-84" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb13-85"><a href="#cb13-85" aria-hidden="true" tabindex="-1"></a>        showactive <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb13-86"><a href="#cb13-86" aria-hidden="true" tabindex="-1"></a>        xanchor <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb13-87"><a href="#cb13-87" aria-hidden="true" tabindex="-1"></a>        yanchor <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span id="cb13-88"><a href="#cb13-88" aria-hidden="true" tabindex="-1"></a>        pad <span class="op">=</span> <span class="bu">dict</span>(r <span class="op">=</span> <span class="dv">10</span>, t <span class="op">=</span> <span class="dv">70</span>),</span>
<span id="cb13-89"><a href="#cb13-89" aria-hidden="true" tabindex="-1"></a>        buttons <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb13-90"><a href="#cb13-90" aria-hidden="true" tabindex="-1"></a>          label <span class="op">=</span> <span class="st">"Play"</span>,</span>
<span id="cb13-91"><a href="#cb13-91" aria-hidden="true" tabindex="-1"></a>          method <span class="op">=</span> <span class="st">"animate"</span>,</span>
<span id="cb13-92"><a href="#cb13-92" aria-hidden="true" tabindex="-1"></a>          args <span class="op">=</span> [<span class="va">None</span>, {</span>
<span id="cb13-93"><a href="#cb13-93" aria-hidden="true" tabindex="-1"></a>            <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">1000</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb13-94"><a href="#cb13-94" aria-hidden="true" tabindex="-1"></a>            <span class="st">"fromcurrent"</span>: <span class="va">True</span>,</span>
<span id="cb13-95"><a href="#cb13-95" aria-hidden="true" tabindex="-1"></a>            <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">300</span>, <span class="st">"easing"</span>: <span class="st">"quadratic-in-out"</span>}</span>
<span id="cb13-96"><a href="#cb13-96" aria-hidden="true" tabindex="-1"></a>          }]</span>
<span id="cb13-97"><a href="#cb13-97" aria-hidden="true" tabindex="-1"></a>        ), <span class="bu">dict</span>(</span>
<span id="cb13-98"><a href="#cb13-98" aria-hidden="true" tabindex="-1"></a>          label <span class="op">=</span> <span class="st">"Pause"</span>,</span>
<span id="cb13-99"><a href="#cb13-99" aria-hidden="true" tabindex="-1"></a>          method <span class="op">=</span> <span class="st">"animate"</span>,</span>
<span id="cb13-100"><a href="#cb13-100" aria-hidden="true" tabindex="-1"></a>          args<span class="op">=</span>[[<span class="va">None</span>], {<span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>}, <span class="st">"mode"</span>: <span class="st">"immediate"</span>}] </span>
<span id="cb13-101"><a href="#cb13-101" aria-hidden="true" tabindex="-1"></a>          )] </span>
<span id="cb13-102"><a href="#cb13-102" aria-hidden="true" tabindex="-1"></a>      )] <span class="op">+</span></span>
<span id="cb13-103"><a href="#cb13-103" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Year Dropdown Menu</span></span>
<span id="cb13-104"><a href="#cb13-104" aria-hidden="true" tabindex="-1"></a>    [<span class="bu">dict</span>(</span>
<span id="cb13-105"><a href="#cb13-105" aria-hidden="true" tabindex="-1"></a>      <span class="bu">type</span><span class="op">=</span><span class="st">"dropdown"</span>,</span>
<span id="cb13-106"><a href="#cb13-106" aria-hidden="true" tabindex="-1"></a>      x <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb13-107"><a href="#cb13-107" aria-hidden="true" tabindex="-1"></a>      y <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span id="cb13-108"><a href="#cb13-108" aria-hidden="true" tabindex="-1"></a>      xanchor<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb13-109"><a href="#cb13-109" aria-hidden="true" tabindex="-1"></a>      yanchor<span class="op">=</span><span class="st">"top"</span>,</span>
<span id="cb13-110"><a href="#cb13-110" aria-hidden="true" tabindex="-1"></a>      showactive<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb13-111"><a href="#cb13-111" aria-hidden="true" tabindex="-1"></a>      buttons<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb13-112"><a href="#cb13-112" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb13-113"><a href="#cb13-113" aria-hidden="true" tabindex="-1"></a>        method<span class="op">=</span><span class="st">"animate"</span>,</span>
<span id="cb13-114"><a href="#cb13-114" aria-hidden="true" tabindex="-1"></a>        args<span class="op">=</span>[</span>
<span id="cb13-115"><a href="#cb13-115" aria-hidden="true" tabindex="-1"></a>            [<span class="bu">str</span>(year)],</span>
<span id="cb13-116"><a href="#cb13-116" aria-hidden="true" tabindex="-1"></a>            {<span class="st">"mode"</span>: <span class="st">"immediate"</span>,</span>
<span id="cb13-117"><a href="#cb13-117" aria-hidden="true" tabindex="-1"></a>             <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb13-118"><a href="#cb13-118" aria-hidden="true" tabindex="-1"></a>             <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>}}</span>
<span id="cb13-119"><a href="#cb13-119" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb13-120"><a href="#cb13-120" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> year <span class="kw">in</span> years]</span>
<span id="cb13-121"><a href="#cb13-121" aria-hidden="true" tabindex="-1"></a>  )],</span>
<span id="cb13-122"><a href="#cb13-122" aria-hidden="true" tabindex="-1"></a>  sliders <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb13-123"><a href="#cb13-123" aria-hidden="true" tabindex="-1"></a>      active <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb13-124"><a href="#cb13-124" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Positioning of slider menu</span></span>
<span id="cb13-125"><a href="#cb13-125" aria-hidden="true" tabindex="-1"></a>      x <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb13-126"><a href="#cb13-126" aria-hidden="true" tabindex="-1"></a>      y <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span id="cb13-127"><a href="#cb13-127" aria-hidden="true" tabindex="-1"></a>      <span class="bu">len</span> <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb13-128"><a href="#cb13-128" aria-hidden="true" tabindex="-1"></a>      xanchor <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb13-129"><a href="#cb13-129" aria-hidden="true" tabindex="-1"></a>      yanchor <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span id="cb13-130"><a href="#cb13-130" aria-hidden="true" tabindex="-1"></a>      pad <span class="op">=</span> <span class="bu">dict</span>(t<span class="op">=</span> <span class="dv">30</span>, b<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb13-131"><a href="#cb13-131" aria-hidden="true" tabindex="-1"></a>      currentvalue <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb13-132"><a href="#cb13-132" aria-hidden="true" tabindex="-1"></a>        visible <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb13-133"><a href="#cb13-133" aria-hidden="true" tabindex="-1"></a>        prefix <span class="op">=</span> <span class="st">"Year: "</span>,</span>
<span id="cb13-134"><a href="#cb13-134" aria-hidden="true" tabindex="-1"></a>        xanchor <span class="op">=</span> <span class="st">"right"</span>,</span>
<span id="cb13-135"><a href="#cb13-135" aria-hidden="true" tabindex="-1"></a>        font <span class="op">=</span> <span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, color <span class="op">=</span> <span class="st">"#666"</span>)</span>
<span id="cb13-136"><a href="#cb13-136" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb13-137"><a href="#cb13-137" aria-hidden="true" tabindex="-1"></a>    steps <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb13-138"><a href="#cb13-138" aria-hidden="true" tabindex="-1"></a>      method <span class="op">=</span> <span class="st">'animate'</span>,</span>
<span id="cb13-139"><a href="#cb13-139" aria-hidden="true" tabindex="-1"></a>      args <span class="op">=</span>[[<span class="bu">str</span>(year)], {</span>
<span id="cb13-140"><a href="#cb13-140" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"immediate"</span>,</span>
<span id="cb13-141"><a href="#cb13-141" aria-hidden="true" tabindex="-1"></a>        <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">1000</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb13-142"><a href="#cb13-142" aria-hidden="true" tabindex="-1"></a>        <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">300</span>}</span>
<span id="cb13-143"><a href="#cb13-143" aria-hidden="true" tabindex="-1"></a>        }],</span>
<span id="cb13-144"><a href="#cb13-144" aria-hidden="true" tabindex="-1"></a>        label <span class="op">=</span> <span class="bu">str</span>(year) </span>
<span id="cb13-145"><a href="#cb13-145" aria-hidden="true" tabindex="-1"></a>      ) <span class="cf">for</span> year <span class="kw">in</span> years]</span>
<span id="cb13-146"><a href="#cb13-146" aria-hidden="true" tabindex="-1"></a>    )] </span>
<span id="cb13-147"><a href="#cb13-147" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb13-148"><a href="#cb13-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-149"><a href="#cb13-149" aria-hidden="true" tabindex="-1"></a><span class="co"># Display interactive plot</span></span>
<span id="cb13-150"><a href="#cb13-150" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="5ee67802-9727-4984-b94d-97dcd06bbe27" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("5ee67802-9727-4984-b94d-97dcd06bbe27")) {                    Plotly.newPlot(                        "5ee67802-9727-4984-b94d-97dcd06bbe27",                        [{"colorbar":{"title":{"text":"Total Revenue (USD$)"}},"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","AUS","DNK","ITA","POL","ARG","BEL","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $523.06","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $303.96","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $195.10","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $190.10","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $156.48","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $112.86","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $90.24","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $77.24","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $75.26","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $46.62","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $42.62","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $41.62","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $40.62","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $39.62","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $37.62"],"z":{"dtype":"f8","bdata":"F65H4XpYgECOwvUoXP9yQDEzMzMzY2hAMjMzMzPDZ0CPwvUoXI9jQNajcD0KN1xAkML1KFyPVkCOwvUoXE9TQHA9Ctej0FJAj8L1KFxPR0CPwvUoXM9GQI\u002fC9Shcz0ZAj8L1KFxPRUCQwvUoXM9EQI\u002fC9ShcT0RAj8L1KFzPQ0CQwvUoXE9DQJDC9Shcz0JAkML1KFzPQkCQwvUoXM9CQJDC9Shcz0JAkML1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JA"},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"font":{"size":18},"text":"Total Revenue by Country \u003cbr\u003e 2009-01-01 to 2013-12-22","x":0.5,"xanchor":"center"},"margin":{"t":80},"geo":{"projection":{"type":"natural earth"},"showcountries":true,"countrycolor":"darkgrey","showcoastlines":true,"coastlinecolor":"gray","showframe":true,"framecolor":"black"},"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":1000,"redraw":true},"fromcurrent":true,"transition":{"duration":300,"easing":"quadratic-in-out"}}],"label":"Play","method":"animate"},{"args":[[null],{"frame":{"duration":0},"mode":"immediate"}],"label":"Pause","method":"animate"}],"direction":"left","pad":{"r":10,"t":70},"showactive":false,"type":"buttons","x":0,"xanchor":"left","y":0,"yanchor":"bottom"},{"buttons":[{"args":[["All"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"All","method":"animate"},{"args":[["2009"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2009","method":"animate"},{"args":[["2010"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2010","method":"animate"},{"args":[["2011"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2011","method":"animate"},{"args":[["2012"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2012","method":"animate"},{"args":[["2013"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2013","method":"animate"}],"showactive":true,"type":"dropdown","x":0.1,"xanchor":"left","y":1.15,"yanchor":"top"}],"sliders":[{"active":0,"currentvalue":{"font":{"color":"#666","size":14},"prefix":"Year: ","visible":true,"xanchor":"right"},"len":0.8,"pad":{"b":10,"t":30},"steps":[{"args":[["All"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"All","method":"animate"},{"args":[["2009"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2009","method":"animate"},{"args":[["2010"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2010","method":"animate"},{"args":[["2011"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2011","method":"animate"},{"args":[["2012"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2012","method":"animate"},{"args":[["2013"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2013","method":"animate"}],"x":0.1,"xanchor":"left","y":-0.2,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('5ee67802-9727-4984-b94d-97dcd06bbe27', [{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","AUS","DNK","ITA","POL","ARG","BEL","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $523.06","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $303.96","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $195.10","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $190.10","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $156.48","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $112.86","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $90.24","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $77.24","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $75.26","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $46.62","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $42.62","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $41.62","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $40.62","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $39.62","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $37.62"],"z":{"dtype":"f8","bdata":"F65H4XpYgECOwvUoXP9yQDEzMzMzY2hAMjMzMzPDZ0CPwvUoXI9jQNajcD0KN1xAkML1KFyPVkCOwvUoXE9TQHA9Ctej0FJAj8L1KFxPR0CPwvUoXM9GQI\u002fC9Shcz0ZAj8L1KFxPRUCQwvUoXM9EQI\u002fC9ShcT0RAj8L1KFzPQ0CQwvUoXE9DQJDC9Shcz0JAkML1KFzPQkCQwvUoXM9CQJDC9Shcz0JAkML1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JA"},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"All"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","DEU","BRA","FRA","GBR","CHL","POL","AUS","PRT","NOR","CZE","IND","NLD","FIN","BEL","IRL","SWE","DNK","ITA","AUT","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $103.95","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $57.42","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $53.46","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $35.64","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $25.74","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"zMzMzMz8WUD1KFyPwrVMQHoUrkfhukpAj8L1KFzPQkBSuB6F69FBQD4K16NwvTlArkfhehSuL0CuR+F6FK4vQML1KFyPwidAwvUoXI\u002fCJ0BI4XoUrsclQEjhehSuxyVAzczMzMzMI0BSuB6F69EhQFK4HoXr0SFAuR6F61G4G0C5HoXrUbgbQML1KFyPwhdAwvUoXI\u002fCF0CuR+F6FK7\u002fP65H4XoUrv8\u002frkfhehSu7z8="},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"2009"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","BRA","FRA","HUN","GBR","AUT","DEU","CHL","IND","ARG","ITA","CZE","POL","SWE","DNK","PRT","NLD","ESP","AUS"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $102.98","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $76.26","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $41.60","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $39.60","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $32.75","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $30.69","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $27.77","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $25.74","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $17.91","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $17.83","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $7.93","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"HoXrUbi+WUBwPQrXoxBTQM3MzMzMzERAzMzMzMzMQ0AAAAAAAGBAQHE9CtejsD5AhetRuB7FO0A+CtejcL05QClcj8L16DFAFK5H4XrUMUDC9Shcj8InQEjhehSuxyVAzczMzMzMI0BSuB6F69EhQLkehetRuB9AuR6F61G4G0C4HoXrUbgbQK5H4XoUrv8\u002frkfhehSu\u002fz+uR+F6FK7vPw=="},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"2010"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","DEU","FRA","IRL","IND","BEL","ESP","BRA","NOR","GBR","FIN","NLD","CZE","PRT","CHL","AUS","ARG"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $103.01","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $55.44","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $48.57","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $42.61","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $32.75","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $22.77","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $19.80","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $17.84","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $17.82","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $15.88","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $12.90","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $12.87","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"cD0K16PAWUC4HoXrUbhLQClcj8L1SEhArkfhehRORUAAAAAAAGBAQAAAAAAAwDhAAAAAAADAOECF61G4HsU2QM3MzMzMzDNA16NwPQrXMUBSuB6F69ExQML1KFyPwi9AzMzMzMzMKUA+CtejcL0pQFK4HoXr0SFAwvUoXI\u002fCF0CuR+F6FK7\u002fP65H4XoUru8\u002f"},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"2011"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","BRA","CAN","FRA","PRT","SWE","AUS","CZE","DEU","DNK","ITA","HUN","POL","AUT","IND","GBR","NOR","CHL","FIN","NLD"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $127.98","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $53.46","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $42.57","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $36.66","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $24.77","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $22.77","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $19.83","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $18.81","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"HoXrUbj+X0B7FK5H4bpKQClcj8L1SEVAFK5H4XpUQkCF61G4HsU4QAAAAAAAwDhAhetRuB7FNkAUrkfhetQzQJDC9ShczzJArkfhehSuL0CuR+F6FK4vQML1KFyPwidAwvUoXI\u002fCJ0DC9Shcj8InQEjhehSuxyVAzczMzMzMI0BSuB6F69EhQLkehetRuBtArkfhehSu7z+uR+F6FK7vPw=="},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"2012"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","CZE","GBR","ARG","PRT","FIN","NLD","IND","ESP","DEU","ITA","DNK","BEL","IRL","NOR","POL","HUN","AUT"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $85.14","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $72.27","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $40.59","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $36.75","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $28.71","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $11.89","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"KVyPwvVIVUDgehSuRxFSQOxRuB6FS0RAj8L1KFzPQkAAAAAAAGBCQPYoXI\u002fCtTxAAAAAAADAOEAAAAAAAMA4QK5H4XoUri9ArkfhehSuL0BI4XoUrscnQML1KFyPwidAzczMzMzMI0BSuB6F69EhQFK4HoXr0SFAwvUoXI\u002fCF0DC9Shcj8IXQK5H4XoUrv8\u002frkfhehSu7z+uR+F6FK7vP65H4XoUru8\u002f"},"zmax":523.0600000000003,"zmin":0.99,"type":"choropleth"}],"name":"2013"}]);
                        }).then(function(){
                            Plotly.animate('5ee67802-9727-4984-b94d-97dcd06bbe27', null);
                        })                };            </script>        </div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>The customer base exhibits persistent geographic disparities in both scale and engagement.</p>
<ul>
<li>Overall revenue trends are relatively flat, with limited signs of organic growth.</li>
<li>North America and Brazil consistently drive the highest revenues, indicating strong market presence and sustained demand.</li>
<li>India and parts of Central Europe maintain modest but consistent revenue, suggesting a stable (though modest) consumer base that may respond well to targeted growth strategies.</li>
<li>Australia showed signs of growth until 2013, after which revenue dropped to zero — this may reflect market exit, operational changes, or demand saturation.</li>
<li>Other parts of South America and Europe show sporadic revenue, possibly tied to one-time purchases or minimal customer engagement.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li>There is untapped potential in underrepresented regions. If market demand can be properly assessed and activated — through localized marketing, partnerships, or product adaptation — these regions could represent growth markets.</li>
<li>South America and Europe may benefit from customer acquisition and retention strategies.</li>
<li>Australia’s sharp revenue drop in 2013 warrants deeper investigation — identifying root causes could help preempt similar risks in other markets.</li>
</ul>
</div>
</div>
</section>
<section id="q1-vis-rev-per-cust-by-country" class="level3">
<h3 class="anchored" data-anchor-id="q1-vis-rev-per-cust-by-country">Revenue per Customer: Choropleth by Country</h3>
<p>Initial exploration revealed a significant mismatch between total revenue and revenue per customer. This was further explored by forming a similar Choropeth plot.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Hover Text (&lt;b&gt;Country:&lt;/b&gt;&lt;br&gt; $RevenuePerCustomer.##")</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>res_df <span class="ot">&lt;-</span> res_df <span class="sc">|&gt;</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hover_text =</span> <span class="fu">paste0</span>(</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">"&lt;b&gt;"</span>, Country, <span class="st">":&lt;/b&gt;&lt;br&gt; $"</span>,</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">formatC</span>(RevenuePerCustomer, <span class="at">format =</span> <span class="st">'f'</span>, <span class="at">big.mark =</span><span class="st">",'"</span>, <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    ) </span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Get minimum and maximum values for RevenuePerCustomer (Colorbar consistency)</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>z_min_val <span class="ot">&lt;-</span> <span class="fu">min</span>(res_df<span class="sc">$</span>RevenuePerCustomer, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>z_max_val <span class="ot">&lt;-</span> <span class="fu">max</span>(res_df<span class="sc">$</span>RevenuePerCustomer, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plotly Choropleth</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">plot_ly</span>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> res_df,</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">type =</span> <span class="st">'choropleth'</span>,</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">locations =</span> <span class="sc">~</span>iso_alpha,</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">z =</span> <span class="sc">~</span>RevenuePerCustomer,</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set hover text to only display our desired, formatted output</span></span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  <span class="at">text =</span> <span class="sc">~</span>hover_text,</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>  <span class="at">hoverinfo =</span> <span class="st">"text"</span>,</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>  <span class="at">frame =</span> <span class="sc">~</span>Year,</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set minimum and maximum RevenuePerCustomer values, for consistent scale</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>  <span class="at">zmin =</span> z_min_val,</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">zmax =</span> z_max_val,</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Title Colorbar/Legend</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">colorbar =</span> <span class="fu">list</span>(</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Revenue per Customer (USD$)"</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Color-blind friendly color scale</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">colorscale =</span> <span class="st">"Viridis"</span>,</span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">reversescale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">showscale =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Give national boundaries a dark gray outline</span></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="at">marker =</span> <span class="fu">list</span>(<span class="at">line =</span> <span class="fu">list</span>(<span class="at">color =</span> <span class="st">"darkgrey"</span>, <span class="at">width =</span> <span class="fl">0.5</span>))</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Layout with animation controls</span></span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>fig <span class="ot">&lt;-</span> fig <span class="sc">%&gt;%</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">layout</span>(</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>      <span class="at">text =</span> <span class="st">"Revenue per Customer by Country &lt;br&gt; 2009-01-01 to 2013-12-22"</span>,</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="fl">0.5</span>,</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>      <span class="at">xanchor =</span> <span class="st">"center"</span>,</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>      <span class="at">font =</span> <span class="fu">list</span>(<span class="at">size =</span> <span class="dv">18</span>)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">geo =</span> <span class="fu">list</span>(</span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add a neat little frame around the world</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>      <span class="at">showframe =</span> <span class="cn">TRUE</span>, </span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Add coast lines - ensures countries that aren't in data are seen</span></span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>      <span class="at">showcoastlines =</span> <span class="cn">TRUE</span>, </span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Use natural earth projection</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>      <span class="at">projection =</span> <span class="fu">list</span>(<span class="at">type =</span> <span class="st">'natural earth'</span>)</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">updatemenus =</span> <span class="fu">list</span>(</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>      <span class="fu">list</span>(</span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>        <span class="at">type =</span> <span class="st">"dropdown"</span>,</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>        <span class="at">showactive =</span> <span class="cn">TRUE</span>,</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>        <span class="at">buttons =</span> purrr<span class="sc">::</span><span class="fu">map</span>(years, <span class="cf">function</span>(yr) {</span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>          <span class="fu">list</span>(</span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>            <span class="at">method =</span> <span class="st">"animate"</span>,</span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>            <span class="at">args =</span> <span class="fu">list</span>(<span class="fu">list</span>(yr), <span class="fu">list</span>(<span class="at">mode =</span> <span class="st">"immediate"</span>, <span class="at">frame =</span> <span class="fu">list</span>(<span class="at">duration =</span> <span class="dv">0</span>, <span class="at">redraw =</span> <span class="cn">TRUE</span>))),</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>            <span class="at">label =</span> yr</span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>          )</span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>        }),</span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Positioning of dropdown menu</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="fl">0.1</span>,</span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="fl">1.15</span>,</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>        <span class="at">xanchor =</span> <span class="st">"left"</span>,</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>        <span class="at">yanchor =</span> <span class="st">"top"</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>    <span class="at">margin =</span> <span class="fu">list</span>(<span class="at">t =</span> <span class="dv">80</span>)</span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">animation_opts</span>(<span class="at">frame =</span> <span class="dv">1000</span>, <span class="at">transition =</span> <span class="dv">0</span>, <span class="at">redraw =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a><span class="co"># Display interactive plot</span></span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>fig</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-0fbdffb7b217cd24538b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-0fbdffb7b217cd24538b">{"x":{"visdat":{"8c585e68195d":["function () ","plotlyVisDat"]},"cur_data":"8c585e68195d","attrs":{"8c585e68195d":{"locations":{},"z":{},"text":{},"hoverinfo":"text","zmin":0.98999999999999999,"zmax":46.619999999999997,"colorbar":{"title":"Revenue per Customer (USD$)"},"colorscale":"Viridis","reversescale":true,"showscale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":80,"r":10},"title":{"text":"Revenue per Customer by Country <br> 2009-01-01 to 2013-12-22","x":0.5,"xanchor":"center","font":{"size":18}},"geo":{"showframe":true,"showcoastlines":true,"projection":{"type":"natural earth"}},"updatemenus":[{"type":"dropdown","showactive":true,"buttons":[{"method":"animate","args":[["All"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"All"},{"method":"animate","args":[["2009"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2009"},{"method":"animate","args":[["2010"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2010"},{"method":"animate","args":[["2011"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2011"},{"method":"animate","args":[["2012"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2012"},{"method":"animate","args":[["2013"],{"mode":"immediate","frame":{"duration":0,"redraw":true}}],"label":"2013"}],"x":0.10000000000000001,"y":1.1499999999999999,"xanchor":"left","yanchor":"top"},{"type":"buttons","direction":"right","showactive":false,"y":0,"x":0,"yanchor":"top","xanchor":"right","pad":{"t":60,"r":5},"buttons":[{"label":"Play","method":"animate","args":[null,{"fromcurrent":true,"mode":"immediate","transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true}}]}]}],"scene":{"zaxis":{"title":"RevenuePerCustomer"}},"hovermode":"closest","showlegend":false,"sliders":[{"currentvalue":{"prefix":"Year: ","xanchor":"right","font":{"size":16,"color":"rgba(204,204,204,1)"}},"steps":[{"method":"animate","args":[["2009"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2009","value":"2009"},{"method":"animate","args":[["2010"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2010","value":"2010"},{"method":"animate","args":[["2011"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2011","value":"2011"},{"method":"animate","args":[["2012"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2012","value":"2012"},{"method":"animate","args":[["2013"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"2013","value":"2013"},{"method":"animate","args":[["All"],{"transition":{"duration":0,"easing":"linear"},"frame":{"duration":1000,"redraw":true},"mode":"immediate"}],"label":"All","value":"All"}],"visible":true,"pad":{"t":40}}],"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","BRA","FRA","GBR","POL","CHL","PRT","AUS","CZE","NOR","IND","NLD","FIN","IRL","BEL","SWE","DNK","AUT","ITA","ESP"],"z":[11.550000000000001,8.1999999999999993,13.359999999999999,9.4000000000000004,17.82,8.5800000000000001,15.84,15.84,11.880000000000001,11.880000000000001,5.4500000000000002,10.890000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,6.9299999999999997,6.9299999999999997,5.9400000000000004,5.9400000000000004,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $11.55","<b>Canada:<\/b><br> $8.20","<b>Germany:<\/b><br> $13.36","<b>Brazil:<\/b><br> $9.40","<b>France:<\/b><br> $17.82","<b>United Kingdom:<\/b><br> $8.58","<b>Poland:<\/b><br> $15.84","<b>Chile:<\/b><br> $15.84","<b>Portugal:<\/b><br> $11.88","<b>Australia:<\/b><br> $11.88","<b>Czech Republic:<\/b><br> $5.45","<b>Norway:<\/b><br> $10.89","<b>India:<\/b><br> $9.90","<b>Netherlands:<\/b><br> $8.91","<b>Finland:<\/b><br> $8.91","<b>Ireland:<\/b><br> $6.93","<b>Belgium:<\/b><br> $6.93","<b>Sweden:<\/b><br> $5.94","<b>Denmark:<\/b><br> $5.94","<b>Austria:<\/b><br> $1.98","<b>Italy:<\/b><br> $1.98","<b>Spain:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2009","type":"choropleth","visible":true}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"frames":[{"name":"2009","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","BRA","FRA","GBR","POL","CHL","PRT","AUS","CZE","NOR","IND","NLD","FIN","IRL","BEL","SWE","DNK","AUT","ITA","ESP"],"z":[11.550000000000001,8.1999999999999993,13.359999999999999,9.4000000000000004,17.82,8.5800000000000001,15.84,15.84,11.880000000000001,11.880000000000001,5.4500000000000002,10.890000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,6.9299999999999997,6.9299999999999997,5.9400000000000004,5.9400000000000004,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $11.55","<b>Canada:<\/b><br> $8.20","<b>Germany:<\/b><br> $13.36","<b>Brazil:<\/b><br> $9.40","<b>France:<\/b><br> $17.82","<b>United Kingdom:<\/b><br> $8.58","<b>Poland:<\/b><br> $15.84","<b>Chile:<\/b><br> $15.84","<b>Portugal:<\/b><br> $11.88","<b>Australia:<\/b><br> $11.88","<b>Czech Republic:<\/b><br> $5.45","<b>Norway:<\/b><br> $10.89","<b>India:<\/b><br> $9.90","<b>Netherlands:<\/b><br> $8.91","<b>Finland:<\/b><br> $8.91","<b>Ireland:<\/b><br> $6.93","<b>Belgium:<\/b><br> $6.93","<b>Sweden:<\/b><br> $5.94","<b>Denmark:<\/b><br> $5.94","<b>Austria:<\/b><br> $1.98","<b>Italy:<\/b><br> $1.98","<b>Spain:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2009","type":"choropleth","visible":true}],"traces":[0]},{"name":"2010","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","BRA","FRA","HUN","GBR","AUT","DEU","CHL","IND","ARG","ITA","CZE","POL","SWE","DNK","PRT","NLD","ESP","AUS"],"z":[11.44,10.890000000000001,8.3200000000000003,13.199999999999999,32.75,10.23,27.77,8.5800000000000001,17.91,8.9100000000000001,11.880000000000001,10.890000000000001,9.9000000000000004,8.9100000000000001,7.9299999999999997,6.9299999999999997,3.4700000000000002,1.98,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $11.44","<b>Canada:<\/b><br> $10.89","<b>Brazil:<\/b><br> $8.32","<b>France:<\/b><br> $13.20","<b>Hungary:<\/b><br> $32.75","<b>United Kingdom:<\/b><br> $10.23","<b>Austria:<\/b><br> $27.77","<b>Germany:<\/b><br> $8.58","<b>Chile:<\/b><br> $17.91","<b>India:<\/b><br> $8.91","<b>Argentina:<\/b><br> $11.88","<b>Italy:<\/b><br> $10.89","<b>Czech Republic:<\/b><br> $9.90","<b>Poland:<\/b><br> $8.91","<b>Sweden:<\/b><br> $7.93","<b>Denmark:<\/b><br> $6.93","<b>Portugal:<\/b><br> $3.47","<b>Netherlands:<\/b><br> $1.98","<b>Spain:<\/b><br> $1.98","<b>Australia:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2010","type":"choropleth","visible":true}],"traces":[0]},{"name":"2011","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","DEU","FRA","IRL","BEL","IND","ESP","BRA","NOR","GBR","FIN","NLD","CZE","PRT","CHL","AUS","ARG"],"z":[9.3599999999999994,9.2400000000000002,12.140000000000001,8.5199999999999996,32.75,24.75,12.380000000000001,22.77,6.5999999999999996,17.84,5.9400000000000004,15.880000000000001,12.9,6.4400000000000004,4.46,5.9400000000000004,1.98,0.98999999999999999],"text":["<b>USA:<\/b><br> $9.36","<b>Canada:<\/b><br> $9.24","<b>Germany:<\/b><br> $12.14","<b>France:<\/b><br> $8.52","<b>Ireland:<\/b><br> $32.75","<b>Belgium:<\/b><br> $24.75","<b>India:<\/b><br> $12.38","<b>Spain:<\/b><br> $22.77","<b>Brazil:<\/b><br> $6.60","<b>Norway:<\/b><br> $17.84","<b>United Kingdom:<\/b><br> $5.94","<b>Finland:<\/b><br> $15.88","<b>Netherlands:<\/b><br> $12.90","<b>Czech Republic:<\/b><br> $6.44","<b>Portugal:<\/b><br> $4.46","<b>Chile:<\/b><br> $5.94","<b>Australia:<\/b><br> $1.98","<b>Argentina:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2011","type":"choropleth","visible":true}],"traces":[0]},{"name":"2012","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","BRA","CAN","FRA","PRT","SWE","AUS","CZE","DEU","ITA","DNK","POL","HUN","AUT","IND","GBR","NOR","CHL","NLD","FIN"],"z":[9.8399999999999999,13.369999999999999,10.640000000000001,7.3300000000000001,24.77,24.75,22.77,9.9100000000000001,4.7000000000000002,15.84,15.84,11.880000000000001,11.880000000000001,11.880000000000001,5.4500000000000002,9.9000000000000004,8.9100000000000001,6.9299999999999997,0.98999999999999999,0.98999999999999999],"text":["<b>USA:<\/b><br> $9.84","<b>Brazil:<\/b><br> $13.37","<b>Canada:<\/b><br> $10.64","<b>France:<\/b><br> $7.33","<b>Portugal:<\/b><br> $24.77","<b>Sweden:<\/b><br> $24.75","<b>Australia:<\/b><br> $22.77","<b>Czech Republic:<\/b><br> $9.91","<b>Germany:<\/b><br> $4.70","<b>Italy:<\/b><br> $15.84","<b>Denmark:<\/b><br> $15.84","<b>Poland:<\/b><br> $11.88","<b>Hungary:<\/b><br> $11.88","<b>Austria:<\/b><br> $11.88","<b>India:<\/b><br> $5.45","<b>United Kingdom:<\/b><br> $9.90","<b>Norway:<\/b><br> $8.91","<b>Chile:<\/b><br> $6.93","<b>Netherlands:<\/b><br> $0.99","<b>Finland:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2012","type":"choropleth","visible":true}],"traces":[0]},{"name":"2013","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","FRA","BRA","CZE","GBR","ARG","PRT","NLD","FIN","IND","ESP","DEU","ITA","DNK","IRL","BEL","NOR","POL","HUN","AUT"],"z":[7.7400000000000002,10.32,10.15,9.4000000000000004,18.379999999999999,9.5700000000000003,24.75,24.75,15.84,15.84,11.890000000000001,11.880000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,5.9400000000000004,5.9400000000000004,1.98,0.98999999999999999,0.98999999999999999,0.98999999999999999],"text":["<b>USA:<\/b><br> $7.74","<b>Canada:<\/b><br> $10.32","<b>France:<\/b><br> $10.15","<b>Brazil:<\/b><br> $9.40","<b>Czech Republic:<\/b><br> $18.38","<b>United Kingdom:<\/b><br> $9.57","<b>Argentina:<\/b><br> $24.75","<b>Portugal:<\/b><br> $24.75","<b>Netherlands:<\/b><br> $15.84","<b>Finland:<\/b><br> $15.84","<b>India:<\/b><br> $11.89","<b>Spain:<\/b><br> $11.88","<b>Germany:<\/b><br> $9.90","<b>Italy:<\/b><br> $8.91","<b>Denmark:<\/b><br> $8.91","<b>Ireland:<\/b><br> $5.94","<b>Belgium:<\/b><br> $5.94","<b>Norway:<\/b><br> $1.98","<b>Poland:<\/b><br> $0.99","<b>Hungary:<\/b><br> $0.99","<b>Austria:<\/b><br> $0.99"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"2013","type":"choropleth","visible":true}],"traces":[0]},{"name":"All","data":[{"colorbar":{"title":"Revenue per Customer (USD$)","ticklen":2},"colorscale":"Viridis","showscale":true,"locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","ARG","DNK","ITA","POL","AUS","ESP","BEL"],"z":[40.240000000000002,37.990000000000002,39.020000000000003,38.020000000000003,39.119999999999997,37.619999999999997,45.119999999999997,38.619999999999997,37.630000000000003,46.619999999999997,45.619999999999997,45.619999999999997,42.619999999999997,41.619999999999997,40.619999999999997,39.619999999999997,38.619999999999997,37.619999999999997,37.619999999999997,37.619999999999997,37.619999999999997,37.619999999999997,37.619999999999997,37.619999999999997],"text":["<b>USA:<\/b><br> $40.24","<b>Canada:<\/b><br> $37.99","<b>France:<\/b><br> $39.02","<b>Brazil:<\/b><br> $38.02","<b>Germany:<\/b><br> $39.12","<b>United Kingdom:<\/b><br> $37.62","<b>Czech Republic:<\/b><br> $45.12","<b>Portugal:<\/b><br> $38.62","<b>India:<\/b><br> $37.63","<b>Chile:<\/b><br> $46.62","<b>Hungary:<\/b><br> $45.62","<b>Ireland:<\/b><br> $45.62","<b>Austria:<\/b><br> $42.62","<b>Finland:<\/b><br> $41.62","<b>Netherlands:<\/b><br> $40.62","<b>Norway:<\/b><br> $39.62","<b>Sweden:<\/b><br> $38.62","<b>Argentina:<\/b><br> $37.62","<b>Denmark:<\/b><br> $37.62","<b>Italy:<\/b><br> $37.62","<b>Poland:<\/b><br> $37.62","<b>Australia:<\/b><br> $37.62","<b>Spain:<\/b><br> $37.62","<b>Belgium:<\/b><br> $37.62"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"zmin":0.98999999999999999,"zmax":46.619999999999997,"reversescale":true,"marker":{"line":{"color":"darkgrey","width":0.5}},"frame":"All","type":"choropleth","visible":true}],"traces":[0]}],"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify hover text</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>res_df[<span class="st">'hover_text'</span>] <span class="op">=</span> res_df.<span class="bu">apply</span>( <span class="op">\</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">lambda</span> row: <span class="ss">f"&lt;b&gt;</span><span class="sc">{</span>row[<span class="st">'Country'</span>]<span class="sc">}</span><span class="ss">&lt;/b&gt;&lt;br&gt; $</span><span class="sc">{</span>row[<span class="st">'RevenuePerCustomer'</span>]<span class="sc">:.2f}</span><span class="ss">"</span>, axis <span class="op">=</span> <span class="dv">1</span> <span class="op">\</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Get maximum and minimum RevenuePerCustomer values (consistent scale)</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>z_min_val <span class="op">=</span> res_df[<span class="st">'RevenuePerCustomer'</span>].<span class="bu">min</span>()</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>z_max_val <span class="op">=</span> res_df[<span class="st">'RevenuePerCustomer'</span>].<span class="bu">max</span>()</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create frames (one per year, and aggregate)</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>frames <span class="op">=</span> []</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> years:</span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>  df_year <span class="op">=</span> res_df[res_df[<span class="st">'Year'</span>] <span class="op">==</span> year]</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>  frames.append(go.Frame(</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    name <span class="op">=</span> <span class="bu">str</span>(year),</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> [go.Choropleth(</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a>      locations <span class="op">=</span> df_year[<span class="st">'iso_alpha'</span>],</span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a>      z <span class="op">=</span> df_year[<span class="st">'RevenuePerCustomer'</span>],</span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a>      zmin <span class="op">=</span> z_min_val,</span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a>      zmax <span class="op">=</span> z_max_val,</span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a>      text <span class="op">=</span> df_year[<span class="st">'hover_text'</span>],</span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a>      hoverinfo <span class="op">=</span> <span class="st">'text'</span>,</span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Color-blind friendly color scale (reversed: darker with higher revenues)</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a>      colorscale <span class="op">=</span> <span class="st">'Viridis_r'</span>,</span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Give national boundaries a dark grey outline</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a>      marker <span class="op">=</span> <span class="bu">dict</span>(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkgrey'</span>, width<span class="op">=</span><span class="fl">0.5</span>))</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>    )]</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a><span class="co"># First frame (initial state)</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>init_df <span class="op">=</span> res_df[res_df[<span class="st">'Year'</span>] <span class="op">==</span> <span class="st">'All'</span>]</span>
<span id="cb15-33"><a href="#cb15-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-34"><a href="#cb15-34" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate plotly Choropleth</span></span>
<span id="cb15-35"><a href="#cb15-35" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> go.Figure(</span>
<span id="cb15-36"><a href="#cb15-36" aria-hidden="true" tabindex="-1"></a>  data<span class="op">=</span>[go.Choropleth(</span>
<span id="cb15-37"><a href="#cb15-37" aria-hidden="true" tabindex="-1"></a>        locations<span class="op">=</span>init_df[<span class="st">'iso_alpha'</span>],</span>
<span id="cb15-38"><a href="#cb15-38" aria-hidden="true" tabindex="-1"></a>        z<span class="op">=</span>init_df[<span class="st">'RevenuePerCustomer'</span>],</span>
<span id="cb15-39"><a href="#cb15-39" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span>init_df[<span class="st">'hover_text'</span>],</span>
<span id="cb15-40"><a href="#cb15-40" aria-hidden="true" tabindex="-1"></a>        hoverinfo<span class="op">=</span><span class="st">'text'</span>,</span>
<span id="cb15-41"><a href="#cb15-41" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Color-blind friendly color scale (reversed: darker with higher revenues)</span></span>
<span id="cb15-42"><a href="#cb15-42" aria-hidden="true" tabindex="-1"></a>        colorscale<span class="op">=</span><span class="st">'Viridis_r'</span>,</span>
<span id="cb15-43"><a href="#cb15-43" aria-hidden="true" tabindex="-1"></a>        zmin<span class="op">=</span>z_min_val,</span>
<span id="cb15-44"><a href="#cb15-44" aria-hidden="true" tabindex="-1"></a>        zmax<span class="op">=</span>z_max_val,</span>
<span id="cb15-45"><a href="#cb15-45" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Give national boundaries a dark grey outline</span></span>
<span id="cb15-46"><a href="#cb15-46" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span><span class="bu">dict</span>(line<span class="op">=</span><span class="bu">dict</span>(color<span class="op">=</span><span class="st">'darkgrey'</span>, width<span class="op">=</span><span class="fl">0.5</span>)),</span>
<span id="cb15-47"><a href="#cb15-47" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Title Colorbar/Legend</span></span>
<span id="cb15-48"><a href="#cb15-48" aria-hidden="true" tabindex="-1"></a>        colorbar<span class="op">=</span><span class="bu">dict</span>(title<span class="op">=</span><span class="st">'Revenue per Customer (USD$)'</span>)</span>
<span id="cb15-49"><a href="#cb15-49" aria-hidden="true" tabindex="-1"></a>    )],</span>
<span id="cb15-50"><a href="#cb15-50" aria-hidden="true" tabindex="-1"></a>    frames<span class="op">=</span>frames</span>
<span id="cb15-51"><a href="#cb15-51" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb15-52"><a href="#cb15-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb15-53"><a href="#cb15-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Layout with Animation Controls</span></span>
<span id="cb15-54"><a href="#cb15-54" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb15-55"><a href="#cb15-55" aria-hidden="true" tabindex="-1"></a>  title <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb15-56"><a href="#cb15-56" aria-hidden="true" tabindex="-1"></a>    text <span class="op">=</span> <span class="st">"Revenue per Customer by Country &lt;br&gt; 2009-01-01 to 2013-12-22"</span>,</span>
<span id="cb15-57"><a href="#cb15-57" aria-hidden="true" tabindex="-1"></a>    x <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span id="cb15-58"><a href="#cb15-58" aria-hidden="true" tabindex="-1"></a>    xanchor <span class="op">=</span> <span class="st">'center'</span>,</span>
<span id="cb15-59"><a href="#cb15-59" aria-hidden="true" tabindex="-1"></a>    font <span class="op">=</span> <span class="bu">dict</span>(size<span class="op">=</span><span class="dv">18</span>)</span>
<span id="cb15-60"><a href="#cb15-60" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb15-61"><a href="#cb15-61" aria-hidden="true" tabindex="-1"></a>  margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">80</span>),</span>
<span id="cb15-62"><a href="#cb15-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Frame and view</span></span>
<span id="cb15-63"><a href="#cb15-63" aria-hidden="true" tabindex="-1"></a>  geo <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb15-64"><a href="#cb15-64" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Show countries and boundaries</span></span>
<span id="cb15-65"><a href="#cb15-65" aria-hidden="true" tabindex="-1"></a>    showcountries <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb15-66"><a href="#cb15-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Give national boundaries a dark gray outline</span></span>
<span id="cb15-67"><a href="#cb15-67" aria-hidden="true" tabindex="-1"></a>    countrycolor<span class="op">=</span><span class="st">"darkgrey"</span>,</span>
<span id="cb15-68"><a href="#cb15-68" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add coast lines - ensure countries that aren't in data are seen</span></span>
<span id="cb15-69"><a href="#cb15-69" aria-hidden="true" tabindex="-1"></a>    showcoastlines <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb15-70"><a href="#cb15-70" aria-hidden="true" tabindex="-1"></a>    coastlinecolor <span class="op">=</span> <span class="st">"gray"</span>,</span>
<span id="cb15-71"><a href="#cb15-71" aria-hidden="true" tabindex="-1"></a>    <span class="co">#  Ad a neat little frame around the world</span></span>
<span id="cb15-72"><a href="#cb15-72" aria-hidden="true" tabindex="-1"></a>    showframe <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb15-73"><a href="#cb15-73" aria-hidden="true" tabindex="-1"></a>    framecolor <span class="op">=</span> <span class="st">"black"</span>,</span>
<span id="cb15-74"><a href="#cb15-74" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Use natural earth projection</span></span>
<span id="cb15-75"><a href="#cb15-75" aria-hidden="true" tabindex="-1"></a>    projection_type <span class="op">=</span> <span class="st">"natural earth"</span></span>
<span id="cb15-76"><a href="#cb15-76" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb15-77"><a href="#cb15-77" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Buttons/Menus</span></span>
<span id="cb15-78"><a href="#cb15-78" aria-hidden="true" tabindex="-1"></a>  updatemenus <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb15-79"><a href="#cb15-79" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Play/Pause</span></span>
<span id="cb15-80"><a href="#cb15-80" aria-hidden="true" tabindex="-1"></a>        <span class="co"># First button active by default (yr == "All")</span></span>
<span id="cb15-81"><a href="#cb15-81" aria-hidden="true" tabindex="-1"></a>        <span class="bu">type</span> <span class="op">=</span> <span class="st">"buttons"</span>,</span>
<span id="cb15-82"><a href="#cb15-82" aria-hidden="true" tabindex="-1"></a>        direction <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb15-83"><a href="#cb15-83" aria-hidden="true" tabindex="-1"></a>        x <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb15-84"><a href="#cb15-84" aria-hidden="true" tabindex="-1"></a>        y <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb15-85"><a href="#cb15-85" aria-hidden="true" tabindex="-1"></a>        showactive <span class="op">=</span> <span class="va">False</span>,</span>
<span id="cb15-86"><a href="#cb15-86" aria-hidden="true" tabindex="-1"></a>        xanchor <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb15-87"><a href="#cb15-87" aria-hidden="true" tabindex="-1"></a>        yanchor <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span id="cb15-88"><a href="#cb15-88" aria-hidden="true" tabindex="-1"></a>        pad <span class="op">=</span> <span class="bu">dict</span>(r <span class="op">=</span> <span class="dv">10</span>, t <span class="op">=</span> <span class="dv">70</span>),</span>
<span id="cb15-89"><a href="#cb15-89" aria-hidden="true" tabindex="-1"></a>        buttons <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb15-90"><a href="#cb15-90" aria-hidden="true" tabindex="-1"></a>          label <span class="op">=</span> <span class="st">"Play"</span>,</span>
<span id="cb15-91"><a href="#cb15-91" aria-hidden="true" tabindex="-1"></a>          method <span class="op">=</span> <span class="st">"animate"</span>,</span>
<span id="cb15-92"><a href="#cb15-92" aria-hidden="true" tabindex="-1"></a>          args <span class="op">=</span> [<span class="va">None</span>, {</span>
<span id="cb15-93"><a href="#cb15-93" aria-hidden="true" tabindex="-1"></a>            <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">1000</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb15-94"><a href="#cb15-94" aria-hidden="true" tabindex="-1"></a>            <span class="st">"fromcurrent"</span>: <span class="va">True</span>,</span>
<span id="cb15-95"><a href="#cb15-95" aria-hidden="true" tabindex="-1"></a>            <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">300</span>, <span class="st">"easing"</span>: <span class="st">"quadratic-in-out"</span>}</span>
<span id="cb15-96"><a href="#cb15-96" aria-hidden="true" tabindex="-1"></a>          }]</span>
<span id="cb15-97"><a href="#cb15-97" aria-hidden="true" tabindex="-1"></a>        ), <span class="bu">dict</span>(</span>
<span id="cb15-98"><a href="#cb15-98" aria-hidden="true" tabindex="-1"></a>          label <span class="op">=</span> <span class="st">"Pause"</span>,</span>
<span id="cb15-99"><a href="#cb15-99" aria-hidden="true" tabindex="-1"></a>          method <span class="op">=</span> <span class="st">"animate"</span>,</span>
<span id="cb15-100"><a href="#cb15-100" aria-hidden="true" tabindex="-1"></a>          args<span class="op">=</span>[[<span class="va">None</span>], {<span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>}, <span class="st">"mode"</span>: <span class="st">"immediate"</span>}] </span>
<span id="cb15-101"><a href="#cb15-101" aria-hidden="true" tabindex="-1"></a>          )] </span>
<span id="cb15-102"><a href="#cb15-102" aria-hidden="true" tabindex="-1"></a>      )] <span class="op">+</span></span>
<span id="cb15-103"><a href="#cb15-103" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Year Dropdown Menu</span></span>
<span id="cb15-104"><a href="#cb15-104" aria-hidden="true" tabindex="-1"></a>    [<span class="bu">dict</span>(</span>
<span id="cb15-105"><a href="#cb15-105" aria-hidden="true" tabindex="-1"></a>      <span class="bu">type</span><span class="op">=</span><span class="st">"dropdown"</span>,</span>
<span id="cb15-106"><a href="#cb15-106" aria-hidden="true" tabindex="-1"></a>      x <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb15-107"><a href="#cb15-107" aria-hidden="true" tabindex="-1"></a>      y <span class="op">=</span> <span class="fl">1.15</span>,</span>
<span id="cb15-108"><a href="#cb15-108" aria-hidden="true" tabindex="-1"></a>      xanchor<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb15-109"><a href="#cb15-109" aria-hidden="true" tabindex="-1"></a>      yanchor<span class="op">=</span><span class="st">"top"</span>,</span>
<span id="cb15-110"><a href="#cb15-110" aria-hidden="true" tabindex="-1"></a>      showactive<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb15-111"><a href="#cb15-111" aria-hidden="true" tabindex="-1"></a>      buttons<span class="op">=</span>[<span class="bu">dict</span>(</span>
<span id="cb15-112"><a href="#cb15-112" aria-hidden="true" tabindex="-1"></a>        label<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb15-113"><a href="#cb15-113" aria-hidden="true" tabindex="-1"></a>        method<span class="op">=</span><span class="st">"animate"</span>,</span>
<span id="cb15-114"><a href="#cb15-114" aria-hidden="true" tabindex="-1"></a>        args<span class="op">=</span>[</span>
<span id="cb15-115"><a href="#cb15-115" aria-hidden="true" tabindex="-1"></a>            [<span class="bu">str</span>(year)],</span>
<span id="cb15-116"><a href="#cb15-116" aria-hidden="true" tabindex="-1"></a>            {<span class="st">"mode"</span>: <span class="st">"immediate"</span>,</span>
<span id="cb15-117"><a href="#cb15-117" aria-hidden="true" tabindex="-1"></a>             <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb15-118"><a href="#cb15-118" aria-hidden="true" tabindex="-1"></a>             <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">0</span>}}</span>
<span id="cb15-119"><a href="#cb15-119" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb15-120"><a href="#cb15-120" aria-hidden="true" tabindex="-1"></a>    ) <span class="cf">for</span> year <span class="kw">in</span> years]</span>
<span id="cb15-121"><a href="#cb15-121" aria-hidden="true" tabindex="-1"></a>  )],</span>
<span id="cb15-122"><a href="#cb15-122" aria-hidden="true" tabindex="-1"></a>  sliders <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb15-123"><a href="#cb15-123" aria-hidden="true" tabindex="-1"></a>      active <span class="op">=</span> <span class="dv">0</span>,</span>
<span id="cb15-124"><a href="#cb15-124" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Positioning of slider menu</span></span>
<span id="cb15-125"><a href="#cb15-125" aria-hidden="true" tabindex="-1"></a>      x <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span id="cb15-126"><a href="#cb15-126" aria-hidden="true" tabindex="-1"></a>      y <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span id="cb15-127"><a href="#cb15-127" aria-hidden="true" tabindex="-1"></a>      <span class="bu">len</span> <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span id="cb15-128"><a href="#cb15-128" aria-hidden="true" tabindex="-1"></a>      xanchor <span class="op">=</span> <span class="st">"left"</span>,</span>
<span id="cb15-129"><a href="#cb15-129" aria-hidden="true" tabindex="-1"></a>      yanchor <span class="op">=</span> <span class="st">"bottom"</span>,</span>
<span id="cb15-130"><a href="#cb15-130" aria-hidden="true" tabindex="-1"></a>      pad <span class="op">=</span> <span class="bu">dict</span>(t<span class="op">=</span> <span class="dv">30</span>, b<span class="op">=</span><span class="dv">10</span>),</span>
<span id="cb15-131"><a href="#cb15-131" aria-hidden="true" tabindex="-1"></a>      currentvalue <span class="op">=</span> <span class="bu">dict</span>(</span>
<span id="cb15-132"><a href="#cb15-132" aria-hidden="true" tabindex="-1"></a>        visible <span class="op">=</span> <span class="va">True</span>,</span>
<span id="cb15-133"><a href="#cb15-133" aria-hidden="true" tabindex="-1"></a>        prefix <span class="op">=</span> <span class="st">"Year: "</span>,</span>
<span id="cb15-134"><a href="#cb15-134" aria-hidden="true" tabindex="-1"></a>        xanchor <span class="op">=</span> <span class="st">"right"</span>,</span>
<span id="cb15-135"><a href="#cb15-135" aria-hidden="true" tabindex="-1"></a>        font <span class="op">=</span> <span class="bu">dict</span>(size<span class="op">=</span><span class="dv">14</span>, color <span class="op">=</span> <span class="st">"#666"</span>)</span>
<span id="cb15-136"><a href="#cb15-136" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-137"><a href="#cb15-137" aria-hidden="true" tabindex="-1"></a>    steps <span class="op">=</span> [<span class="bu">dict</span>(</span>
<span id="cb15-138"><a href="#cb15-138" aria-hidden="true" tabindex="-1"></a>      method <span class="op">=</span> <span class="st">'animate'</span>,</span>
<span id="cb15-139"><a href="#cb15-139" aria-hidden="true" tabindex="-1"></a>      args <span class="op">=</span>[[<span class="bu">str</span>(year)], {</span>
<span id="cb15-140"><a href="#cb15-140" aria-hidden="true" tabindex="-1"></a>        <span class="st">"mode"</span>: <span class="st">"immediate"</span>,</span>
<span id="cb15-141"><a href="#cb15-141" aria-hidden="true" tabindex="-1"></a>        <span class="st">"frame"</span>: {<span class="st">"duration"</span>: <span class="dv">1000</span>, <span class="st">"redraw"</span>: <span class="va">True</span>},</span>
<span id="cb15-142"><a href="#cb15-142" aria-hidden="true" tabindex="-1"></a>        <span class="st">"transition"</span>: {<span class="st">"duration"</span>: <span class="dv">300</span>}</span>
<span id="cb15-143"><a href="#cb15-143" aria-hidden="true" tabindex="-1"></a>        }],</span>
<span id="cb15-144"><a href="#cb15-144" aria-hidden="true" tabindex="-1"></a>        label <span class="op">=</span> <span class="bu">str</span>(year) </span>
<span id="cb15-145"><a href="#cb15-145" aria-hidden="true" tabindex="-1"></a>      ) <span class="cf">for</span> year <span class="kw">in</span> years]</span>
<span id="cb15-146"><a href="#cb15-146" aria-hidden="true" tabindex="-1"></a>    )] </span>
<span id="cb15-147"><a href="#cb15-147" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb15-148"><a href="#cb15-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-149"><a href="#cb15-149" aria-hidden="true" tabindex="-1"></a><span class="co"># Display interactive plot</span></span>
<span id="cb15-150"><a href="#cb15-150" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="c8204686-4abc-4990-9155-13f6f77ceae9" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("c8204686-4abc-4990-9155-13f6f77ceae9")) {                    Plotly.newPlot(                        "c8204686-4abc-4990-9155-13f6f77ceae9",                        [{"colorbar":{"title":{"text":"Revenue per Customer (USD$)"}},"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","AUS","DNK","ITA","POL","ARG","BEL","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $40.24","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $37.99","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $39.02","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $38.02","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $39.12","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $45.12","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $37.63","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $46.62","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $42.62","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $41.62","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $40.62","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $39.62","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $37.62"],"z":{"dtype":"f8","bdata":"H4XrUbgeREAfhetRuP5CQMP1KFyPgkNAw\u002fUoXI8CQ0CPwvUoXI9DQI\u002fC9Shcz0JAj8L1KFyPRkCPwvUoXE9DQHE9Ctej0EJAj8L1KFxPR0CPwvUoXM9GQI\u002fC9Shcz0ZAj8L1KFxPRUCPwvUoXM9EQI\u002fC9ShcT0RAj8L1KFzPQ0CPwvUoXE9DQI\u002fC9Shcz0JAj8L1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JAj8L1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JA"},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"title":{"font":{"size":18},"text":"Revenue per Customer by Country \u003cbr\u003e 2009-01-01 to 2013-12-22","x":0.5,"xanchor":"center"},"margin":{"t":80},"geo":{"projection":{"type":"natural earth"},"showcountries":true,"countrycolor":"darkgrey","showcoastlines":true,"coastlinecolor":"gray","showframe":true,"framecolor":"black"},"updatemenus":[{"buttons":[{"args":[null,{"frame":{"duration":1000,"redraw":true},"fromcurrent":true,"transition":{"duration":300,"easing":"quadratic-in-out"}}],"label":"Play","method":"animate"},{"args":[[null],{"frame":{"duration":0},"mode":"immediate"}],"label":"Pause","method":"animate"}],"direction":"left","pad":{"r":10,"t":70},"showactive":false,"type":"buttons","x":0,"xanchor":"left","y":0,"yanchor":"bottom"},{"buttons":[{"args":[["All"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"All","method":"animate"},{"args":[["2009"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2009","method":"animate"},{"args":[["2010"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2010","method":"animate"},{"args":[["2011"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2011","method":"animate"},{"args":[["2012"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2012","method":"animate"},{"args":[["2013"],{"mode":"immediate","frame":{"duration":0,"redraw":true},"transition":{"duration":0}}],"label":"2013","method":"animate"}],"showactive":true,"type":"dropdown","x":0.1,"xanchor":"left","y":1.15,"yanchor":"top"}],"sliders":[{"active":0,"currentvalue":{"font":{"color":"#666","size":14},"prefix":"Year: ","visible":true,"xanchor":"right"},"len":0.8,"pad":{"b":10,"t":30},"steps":[{"args":[["All"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"All","method":"animate"},{"args":[["2009"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2009","method":"animate"},{"args":[["2010"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2010","method":"animate"},{"args":[["2011"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2011","method":"animate"},{"args":[["2012"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2012","method":"animate"},{"args":[["2013"],{"mode":"immediate","frame":{"duration":1000,"redraw":true},"transition":{"duration":300}}],"label":"2013","method":"animate"}],"x":0.1,"xanchor":"left","y":-0.2,"yanchor":"bottom"}]},                        {"responsive": true}                    ).then(function(){
                            Plotly.addFrames('c8204686-4abc-4990-9155-13f6f77ceae9', [{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","DEU","GBR","CZE","PRT","IND","CHL","HUN","IRL","AUT","FIN","NLD","NOR","SWE","AUS","DNK","ITA","POL","ARG","BEL","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $40.24","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $37.99","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $39.02","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $38.02","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $39.12","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $45.12","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $37.63","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $46.62","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $45.62","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $42.62","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $41.62","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $40.62","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $39.62","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $38.62","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $37.62","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $37.62"],"z":{"dtype":"f8","bdata":"H4XrUbgeREAfhetRuP5CQMP1KFyPgkNAw\u002fUoXI8CQ0CPwvUoXI9DQI\u002fC9Shcz0JAj8L1KFyPRkCPwvUoXE9DQHE9Ctej0EJAj8L1KFxPR0CPwvUoXM9GQI\u002fC9Shcz0ZAj8L1KFxPRUCPwvUoXM9EQI\u002fC9ShcT0RAj8L1KFzPQ0CPwvUoXE9DQI\u002fC9Shcz0JAj8L1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JAj8L1KFzPQkCPwvUoXM9CQI\u002fC9Shcz0JA"},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"All"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","DEU","BRA","FRA","GBR","CHL","POL","AUS","PRT","NOR","CZE","IND","NLD","FIN","BEL","IRL","SWE","DNK","ITA","AUT","ESP"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $11.55","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $8.20","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $13.36","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $9.40","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $17.82","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $8.58","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $5.45","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"mpmZmZkZJ0BmZmZmZmYgQLgehetRuCpAzczMzMzMIkBSuB6F69ExQClcj8L1KCFArkfhehSuL0CuR+F6FK4vQMP1KFyPwidAw\u002fUoXI\u002fCJ0BI4XoUrsclQM3MzMzMzBVAzczMzMzMI0BSuB6F69EhQFK4HoXr0SFAuB6F61G4G0C4HoXrUbgbQMP1KFyPwhdAw\u002fUoXI\u002fCF0CuR+F6FK7\u002fP65H4XoUrv8\u002frkfhehSu7z8="},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"2009"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","BRA","FRA","HUN","GBR","AUT","DEU","CHL","IND","ARG","ITA","CZE","POL","SWE","DNK","PRT","NLD","ESP","AUS"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $11.44","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $8.32","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $13.20","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $32.75","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $10.23","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $27.77","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $8.58","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $17.91","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $10.89","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $7.93","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $3.47","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"4XoUrkfhJkBI4XoUrsclQKRwPQrXoyBAZmZmZmZmKkAAAAAAAGBAQPYoXI\u002fCdSRAhetRuB7FO0ApXI\u002fC9SghQClcj8L16DFAUrgehevRIUDD9Shcj8InQEjhehSuxyVAzczMzMzMI0BSuB6F69EhQLgehetRuB9AuB6F61G4G0DD9Shcj8ILQK5H4XoUrv8\u002frkfhehSu\u002fz+uR+F6FK7vPw=="},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"2010"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","DEU","FRA","IRL","IND","BEL","ESP","BRA","NOR","GBR","FIN","NLD","CZE","PRT","CHL","AUS","ARG"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $9.36","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $9.24","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $12.14","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $8.52","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $32.75","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $12.38","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $22.77","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $6.60","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $17.84","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $15.88","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $12.90","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $6.44","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $4.46","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"uB6F61G4IkB7FK5H4XoiQEjhehSuRyhACtejcD0KIUAAAAAAAGBAQMP1KFyPwihAAAAAAADAOECF61G4HsU2QGZmZmZmZhpA16NwPQrXMUDD9Shcj8IXQMP1KFyPwi9AzczMzMzMKUDD9Shcj8IZQNejcD0K1xFAw\u002fUoXI\u002fCF0CuR+F6FK7\u002fP65H4XoUru8\u002f"},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"2011"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","BRA","CAN","FRA","PRT","SWE","AUS","CZE","DEU","DNK","ITA","HUN","POL","AUT","IND","GBR","NOR","CHL","FIN","NLD"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $9.84","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $13.37","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $10.64","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $7.33","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $24.77","\u003cb\u003eSweden\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eAustralia\u003c\u002fb\u003e\u003cbr\u003e $22.77","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $9.91","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $4.70","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $5.45","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eChile\u003c\u002fb\u003e\u003cbr\u003e $6.93","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"rkfhehSuI0A9CtejcL0qQEjhehSuRyVAUrgehetRHUCF61G4HsU4QAAAAAAAwDhAhetRuB7FNkBSuB6F69EjQM3MzMzMzBJArkfhehSuL0CuR+F6FK4vQMP1KFyPwidAw\u002fUoXI\u002fCJ0DD9Shcj8InQM3MzMzMzBVAzczMzMzMI0BSuB6F69EhQLgehetRuBtArkfhehSu7z+uR+F6FK7vPw=="},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"2012"},{"data":[{"colorscale":[[0.0,"#fde725"],[0.1111111111111111,"#b5de2b"],[0.2222222222222222,"#6ece58"],[0.3333333333333333,"#35b779"],[0.4444444444444444,"#1f9e89"],[0.5555555555555556,"#26828e"],[0.6666666666666666,"#31688e"],[0.7777777777777778,"#3e4989"],[0.8888888888888888,"#482878"],[1.0,"#440154"]],"hoverinfo":"text","locations":["USA","CAN","FRA","BRA","CZE","GBR","ARG","PRT","FIN","NLD","IND","ESP","DEU","ITA","DNK","BEL","IRL","NOR","POL","HUN","AUT"],"marker":{"line":{"color":"darkgrey","width":0.5}},"text":["\u003cb\u003eUSA\u003c\u002fb\u003e\u003cbr\u003e $7.74","\u003cb\u003eCanada\u003c\u002fb\u003e\u003cbr\u003e $10.32","\u003cb\u003eFrance\u003c\u002fb\u003e\u003cbr\u003e $10.15","\u003cb\u003eBrazil\u003c\u002fb\u003e\u003cbr\u003e $9.40","\u003cb\u003eCzech Republic\u003c\u002fb\u003e\u003cbr\u003e $18.38","\u003cb\u003eUnited Kingdom\u003c\u002fb\u003e\u003cbr\u003e $9.57","\u003cb\u003eArgentina\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003ePortugal\u003c\u002fb\u003e\u003cbr\u003e $24.75","\u003cb\u003eFinland\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eNetherlands\u003c\u002fb\u003e\u003cbr\u003e $15.84","\u003cb\u003eIndia\u003c\u002fb\u003e\u003cbr\u003e $11.89","\u003cb\u003eSpain\u003c\u002fb\u003e\u003cbr\u003e $11.88","\u003cb\u003eGermany\u003c\u002fb\u003e\u003cbr\u003e $9.90","\u003cb\u003eItaly\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eDenmark\u003c\u002fb\u003e\u003cbr\u003e $8.91","\u003cb\u003eBelgium\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eIreland\u003c\u002fb\u003e\u003cbr\u003e $5.94","\u003cb\u003eNorway\u003c\u002fb\u003e\u003cbr\u003e $1.98","\u003cb\u003ePoland\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eHungary\u003c\u002fb\u003e\u003cbr\u003e $0.99","\u003cb\u003eAustria\u003c\u002fb\u003e\u003cbr\u003e $0.99"],"z":{"dtype":"f8","bdata":"9ihcj8L1HkCkcD0K16MkQM3MzMzMTCRAzczMzMzMIkDhehSuR2EyQKRwPQrXIyNAAAAAAADAOEAAAAAAAMA4QK5H4XoUri9ArkfhehSuL0BI4XoUrscnQMP1KFyPwidAzczMzMzMI0BSuB6F69EhQFK4HoXr0SFAw\u002fUoXI\u002fCF0DD9Shcj8IXQK5H4XoUrv8\u002frkfhehSu7z+uR+F6FK7vP65H4XoUru8\u002f"},"zmax":46.62,"zmin":0.99,"type":"choropleth"}],"name":"2013"}]);
                        }).then(function(){
                            Plotly.animate('c8204686-4abc-4990-9155-13f6f77ceae9', null);
                        })                };            </script>        </div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<p>Year-over-year shifts in revenue per customer suggest evolving engagement patterns across regions.</p>
<ul>
<li>High total-revenue countries (USA, Canada, Brazil) and India show <em>flat revenue per customer trends</em>, indicating stable but possibly casual engagement.</li>
<li>South America saw increases in revenue per customer in both 2010 and 2013, suggesting periods of heightened individual customer value — possibly driven by regional promotions or market-specific trends.</li>
<li>Europe experienced a spike in 2011, with multiple countries (e.g., Austria, Hungary, Ireland) showing high per-customer revenue. The cause is unclear but may reflect a surge in high-value purchases or regional campaigns</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li>High per-customer revenue regions (especially those with smaller total revenue footprints) may benefit from <em>customer acquisition efforts</em>, as existing users demonstrate strong engagement or purchasing behavior.</li>
<li>Flat or declining per-customer revenue in large markets highlights a need for <em>upselling, bundling, or personalized offers</em> to increase customer lifetime value.</li>
<li>Investigating year-over-year anomalies (e.g., Australia’s 2012 spike, Europe in 2011) could uncover replicable growth levers or emerging market trends.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="q1-summary" class="level2">
<h2 class="anchored" data-anchor-id="q1-summary">Summary of Exploratory findings</h2>
<p>Total revenue measures market size, while revenue per customer reflects intensity of engagement. Both are important for guiding different types of strategic decisions (e.g., acquisition vs.&nbsp;retention).</p>
<p>Geographic revenue in the Chinook dataset is concentrated in a few strong markets, while many others remain underdeveloped. This disparity presents both risk and opportunity: efforts to deepen engagement in large casual markets (e.g., USA, Brazil) and expand in high-value but small markets (e.g., Austria, Chile) could lead to measurable revenue growth. Year-over-year changes — such as Australia’s exit and Europe’s 2011 spike — suggest that regional trends and operational shifts have meaningful financial impacts worth further investigation.</p>
<ul>
<li><strong>Top 5 Countries by Total Revenue:</strong> USA, Canada, France, Brazil, Germany</li>
<li><strong>Top 5 Countries by Revenue per Customer:</strong> Chile, Hungary, Ireland, Czech Republic, Austria</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Next Steps
</div>
</div>
<div class="callout-body-container callout-body">
<p>If this were real-world data, the following actions could strengthen both analytical insight and strategic decision-making.</p>
<p><strong>Deepen the Analysis:</strong></p>
<ul>
<li><em>Investigate Australia’s 2012–13 drop-off.</em><br>
Examine customer churn, pricing changes, or external events that may explain the abrupt loss of revenue.</li>
<li><em>Analyze U.S. cohort churn to identify upsell opportunities.</em><br>
As the largest revenue contributor with moderate revenue-per-customer, the U.S. market may contain untapped upsell or retention opportunities.</li>
</ul>
<p><strong>Strategic Business Opportunities:</strong></p>
<ul>
<li><em>Launch targeted consumer acquisition campaigns in underpenetrated, high-potential markets.</em><br>
Focus on Chile, Hungary, the Czech Republic and Irelan — all show strong revenue-per-customer despite smaller customer bases.</li>
<li><em>Localize and invest in regional content for India and Asia.</em><br>
These high-population markets show minimal engagement. Tailored content, pricing, or distribution could unlock substantial growth.</li>
<li><em>Re-engage customers in stalled or declining regions.</em><br>
Countries like Brazil and Sweden once generated revenue but saw sustained drop-offs. A targeted win-back campaign could reclaim lapsed users.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="q2" class="level1">
<h1>Question 2: What genres or artists generate the most income?</h1>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Executive Summary
</div>
</div>
<div class="callout-body-container callout-body">
<p>Revenue across genres and artists is highly concentrated, with a few categories (e.g., Rock, TV-related genres) accounting for most earnings. Yet, when normalized by catalog size, smaller genres like Sci Fi &amp; Fantasy and Bossa Nova outperform in per-track efficiency. These findings suggest that <em>total revenue alone understates the value of high-margin, niche content</em>. Year-over-year trends also reveal temporal spikes that signal short-term demand surges — potential targets for agile promotion or bundling strategies.</p>
</div>
</div>
<p>To understand commercial performance across the catalog, revenue was analyzed at both the genre and artist levels.</p>
<p>The pertinent sales data was stored in the <code>InvoiceLine</code> table, where each row corresponded to a purchased track. These transaction records were linked to metadata through the <code>Track</code>, <code>Genre</code>, and <code>Artist</code> tables.</p>
<p>Initial exploration focused on genre-level revenue, with metrics capturing total earnings, sales volume, average revenue per track, and share of overall income.</p>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Revenue by Genre</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  g.Name <span class="kw">AS</span> Genre,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity), <span class="dv">2</span>) <span class="kw">AS</span> TotalRevenue,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Number of Tracks</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> NumTracksSold,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Average Revenue per Track</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity)<span class="op">/</span><span class="fu">COUNT</span>(<span class="op">*</span>), <span class="dv">2</span>) <span class="kw">AS</span> AvgRevenuePerTrack,</span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Total Revenue</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">SUM</span>(UnitPrice <span class="op">*</span> Quantity) <span class="kw">FROM</span> InvoiceLine), <span class="dv">2</span>) <span class="kw">AS</span> PercentOfRevenue,</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Volume (Units Sold)</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">COUNT</span>(<span class="op">*</span>)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">FROM</span> InvoiceLine),<span class="dv">2</span>) <span class="kw">AS</span> PercentOfUnitSales,</span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Total number of tracks in the catalog in this genre</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a>  track_counts.TotalTracksInGenre,</span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Proportion of catalog that was actually sold</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> il.TrackId) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> track_counts.TotalTracksInGenre, <span class="dv">2</span>) <span class="kw">AS</span> PercentOfTracksSold,</span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Revenue per total track in genre</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity) <span class="op">/</span> track_counts.TotalTracksInGenre, <span class="dv">2</span>) <span class="kw">AS</span> RevenuePerTotalTrack,</span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> InvoiceLine il</span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Track t <span class="kw">ON</span> il.TrackId <span class="op">=</span> t.TrackId</span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Genre g <span class="kw">ON</span> t.GenreId <span class="op">=</span> g.GenreId</span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="co">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> (</span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> GenreId, <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> TotalTracksInGenre</span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Track</span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GROUP</span> <span class="kw">BY</span> GenreId</span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a>) <span class="kw">AS</span> track_counts <span class="kw">ON</span> g.GenreId <span class="op">=</span> track_counts.GenreId</span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> g.Name, track_counts.TotalTracksInGenre</span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="co">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> TotalRevenue <span class="kw">DESC</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<colgroup>
<col style="width: 11%">
<col style="width: 8%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 12%">
<col style="width: 13%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Genre</th>
<th style="text-align: right;">TotalRevenue</th>
<th style="text-align: right;">NumTracksSold</th>
<th style="text-align: right;">AvgRevenuePerTrack</th>
<th style="text-align: right;">PercentOfRevenue</th>
<th style="text-align: right;">PercentOfUnitSales</th>
<th style="text-align: right;">TotalTracksInGenre</th>
<th style="text-align: right;">PercentOfTracksSold</th>
<th style="text-align: right;">RevenuePerTotalTrack</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Rock</td>
<td style="text-align: right;">826.65</td>
<td style="text-align: right;">835</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">35.50</td>
<td style="text-align: right;">37.28</td>
<td style="text-align: right;">1297</td>
<td style="text-align: right;">57.44</td>
<td style="text-align: right;">0.64</td>
</tr>
<tr class="even">
<td style="text-align: left;">Latin</td>
<td style="text-align: right;">382.14</td>
<td style="text-align: right;">386</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">16.41</td>
<td style="text-align: right;">17.23</td>
<td style="text-align: right;">579</td>
<td style="text-align: right;">58.72</td>
<td style="text-align: right;">0.66</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Metal</td>
<td style="text-align: right;">261.36</td>
<td style="text-align: right;">264</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">11.22</td>
<td style="text-align: right;">11.79</td>
<td style="text-align: right;">374</td>
<td style="text-align: right;">61.76</td>
<td style="text-align: right;">0.70</td>
</tr>
<tr class="even">
<td style="text-align: left;">Alternative &amp; Punk</td>
<td style="text-align: right;">241.56</td>
<td style="text-align: right;">244</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">10.37</td>
<td style="text-align: right;">10.89</td>
<td style="text-align: right;">332</td>
<td style="text-align: right;">61.14</td>
<td style="text-align: right;">0.73</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TV Shows</td>
<td style="text-align: right;">93.53</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">4.02</td>
<td style="text-align: right;">2.10</td>
<td style="text-align: right;">93</td>
<td style="text-align: right;">46.24</td>
<td style="text-align: right;">1.01</td>
</tr>
<tr class="even">
<td style="text-align: left;">Jazz</td>
<td style="text-align: right;">79.20</td>
<td style="text-align: right;">80</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.40</td>
<td style="text-align: right;">3.57</td>
<td style="text-align: right;">130</td>
<td style="text-align: right;">52.31</td>
<td style="text-align: right;">0.61</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Blues</td>
<td style="text-align: right;">60.39</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">2.59</td>
<td style="text-align: right;">2.72</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">65.43</td>
<td style="text-align: right;">0.75</td>
</tr>
<tr class="even">
<td style="text-align: left;">Drama</td>
<td style="text-align: right;">57.71</td>
<td style="text-align: right;">29</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.48</td>
<td style="text-align: right;">1.29</td>
<td style="text-align: right;">64</td>
<td style="text-align: right;">42.19</td>
<td style="text-align: right;">0.90</td>
</tr>
<tr class="odd">
<td style="text-align: left;">R&amp;B/Soul</td>
<td style="text-align: right;">40.59</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.74</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">61</td>
<td style="text-align: right;">60.66</td>
<td style="text-align: right;">0.67</td>
</tr>
<tr class="even">
<td style="text-align: left;">Classical</td>
<td style="text-align: right;">40.59</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.74</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">74</td>
<td style="text-align: right;">48.65</td>
<td style="text-align: right;">0.55</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Revenue is highly concentrated.
<ul>
<li>The top four genres — Rock, Latin, Metal, Alternative &amp; Punk — generate <em>73.5% of total income</em> and account for <em>77.2% of unit sales</em>.</li>
<li>Rock alone contributes <em>35.5% of total revenue</em>, establishing it as the primary commercial driver.</li>
</ul></li>
<li><em>Revenue is predominantly volume-driven</em> across genres, with minimal pricing differentiation.
<ul>
<li>The average revenue per track across genres is approximately $0.99, indicating <em>consistent pricing strategies</em>.</li>
<li>A small subset of non-music genres (e.g.&nbsp;TV Shows, Science Fiction, Sci Fi &amp; Fantasy, Comedy, and Drama) command significantly higher per-unit revenue (~$1.99 per track). These categories contribute minimally to total volume but represent <em>higher-margin segments</em>.</li>
</ul></li>
<li>Sales penetration varies by genre:
<ul>
<li>The top five genres by percentage of catalog sold are Bossa Nova (93.3%), Sci Fi &amp; Fantasy (76.9%), Blues (65.4%), Metal (61.8%), and Alternative &amp; Punk (61.1%).</li>
<li>Total track count within genres closely aligns with total revenue, highlighting the <em>impact of catalog size on sales</em>.</li>
</ul></li>
<li>Some mid-sized genres — including Sci Fi &amp; Fantasy, Comedy, and TV Shows — deliver <em>above-average revenue per track in catalog</em>, outperforming larger genres in revenue efficiency.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li>Premium-priced genres may offer growth potential if supported through improved visibility, targeted marketing, or content expansion strategies.</li>
<li>The strong correlation between catalog size suggests sales are heavily dependent on the volume of available content within each genre. <em>Diversifying through strategic content acquisition or development</em> in underrepresented genres could mitigate risk from shifts in consumer preferences while creating new revenue streams.</li>
</ul>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Revenue by Artist</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  ar.Name <span class="kw">AS</span> Artist,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Total Revenue</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity), <span class="dv">2</span>) <span class="kw">AS</span> TotalRevenue,</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Number of Tracks</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> NumTracksSold,</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Average Revenue per Track Sold</span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity)<span class="op">/</span><span class="fu">COUNT</span>(<span class="op">*</span>), <span class="dv">2</span>) <span class="kw">AS</span> AvgRevenuePerTrack,</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Total Revenue</span></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">SUM</span>(UnitPrice <span class="op">*</span> Quantity) <span class="kw">FROM</span> InvoiceLine), <span class="dv">2</span>) <span class="kw">AS</span> PercentOfRevenue,</span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Volume (Units Sold)</span></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">COUNT</span>(<span class="op">*</span>)<span class="op">*</span><span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">FROM</span> InvoiceLine),<span class="dv">2</span>) <span class="kw">AS</span> PercentOfUnitSales,</span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Total number of tracks in the catalog for artist</span></span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a>  track_counts.TotalTracksByArtist,</span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Proportion of catalog that was actually sold</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> il.TrackId) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> track_counts.TotalTracksByArtist, <span class="dv">2</span>) <span class="kw">AS</span> PercentOfTracksSold,</span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Revenue per total track by artist</span></span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity) <span class="op">/</span> track_counts.TotalTracksByArtist, <span class="dv">2</span>) <span class="kw">AS</span> RevenuePerTotalTrack</span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> InvoiceLine il</span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Track t <span class="kw">ON</span> il.TrackId <span class="op">=</span> t.TrackId</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Album al <span class="kw">ON</span> t.AlbumId <span class="op">=</span> al.AlbumId</span>
<span id="cb17-23"><a href="#cb17-23" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Artist ar <span class="kw">ON</span> ar.ArtistId <span class="op">=</span> al.ArtistId</span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="co">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> (</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> </span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>      al.ArtistId,</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> TotalTracksByArtist</span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Track t</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">JOIN</span> Album al <span class="kw">ON</span> t.AlbumId <span class="op">=</span> al.AlbumId</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GROUP</span> <span class="kw">BY</span> al.ArtistId</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>) <span class="kw">AS</span> track_counts <span class="kw">ON</span> ar.ArtistId <span class="op">=</span> track_counts.ArtistId</span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> ar.Name, track_counts.TotalTracksByArtist</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a><span class="co">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> TotalRevenue <span class="kw">DESC</span></span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a><span class="co">-- Limit output for readability (165 total artists)</span></span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">25</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<colgroup>
<col style="width: 14%">
<col style="width: 7%">
<col style="width: 8%">
<col style="width: 11%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Artist</th>
<th style="text-align: right;">TotalRevenue</th>
<th style="text-align: right;">NumTracksSold</th>
<th style="text-align: right;">AvgRevenuePerTrack</th>
<th style="text-align: right;">PercentOfRevenue</th>
<th style="text-align: right;">PercentOfUnitSales</th>
<th style="text-align: right;">TotalTracksByArtist</th>
<th style="text-align: right;">PercentOfTracksSold</th>
<th style="text-align: right;">RevenuePerTotalTrack</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Iron Maiden</td>
<td style="text-align: right;">138.60</td>
<td style="text-align: right;">140</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">5.95</td>
<td style="text-align: right;">6.25</td>
<td style="text-align: right;">213</td>
<td style="text-align: right;">57.75</td>
<td style="text-align: right;">0.65</td>
</tr>
<tr class="even">
<td style="text-align: left;">U2</td>
<td style="text-align: right;">105.93</td>
<td style="text-align: right;">107</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">4.55</td>
<td style="text-align: right;">4.78</td>
<td style="text-align: right;">135</td>
<td style="text-align: right;">67.41</td>
<td style="text-align: right;">0.78</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Metallica</td>
<td style="text-align: right;">90.09</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: right;">4.06</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">70.54</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Led Zeppelin</td>
<td style="text-align: right;">86.13</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.70</td>
<td style="text-align: right;">3.88</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">67.54</td>
<td style="text-align: right;">0.76</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Lost</td>
<td style="text-align: right;">81.59</td>
<td style="text-align: right;">41</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">3.50</td>
<td style="text-align: right;">1.83</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">43.48</td>
<td style="text-align: right;">0.89</td>
</tr>
<tr class="even">
<td style="text-align: left;">The Office</td>
<td style="text-align: right;">49.75</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">2.14</td>
<td style="text-align: right;">1.12</td>
<td style="text-align: right;">53</td>
<td style="text-align: right;">41.51</td>
<td style="text-align: right;">0.94</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Os Paralamas Do Sucesso</td>
<td style="text-align: right;">44.55</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.91</td>
<td style="text-align: right;">2.01</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">79.59</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">Deep Purple</td>
<td style="text-align: right;">43.56</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.87</td>
<td style="text-align: right;">1.96</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">44.57</td>
<td style="text-align: right;">0.47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Faith No More</td>
<td style="text-align: right;">41.58</td>
<td style="text-align: right;">42</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.79</td>
<td style="text-align: right;">1.88</td>
<td style="text-align: right;">52</td>
<td style="text-align: right;">69.23</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Eric Clapton</td>
<td style="text-align: right;">39.60</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.70</td>
<td style="text-align: right;">1.79</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">72.92</td>
<td style="text-align: right;">0.82</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>Revenue is more <em>evenly distributed among artists</em>, with lower concentration than at the genre level The top four artists — Iron Maiden, U2, Metallica, and Led Zeppelin — generate only <em>18.08% of total revenue</em>, in contrast to the much higher concentration observed across genres.</li>
<li><em>Non-music content features prominently among top performers.</em><br>
TV Shows, such as <em>Lost</em> (#5, 3.50% of revenue) and <em>The Office</em> (#6, 2.14% of revenue), rank among the top revenue-generating artists, reflecting the impact of premium pricing and niche appeal.</li>
<li><em>Catalog penetration varies widely across artists.</em><br>
The use of a single “artist” value for each track complicates interpretation, as each combination or collaboration is listed as a separate artist (rather than attributed to all artists). Single-track contributors (often collaborations or soundtrack entries) show near-complete sales penetration, despite limited catalog depth.</li>
<li><em>Catalog size strongly correlates with total revenue,</em> reinforcing the importance of content volume in driving performance.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li><em>Investment in high-margin non-music content.</em><br>
Episodic and cinematic media command higher per-unit performance and penetration despite smaller catalogs. <em>Expanding premium non-music offerings</em> — such as curated soundtracks and narrative series — could unlock high-margin growth.</li>
<li><em>Diversify the artist portfolio.</em><br>
With revenue spread broadly across many artists, expanding representation — particularly in underdeveloped genres or emerging niches — could <em>mitigate risk</em> and attract a wider audience.</li>
<li><em>Maximize existing catalog performance.</em><br>
High-performing artists with unsold tracks represent untapped value. Targeted promotions, playlists, or bundling strategies could increase catalog penetration and enhance revenue efficiency.</li>
</ul>
</div>
</div>
<div class="cell">
<div class="code-with-filename">
<details class="code-fold">
<summary>Show Code</summary>
<div class="code-with-filename-file">
<pre><strong>SQL</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">-- Top Artists within the Top Genres</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span> </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  g.Name <span class="kw">AS</span> Genre,</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  ar.Name <span class="kw">AS</span> Artist,</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Total Revenue</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity), <span class="dv">2</span>) <span class="kw">AS</span> TotalRevenue,</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Number of Tracks Sold</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> NumTracksSold,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Total Revenue</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">SUM</span>(UnitPrice <span class="op">*</span> Quantity) <span class="kw">FROM</span> InvoiceLine), <span class="dv">2</span>) <span class="kw">AS</span> PercentOfRevenue,</span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Average Revenue per Track Sold</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity) <span class="op">/</span> <span class="fu">COUNT</span>(<span class="op">*</span>), <span class="dv">2</span>) <span class="kw">AS</span> AvgRevenuePerTrack,</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Percentage of Volume (Units Sold)</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> il.TrackId) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> (<span class="kw">SELECT</span> <span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> TrackId) <span class="kw">FROM</span> InvoiceLine) <span class="kw">AS</span> PercentOfUnitSales,</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Total number of tracks in the catalog for artist-genre combo</span></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  catalog_stats.TotalTracksInCatalog,</span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Proportion of catalog that was actually sold</span></span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">COUNT</span>(<span class="kw">DISTINCT</span> il.TrackId) <span class="op">*</span> <span class="fl">100.0</span> <span class="op">/</span> catalog_stats.TotalTracksInCatalog, <span class="dv">2</span>) <span class="kw">AS</span> PercentOfCatalogSold,</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">-- Revenue per total track by artist-genre combo</span></span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ROUND</span>(<span class="fu">SUM</span>(il.UnitPrice <span class="op">*</span> il.Quantity) <span class="op">/</span> catalog_stats.TotalTracksInCatalog, <span class="dv">2</span>) <span class="kw">AS</span> RevenuePerCatalogTrack</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> InvoiceLine il</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Track t <span class="kw">ON</span> il.TrackId <span class="op">=</span> t.TrackId</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Album al <span class="kw">ON</span> t.AlbumId <span class="op">=</span> al.AlbumId</span>
<span id="cb18-25"><a href="#cb18-25" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Artist ar <span class="kw">ON</span> al.ArtistId <span class="op">=</span> ar.ArtistId</span>
<span id="cb18-26"><a href="#cb18-26" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> Genre g <span class="kw">ON</span> t.GenreId <span class="op">=</span> g.GenreId</span>
<span id="cb18-27"><a href="#cb18-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-28"><a href="#cb18-28" aria-hidden="true" tabindex="-1"></a><span class="co">-- Subquery to get the total catalog size for each Artist-Genre pair</span></span>
<span id="cb18-29"><a href="#cb18-29" aria-hidden="true" tabindex="-1"></a><span class="kw">JOIN</span> (</span>
<span id="cb18-30"><a href="#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> </span>
<span id="cb18-31"><a href="#cb18-31" aria-hidden="true" tabindex="-1"></a>      al.ArtistId,</span>
<span id="cb18-32"><a href="#cb18-32" aria-hidden="true" tabindex="-1"></a>      t.GenreId,</span>
<span id="cb18-33"><a href="#cb18-33" aria-hidden="true" tabindex="-1"></a>      <span class="fu">COUNT</span>(<span class="op">*</span>) <span class="kw">AS</span> TotalTracksInCatalog</span>
<span id="cb18-34"><a href="#cb18-34" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> Track t</span>
<span id="cb18-35"><a href="#cb18-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">JOIN</span> Album al <span class="kw">ON</span> t.AlbumId <span class="op">=</span> al.AlbumId</span>
<span id="cb18-36"><a href="#cb18-36" aria-hidden="true" tabindex="-1"></a>    <span class="kw">GROUP</span> <span class="kw">BY</span> al.ArtistId, t.GenreId</span>
<span id="cb18-37"><a href="#cb18-37" aria-hidden="true" tabindex="-1"></a>) <span class="kw">AS</span> catalog_stats </span>
<span id="cb18-38"><a href="#cb18-38" aria-hidden="true" tabindex="-1"></a>  <span class="kw">ON</span> al.ArtistId <span class="op">=</span> catalog_stats.ArtistId <span class="kw">AND</span> t.GenreId <span class="op">=</span> catalog_stats.GenreId</span>
<span id="cb18-39"><a href="#cb18-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb18-40"><a href="#cb18-40" aria-hidden="true" tabindex="-1"></a><span class="kw">GROUP</span> <span class="kw">BY</span> g.Name, ar.Name, catalog_stats.TotalTracksInCatalog</span>
<span id="cb18-41"><a href="#cb18-41" aria-hidden="true" tabindex="-1"></a><span class="co">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb18-42"><a href="#cb18-42" aria-hidden="true" tabindex="-1"></a><span class="kw">ORDER</span> <span class="kw">BY</span> TotalRevenue <span class="kw">DESC</span></span>
<span id="cb18-43"><a href="#cb18-43" aria-hidden="true" tabindex="-1"></a><span class="co">-- Limit output for readability (165 total artists)</span></span>
<span id="cb18-44"><a href="#cb18-44" aria-hidden="true" tabindex="-1"></a><span class="kw">LIMIT</span> <span class="dv">50</span>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell-output-display">
<table class="caption-top table table-sm table-striped small">
<caption>Displaying records 1 - 10</caption>
<colgroup>
<col style="width: 4%">
<col style="width: 15%">
<col style="width: 7%">
<col style="width: 7%">
<col style="width: 9%">
<col style="width: 10%">
<col style="width: 10%">
<col style="width: 11%">
<col style="width: 11%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Genre</th>
<th style="text-align: left;">Artist</th>
<th style="text-align: right;">TotalRevenue</th>
<th style="text-align: right;">NumTracksSold</th>
<th style="text-align: right;">PercentOfRevenue</th>
<th style="text-align: right;">AvgRevenuePerTrack</th>
<th style="text-align: right;">PercentOfUnitSales</th>
<th style="text-align: right;">TotalTracksInCatalog</th>
<th style="text-align: right;">PercentOfCatalogSold</th>
<th style="text-align: right;">RevenuePerCatalogTrack</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">U2</td>
<td style="text-align: right;">90.09</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.881048</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">68.75</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="even">
<td style="text-align: left;">Metal</td>
<td style="text-align: left;">Metallica</td>
<td style="text-align: right;">90.09</td>
<td style="text-align: right;">91</td>
<td style="text-align: right;">3.87</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.981855</td>
<td style="text-align: right;">112</td>
<td style="text-align: right;">70.54</td>
<td style="text-align: right;">0.80</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">Led Zeppelin</td>
<td style="text-align: right;">86.13</td>
<td style="text-align: right;">87</td>
<td style="text-align: right;">3.70</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.881048</td>
<td style="text-align: right;">114</td>
<td style="text-align: right;">67.54</td>
<td style="text-align: right;">0.76</td>
</tr>
<tr class="even">
<td style="text-align: left;">Metal</td>
<td style="text-align: left;">Iron Maiden</td>
<td style="text-align: right;">69.30</td>
<td style="text-align: right;">70</td>
<td style="text-align: right;">2.98</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">3.074597</td>
<td style="text-align: right;">95</td>
<td style="text-align: right;">64.21</td>
<td style="text-align: right;">0.73</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">Iron Maiden</td>
<td style="text-align: right;">53.46</td>
<td style="text-align: right;">54</td>
<td style="text-align: right;">2.30</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">2.318548</td>
<td style="text-align: right;">81</td>
<td style="text-align: right;">56.79</td>
<td style="text-align: right;">0.66</td>
</tr>
<tr class="even">
<td style="text-align: left;">TV Shows</td>
<td style="text-align: left;">Lost</td>
<td style="text-align: right;">45.77</td>
<td style="text-align: right;">23</td>
<td style="text-align: right;">1.97</td>
<td style="text-align: right;">1.99</td>
<td style="text-align: right;">1.108871</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">45.83</td>
<td style="text-align: right;">0.95</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Latin</td>
<td style="text-align: left;">Os Paralamas Do Sucesso</td>
<td style="text-align: right;">44.55</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">1.91</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.965726</td>
<td style="text-align: right;">49</td>
<td style="text-align: right;">79.59</td>
<td style="text-align: right;">0.91</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">Deep Purple</td>
<td style="text-align: right;">43.56</td>
<td style="text-align: right;">44</td>
<td style="text-align: right;">1.87</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">2.066532</td>
<td style="text-align: right;">92</td>
<td style="text-align: right;">44.57</td>
<td style="text-align: right;">0.47</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">Creedence Clearwater Revival</td>
<td style="text-align: right;">36.63</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1.57</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.562500</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">77.50</td>
<td style="text-align: right;">0.92</td>
</tr>
<tr class="even">
<td style="text-align: left;">Rock</td>
<td style="text-align: left;">Queen</td>
<td style="text-align: right;">36.63</td>
<td style="text-align: right;">37</td>
<td style="text-align: right;">1.57</td>
<td style="text-align: right;">0.99</td>
<td style="text-align: right;">1.663307</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">73.33</td>
<td style="text-align: right;">0.81</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><em>Artist-Genre revenue leaders align with broader trends.</em><br>
The top artist-genre combinations by revenue mirror those from individual artist and genre views. For example, Metallica and Iron Maiden dominate within the Metal genre while U2, Led Zeppelin, and Iron Maiden lead within Rock. Together, the top 5 artist-genre combinations account for <em>17.13% of total revenue</em>, and <em>16.72% of unit sales</em>, underscoring their importance in driving overall volume.</li>
<li><em>High-efficiency revenue segments are concentrated in niche content.</em><br>
The top entries by <em>revenue per track in catalog</em> are overwhelmingly skewed towards TV shows and classical music ensembles, such as <em>Aquaman</em> (TV Show, $3.98 per catalog track), <em>Battlestar Galactica</em> (Sci Fi &amp; Fantasy, $1.99 per catalog track), and <em>Emerson String Quartet</em> (Classical, $1.98 catalog track). These offerings, while limited in volume, generate significantly more revenue per track than mainstream genres and artists, reflecting <em>strong premium pricing</em> and <em>dedicated niche demand</em>.</li>
<li><em>Catalog penetration varies widely by artist–genre combo.</em><br>
Several high-revenue artists still show less-than-complete catalog sales, revealing unrealized value within popular genres. On the other hand, certain one-off soundtrack or TV show entries show 100% catalog penetration, despite having only one or two tracks.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li><em>Expand and promote high-margin, niche content.</em><br>
TV Shows demonstrate high catalog penetration while maintaining premium pricing and small catalog size. These segments offer disproportionately high returns and could benefit from <em>improved discoverabiltity</em> (e.g.&nbsp;curated collections, themed playlists), <em>bundling or pricing experiments</em> (e.g., multi-track purchase bundles), and/or <em>licensing or development of similar content</em> with proven formats.</li>
<li><em>Drive deeper engagement within top genres and artists.</em><br>
High performing combinations like Metallica (Metal) and U2 (Rock) have both scale and engagement, yet still show gaps in catalog sales. Tactics like <em>targeted re-promotions</em>, <em>anniversary releases</em>, or <em>live/rare editions</em> could convert more of the existing catalog into revenue.</li>
<li><em>Leverage genre-artist analytics for marketing segmentation.</em><br>
This crossover view reveals which artist–genre pairs have loyal followings and which may benefit from strategic push. <em>Personalized marketing</em> based on known affinities (e.g.&nbsp;fans of Battlestar Galactica may enjoy other Sci-Fi media) could unlock untapped audiences.</li>
<li><em>Mitigate risk through diversified content investment.</em><br>
Concentration remains a factor — a small number of artist–genre pairs account for a large share of unit sales. Expanding representation in emerging or underrepresented artist–genre combinations could <em>reduce dependency on top performers</em> while <em>broadening reach</em>.</li>
</ul>
</div>
</div>
<section id="exploratory-visualizations" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-visualizations">Exploratory Visualizations</h2>
<p>In preparation for exploratory visualization generation, the data is retrieved using SQL queries and prepared in both R and Python.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL Queries</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Genre</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="do">### Yearly Breakdown</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>res_genre_yearly_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  con_chinook, </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Get Genre and Year for grouping</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a><span class="st">  g.Name AS Genre,</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a><span class="st">  YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track</span></span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog in this genre</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksInGenre,</span></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksInGenre, 2) AS PercentOfTracksSold,</span></span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track in genre</span></span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksInGenre, 2) AS RevenuePerTotalTrack,</span></span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on il.InvoiceId = i.InvoiceId</span></span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Genre g ON t.GenreId = g.GenreId</span></span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT GenreId, COUNT(*) AS TotalTracksInGenre</span></span>
<span id="cb19-33"><a href="#cb19-33" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track</span></span>
<span id="cb19-34"><a href="#cb19-34" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY GenreId</span></span>
<span id="cb19-35"><a href="#cb19-35" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON g.GenreId = track_counts.GenreId</span></span>
<span id="cb19-36"><a href="#cb19-36" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY g.Name, Year, track_counts.TotalTracksInGenre</span></span>
<span id="cb19-37"><a href="#cb19-37" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb19-38"><a href="#cb19-38" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span>)</span>
<span id="cb19-39"><a href="#cb19-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-40"><a href="#cb19-40" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregate</span></span>
<span id="cb19-41"><a href="#cb19-41" aria-hidden="true" tabindex="-1"></a>res_genre_agg_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb19-42"><a href="#cb19-42" aria-hidden="true" tabindex="-1"></a>  con_chinook,</span>
<span id="cb19-43"><a href="#cb19-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb19-44"><a href="#cb19-44" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Get Genre and Year for grouping</span></span>
<span id="cb19-45"><a href="#cb19-45" aria-hidden="true" tabindex="-1"></a><span class="st">  g.Name AS Genre,</span></span>
<span id="cb19-46"><a href="#cb19-46" aria-hidden="true" tabindex="-1"></a><span class="st">  'All' as Year,</span></span>
<span id="cb19-47"><a href="#cb19-47" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb19-48"><a href="#cb19-48" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb19-49"><a href="#cb19-49" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb19-50"><a href="#cb19-50" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb19-51"><a href="#cb19-51" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track</span></span>
<span id="cb19-52"><a href="#cb19-52" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb19-53"><a href="#cb19-53" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb19-54"><a href="#cb19-54" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb19-55"><a href="#cb19-55" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb19-56"><a href="#cb19-56" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb19-57"><a href="#cb19-57" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog in this genre</span></span>
<span id="cb19-58"><a href="#cb19-58" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksInGenre,</span></span>
<span id="cb19-59"><a href="#cb19-59" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb19-60"><a href="#cb19-60" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksInGenre, 2) AS PercentOfTracksSold,</span></span>
<span id="cb19-61"><a href="#cb19-61" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track in genre</span></span>
<span id="cb19-62"><a href="#cb19-62" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksInGenre, 2) AS RevenuePerTotalTrack,</span></span>
<span id="cb19-63"><a href="#cb19-63" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb19-64"><a href="#cb19-64" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb19-65"><a href="#cb19-65" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Genre g ON t.GenreId = g.GenreId</span></span>
<span id="cb19-66"><a href="#cb19-66" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb19-67"><a href="#cb19-67" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb19-68"><a href="#cb19-68" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT GenreId, COUNT(*) AS TotalTracksInGenre</span></span>
<span id="cb19-69"><a href="#cb19-69" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track</span></span>
<span id="cb19-70"><a href="#cb19-70" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY GenreId</span></span>
<span id="cb19-71"><a href="#cb19-71" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON g.GenreId = track_counts.GenreId</span></span>
<span id="cb19-72"><a href="#cb19-72" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY g.Name, Year, track_counts.TotalTracksInGenre</span></span>
<span id="cb19-73"><a href="#cb19-73" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb19-74"><a href="#cb19-74" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span>)</span>
<span id="cb19-75"><a href="#cb19-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-76"><a href="#cb19-76" aria-hidden="true" tabindex="-1"></a><span class="do">## Artist</span></span>
<span id="cb19-77"><a href="#cb19-77" aria-hidden="true" tabindex="-1"></a>res_artist_yearly_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb19-78"><a href="#cb19-78" aria-hidden="true" tabindex="-1"></a>  con_chinook,</span>
<span id="cb19-79"><a href="#cb19-79" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb19-80"><a href="#cb19-80" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Select Artist and Year for Grouping</span></span>
<span id="cb19-81"><a href="#cb19-81" aria-hidden="true" tabindex="-1"></a><span class="st">  ar.Name AS Artist,</span></span>
<span id="cb19-82"><a href="#cb19-82" aria-hidden="true" tabindex="-1"></a><span class="st">  YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb19-83"><a href="#cb19-83" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb19-84"><a href="#cb19-84" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb19-85"><a href="#cb19-85" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb19-86"><a href="#cb19-86" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb19-87"><a href="#cb19-87" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track Sold</span></span>
<span id="cb19-88"><a href="#cb19-88" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb19-89"><a href="#cb19-89" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb19-90"><a href="#cb19-90" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb19-91"><a href="#cb19-91" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb19-92"><a href="#cb19-92" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb19-93"><a href="#cb19-93" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog for artist</span></span>
<span id="cb19-94"><a href="#cb19-94" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksByArtist,</span></span>
<span id="cb19-95"><a href="#cb19-95" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb19-96"><a href="#cb19-96" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksByArtist, 2) AS PercentOfTracksSold,</span></span>
<span id="cb19-97"><a href="#cb19-97" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track by artist</span></span>
<span id="cb19-98"><a href="#cb19-98" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksByArtist, 2) AS RevenuePerTotalTrack</span></span>
<span id="cb19-99"><a href="#cb19-99" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb19-100"><a href="#cb19-100" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on il.InvoiceId = i.InvoiceId</span></span>
<span id="cb19-101"><a href="#cb19-101" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb19-102"><a href="#cb19-102" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb19-103"><a href="#cb19-103" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Artist ar ON ar.ArtistId = al.ArtistId</span></span>
<span id="cb19-104"><a href="#cb19-104" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb19-105"><a href="#cb19-105" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb19-106"><a href="#cb19-106" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT </span></span>
<span id="cb19-107"><a href="#cb19-107" aria-hidden="true" tabindex="-1"></a><span class="st">      al.ArtistId,</span></span>
<span id="cb19-108"><a href="#cb19-108" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(*) AS TotalTracksByArtist</span></span>
<span id="cb19-109"><a href="#cb19-109" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track t</span></span>
<span id="cb19-110"><a href="#cb19-110" aria-hidden="true" tabindex="-1"></a><span class="st">    JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb19-111"><a href="#cb19-111" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY al.ArtistId</span></span>
<span id="cb19-112"><a href="#cb19-112" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON ar.ArtistId = track_counts.ArtistId</span></span>
<span id="cb19-113"><a href="#cb19-113" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY ar.Name, Year, track_counts.TotalTracksByArtist</span></span>
<span id="cb19-114"><a href="#cb19-114" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb19-115"><a href="#cb19-115" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span></span>
<span id="cb19-116"><a href="#cb19-116" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-117"><a href="#cb19-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-118"><a href="#cb19-118" aria-hidden="true" tabindex="-1"></a>res_artist_agg_df <span class="ot">&lt;-</span> DBI<span class="sc">::</span><span class="fu">dbGetQuery</span>(</span>
<span id="cb19-119"><a href="#cb19-119" aria-hidden="true" tabindex="-1"></a>  con_chinook,</span>
<span id="cb19-120"><a href="#cb19-120" aria-hidden="true" tabindex="-1"></a>  <span class="st">"SELECT </span></span>
<span id="cb19-121"><a href="#cb19-121" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Select Artist and Year for Grouping</span></span>
<span id="cb19-122"><a href="#cb19-122" aria-hidden="true" tabindex="-1"></a><span class="st">  ar.Name AS Artist,</span></span>
<span id="cb19-123"><a href="#cb19-123" aria-hidden="true" tabindex="-1"></a><span class="st">  'All' as Year,</span></span>
<span id="cb19-124"><a href="#cb19-124" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb19-125"><a href="#cb19-125" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb19-126"><a href="#cb19-126" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb19-127"><a href="#cb19-127" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb19-128"><a href="#cb19-128" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track Sold</span></span>
<span id="cb19-129"><a href="#cb19-129" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb19-130"><a href="#cb19-130" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb19-131"><a href="#cb19-131" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb19-132"><a href="#cb19-132" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb19-133"><a href="#cb19-133" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb19-134"><a href="#cb19-134" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog for artist</span></span>
<span id="cb19-135"><a href="#cb19-135" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksByArtist,</span></span>
<span id="cb19-136"><a href="#cb19-136" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb19-137"><a href="#cb19-137" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksByArtist, 2) AS PercentOfTracksSold,</span></span>
<span id="cb19-138"><a href="#cb19-138" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track by artist</span></span>
<span id="cb19-139"><a href="#cb19-139" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksByArtist, 2) AS RevenuePerTotalTrack</span></span>
<span id="cb19-140"><a href="#cb19-140" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb19-141"><a href="#cb19-141" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb19-142"><a href="#cb19-142" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb19-143"><a href="#cb19-143" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Artist ar ON ar.ArtistId = al.ArtistId</span></span>
<span id="cb19-144"><a href="#cb19-144" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb19-145"><a href="#cb19-145" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb19-146"><a href="#cb19-146" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT </span></span>
<span id="cb19-147"><a href="#cb19-147" aria-hidden="true" tabindex="-1"></a><span class="st">      al.ArtistId,</span></span>
<span id="cb19-148"><a href="#cb19-148" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(*) AS TotalTracksByArtist</span></span>
<span id="cb19-149"><a href="#cb19-149" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track t</span></span>
<span id="cb19-150"><a href="#cb19-150" aria-hidden="true" tabindex="-1"></a><span class="st">    JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb19-151"><a href="#cb19-151" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY al.ArtistId</span></span>
<span id="cb19-152"><a href="#cb19-152" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON ar.ArtistId = track_counts.ArtistId</span></span>
<span id="cb19-153"><a href="#cb19-153" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY ar.Name, Year, track_counts.TotalTracksByArtist</span></span>
<span id="cb19-154"><a href="#cb19-154" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb19-155"><a href="#cb19-155" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"</span></span>
<span id="cb19-156"><a href="#cb19-156" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-157"><a href="#cb19-157" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-158"><a href="#cb19-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames in R</span></span>
<span id="cb19-159"><a href="#cb19-159" aria-hidden="true" tabindex="-1"></a>res_genre_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb19-160"><a href="#cb19-160" aria-hidden="true" tabindex="-1"></a>  res_genre_agg_df,</span>
<span id="cb19-161"><a href="#cb19-161" aria-hidden="true" tabindex="-1"></a>  res_genre_yearly_df <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.character</span>(Year))</span>
<span id="cb19-162"><a href="#cb19-162" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-163"><a href="#cb19-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-164"><a href="#cb19-164" aria-hidden="true" tabindex="-1"></a>res_artist_df <span class="ot">&lt;-</span> dplyr<span class="sc">::</span><span class="fu">bind_rows</span>(</span>
<span id="cb19-165"><a href="#cb19-165" aria-hidden="true" tabindex="-1"></a>  res_artist_agg_df,</span>
<span id="cb19-166"><a href="#cb19-166" aria-hidden="true" tabindex="-1"></a>  res_artist_yearly_df <span class="sc">|&gt;</span> dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">as.character</span>(Year))</span>
<span id="cb19-167"><a href="#cb19-167" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-168"><a href="#cb19-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-169"><a href="#cb19-169" aria-hidden="true" tabindex="-1"></a><span class="co"># Get vector of unique years (layers/traces) - order with "All" first.</span></span>
<span id="cb19-170"><a href="#cb19-170" aria-hidden="true" tabindex="-1"></a>years <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"All"</span>, <span class="fu">sort</span>(<span class="fu">unique</span>(res_genre_yearly_df<span class="sc">$</span>Year)))</span>
<span id="cb19-171"><a href="#cb19-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-172"><a href="#cb19-172" aria-hidden="true" tabindex="-1"></a><span class="co"># Make "Year" an ordered factor (Plot generation ordering)</span></span>
<span id="cb19-173"><a href="#cb19-173" aria-hidden="true" tabindex="-1"></a>res_genre_df <span class="ot">&lt;-</span> res_genre_df <span class="sc">|&gt;</span></span>
<span id="cb19-174"><a href="#cb19-174" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">factor</span>(Year, <span class="at">levels =</span> years, <span class="at">ordered =</span> <span class="cn">TRUE</span>))</span>
<span id="cb19-175"><a href="#cb19-175" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-176"><a href="#cb19-176" aria-hidden="true" tabindex="-1"></a>res_artist_df <span class="ot">&lt;-</span> res_artist_df <span class="sc">|&gt;</span></span>
<span id="cb19-177"><a href="#cb19-177" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> <span class="fu">factor</span>(Year, <span class="at">levels =</span> years, <span class="at">ordered =</span> T))</span>
<span id="cb19-178"><a href="#cb19-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-179"><a href="#cb19-179" aria-hidden="true" tabindex="-1"></a><span class="co"># Get vector of unique Genres - order by total revenue overall</span></span>
<span id="cb19-180"><a href="#cb19-180" aria-hidden="true" tabindex="-1"></a>genres <span class="ot">&lt;-</span> res_genre_agg_df <span class="sc">|&gt;</span></span>
<span id="cb19-181"><a href="#cb19-181" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(TotalRevenue)) <span class="sc">|&gt;</span></span>
<span id="cb19-182"><a href="#cb19-182" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Genre) <span class="sc">|&gt;</span></span>
<span id="cb19-183"><a href="#cb19-183" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-184"><a href="#cb19-184" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">pull</span>()</span>
<span id="cb19-185"><a href="#cb19-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-186"><a href="#cb19-186" aria-hidden="true" tabindex="-1"></a><span class="co"># Make "Genre" an ordered factor (Plot generation ordering)</span></span>
<span id="cb19-187"><a href="#cb19-187" aria-hidden="true" tabindex="-1"></a>res_genre_df <span class="ot">&lt;-</span> res_genre_df <span class="sc">|&gt;</span></span>
<span id="cb19-188"><a href="#cb19-188" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb19-189"><a href="#cb19-189" aria-hidden="true" tabindex="-1"></a>    <span class="at">Genre =</span> <span class="fu">factor</span>(Genre, <span class="at">levels =</span> genres, <span class="at">ordered =</span> T)</span>
<span id="cb19-190"><a href="#cb19-190" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb19-191"><a href="#cb19-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-192"><a href="#cb19-192" aria-hidden="true" tabindex="-1"></a><span class="co"># Get vector of unique Artists - order by total revenue overall</span></span>
<span id="cb19-193"><a href="#cb19-193" aria-hidden="true" tabindex="-1"></a>artists <span class="ot">&lt;-</span> res_artist_agg_df <span class="sc">|&gt;</span></span>
<span id="cb19-194"><a href="#cb19-194" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">arrange</span>(dplyr<span class="sc">::</span><span class="fu">desc</span>(TotalRevenue)) <span class="sc">|&gt;</span></span>
<span id="cb19-195"><a href="#cb19-195" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(Artist) <span class="sc">|&gt;</span></span>
<span id="cb19-196"><a href="#cb19-196" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">distinct</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-197"><a href="#cb19-197" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">pull</span>()</span>
<span id="cb19-198"><a href="#cb19-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-199"><a href="#cb19-199" aria-hidden="true" tabindex="-1"></a><span class="co"># Make "Genre" an ordered factor (Plot generation ordering)</span></span>
<span id="cb19-200"><a href="#cb19-200" aria-hidden="true" tabindex="-1"></a>res_artist_df <span class="ot">&lt;-</span> res_artist_df <span class="sc">|&gt;</span></span>
<span id="cb19-201"><a href="#cb19-201" aria-hidden="true" tabindex="-1"></a>  dplyr<span class="sc">::</span><span class="fu">mutate</span>(</span>
<span id="cb19-202"><a href="#cb19-202" aria-hidden="true" tabindex="-1"></a>    <span class="at">Genre =</span> <span class="fu">factor</span>(Artist, <span class="at">levels =</span> artists, <span class="at">ordered =</span> T)</span>
<span id="cb19-203"><a href="#cb19-203" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># SQL Queries</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Genre</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co">### Yearly Breakdown</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>res_genre_yearly_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""SELECT </span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Get Genre and Year for grouping</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="st">  g.Name AS Genre,</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="st">  YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track</span></span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog in this genre</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksInGenre,</span></span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksInGenre, 2) AS PercentOfTracksSold,</span></span>
<span id="cb20-23"><a href="#cb20-23" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track in genre</span></span>
<span id="cb20-24"><a href="#cb20-24" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksInGenre, 2) AS RevenuePerTotalTrack,</span></span>
<span id="cb20-25"><a href="#cb20-25" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb20-26"><a href="#cb20-26" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on il.InvoiceId = i.InvoiceId</span></span>
<span id="cb20-27"><a href="#cb20-27" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb20-28"><a href="#cb20-28" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Genre g ON t.GenreId = g.GenreId</span></span>
<span id="cb20-29"><a href="#cb20-29" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb20-30"><a href="#cb20-30" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb20-31"><a href="#cb20-31" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT GenreId, COUNT(*) AS TotalTracksInGenre</span></span>
<span id="cb20-32"><a href="#cb20-32" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track</span></span>
<span id="cb20-33"><a href="#cb20-33" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY GenreId</span></span>
<span id="cb20-34"><a href="#cb20-34" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON g.GenreId = track_counts.GenreId</span></span>
<span id="cb20-35"><a href="#cb20-35" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY g.Name, Year, track_counts.TotalTracksInGenre</span></span>
<span id="cb20-36"><a href="#cb20-36" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb20-37"><a href="#cb20-37" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb20-38"><a href="#cb20-38" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb20-39"><a href="#cb20-39" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-40"><a href="#cb20-40" aria-hidden="true" tabindex="-1"></a><span class="co">### Aggregate</span></span>
<span id="cb20-41"><a href="#cb20-41" aria-hidden="true" tabindex="-1"></a>res_genre_agg_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb20-42"><a href="#cb20-42" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""SELECT </span></span>
<span id="cb20-43"><a href="#cb20-43" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Get Genre and Year for grouping</span></span>
<span id="cb20-44"><a href="#cb20-44" aria-hidden="true" tabindex="-1"></a><span class="st">  g.Name AS Genre,</span></span>
<span id="cb20-45"><a href="#cb20-45" aria-hidden="true" tabindex="-1"></a><span class="st">  'All' as Year,</span></span>
<span id="cb20-46"><a href="#cb20-46" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb20-47"><a href="#cb20-47" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb20-48"><a href="#cb20-48" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb20-49"><a href="#cb20-49" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb20-50"><a href="#cb20-50" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track</span></span>
<span id="cb20-51"><a href="#cb20-51" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb20-52"><a href="#cb20-52" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb20-53"><a href="#cb20-53" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb20-54"><a href="#cb20-54" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb20-55"><a href="#cb20-55" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb20-56"><a href="#cb20-56" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog in this genre</span></span>
<span id="cb20-57"><a href="#cb20-57" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksInGenre,</span></span>
<span id="cb20-58"><a href="#cb20-58" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb20-59"><a href="#cb20-59" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksInGenre, 2) AS PercentOfTracksSold,</span></span>
<span id="cb20-60"><a href="#cb20-60" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track in genre</span></span>
<span id="cb20-61"><a href="#cb20-61" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksInGenre, 2) AS RevenuePerTotalTrack,</span></span>
<span id="cb20-62"><a href="#cb20-62" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb20-63"><a href="#cb20-63" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb20-64"><a href="#cb20-64" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Genre g ON t.GenreId = g.GenreId</span></span>
<span id="cb20-65"><a href="#cb20-65" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb20-66"><a href="#cb20-66" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb20-67"><a href="#cb20-67" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT GenreId, COUNT(*) AS TotalTracksInGenre</span></span>
<span id="cb20-68"><a href="#cb20-68" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track</span></span>
<span id="cb20-69"><a href="#cb20-69" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY GenreId</span></span>
<span id="cb20-70"><a href="#cb20-70" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON g.GenreId = track_counts.GenreId</span></span>
<span id="cb20-71"><a href="#cb20-71" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY g.Name, Year, track_counts.TotalTracksInGenre</span></span>
<span id="cb20-72"><a href="#cb20-72" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb20-73"><a href="#cb20-73" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb20-74"><a href="#cb20-74" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb20-75"><a href="#cb20-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-76"><a href="#cb20-76" aria-hidden="true" tabindex="-1"></a><span class="co">## Arist</span></span>
<span id="cb20-77"><a href="#cb20-77" aria-hidden="true" tabindex="-1"></a><span class="co">### Yearly Breakdown</span></span>
<span id="cb20-78"><a href="#cb20-78" aria-hidden="true" tabindex="-1"></a>res_artist_yearly_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb20-79"><a href="#cb20-79" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""SELECT </span></span>
<span id="cb20-80"><a href="#cb20-80" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Select Artist and Year for Grouping</span></span>
<span id="cb20-81"><a href="#cb20-81" aria-hidden="true" tabindex="-1"></a><span class="st">  ar.Name AS Artist,</span></span>
<span id="cb20-82"><a href="#cb20-82" aria-hidden="true" tabindex="-1"></a><span class="st">  YEAR(i.InvoiceDate) as Year,</span></span>
<span id="cb20-83"><a href="#cb20-83" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb20-84"><a href="#cb20-84" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb20-85"><a href="#cb20-85" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb20-86"><a href="#cb20-86" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb20-87"><a href="#cb20-87" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track Sold</span></span>
<span id="cb20-88"><a href="#cb20-88" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb20-89"><a href="#cb20-89" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb20-90"><a href="#cb20-90" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb20-91"><a href="#cb20-91" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb20-92"><a href="#cb20-92" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb20-93"><a href="#cb20-93" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog for artist</span></span>
<span id="cb20-94"><a href="#cb20-94" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksByArtist,</span></span>
<span id="cb20-95"><a href="#cb20-95" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb20-96"><a href="#cb20-96" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksByArtist, 2) AS PercentOfTracksSold,</span></span>
<span id="cb20-97"><a href="#cb20-97" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track by artist</span></span>
<span id="cb20-98"><a href="#cb20-98" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksByArtist, 2) AS RevenuePerTotalTrack</span></span>
<span id="cb20-99"><a href="#cb20-99" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb20-100"><a href="#cb20-100" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Invoice i on il.InvoiceId = i.InvoiceId</span></span>
<span id="cb20-101"><a href="#cb20-101" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb20-102"><a href="#cb20-102" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb20-103"><a href="#cb20-103" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Artist ar ON ar.ArtistId = al.ArtistId</span></span>
<span id="cb20-104"><a href="#cb20-104" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb20-105"><a href="#cb20-105" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb20-106"><a href="#cb20-106" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT </span></span>
<span id="cb20-107"><a href="#cb20-107" aria-hidden="true" tabindex="-1"></a><span class="st">      al.ArtistId,</span></span>
<span id="cb20-108"><a href="#cb20-108" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(*) AS TotalTracksByArtist</span></span>
<span id="cb20-109"><a href="#cb20-109" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track t</span></span>
<span id="cb20-110"><a href="#cb20-110" aria-hidden="true" tabindex="-1"></a><span class="st">    JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb20-111"><a href="#cb20-111" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY al.ArtistId</span></span>
<span id="cb20-112"><a href="#cb20-112" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON ar.ArtistId = track_counts.ArtistId</span></span>
<span id="cb20-113"><a href="#cb20-113" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY ar.Name, Year, track_counts.TotalTracksByArtist</span></span>
<span id="cb20-114"><a href="#cb20-114" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb20-115"><a href="#cb20-115" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb20-116"><a href="#cb20-116" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb20-117"><a href="#cb20-117" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-118"><a href="#cb20-118" aria-hidden="true" tabindex="-1"></a><span class="co">### Aggregate</span></span>
<span id="cb20-119"><a href="#cb20-119" aria-hidden="true" tabindex="-1"></a>res_artist_agg_df <span class="op">=</span> con_chinook.execute(</span>
<span id="cb20-120"><a href="#cb20-120" aria-hidden="true" tabindex="-1"></a>  <span class="st">"""SELECT </span></span>
<span id="cb20-121"><a href="#cb20-121" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Select Artist and Year for Grouping</span></span>
<span id="cb20-122"><a href="#cb20-122" aria-hidden="true" tabindex="-1"></a><span class="st">  ar.Name AS Artist,</span></span>
<span id="cb20-123"><a href="#cb20-123" aria-hidden="true" tabindex="-1"></a><span class="st">  'All' as Year,</span></span>
<span id="cb20-124"><a href="#cb20-124" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total Revenue</span></span>
<span id="cb20-125"><a href="#cb20-125" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity), 2) AS TotalRevenue,</span></span>
<span id="cb20-126"><a href="#cb20-126" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Number of Tracks</span></span>
<span id="cb20-127"><a href="#cb20-127" aria-hidden="true" tabindex="-1"></a><span class="st">  COUNT(*) AS NumTracksSold,</span></span>
<span id="cb20-128"><a href="#cb20-128" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Average Revenue per Track Sold</span></span>
<span id="cb20-129"><a href="#cb20-129" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)/COUNT(*), 2) AS AvgRevenuePerTrack,</span></span>
<span id="cb20-130"><a href="#cb20-130" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Total Revenue</span></span>
<span id="cb20-131"><a href="#cb20-131" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity)*100.0 / (SELECT SUM(UnitPrice * Quantity) FROM InvoiceLine), 2) AS PercentOfRevenue,</span></span>
<span id="cb20-132"><a href="#cb20-132" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Percentage of Volume (Units Sold)</span></span>
<span id="cb20-133"><a href="#cb20-133" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(*)*100.0 / (SELECT COUNT(*) FROM InvoiceLine),2) AS PercentOfUnitSales,</span></span>
<span id="cb20-134"><a href="#cb20-134" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Total number of tracks in the catalog for artist</span></span>
<span id="cb20-135"><a href="#cb20-135" aria-hidden="true" tabindex="-1"></a><span class="st">  track_counts.TotalTracksByArtist,</span></span>
<span id="cb20-136"><a href="#cb20-136" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Proportion of catalog that was actually sold</span></span>
<span id="cb20-137"><a href="#cb20-137" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(COUNT(DISTINCT il.TrackId) * 100.0 / track_counts.TotalTracksByArtist, 2) AS PercentOfTracksSold,</span></span>
<span id="cb20-138"><a href="#cb20-138" aria-hidden="true" tabindex="-1"></a><span class="st">  -- Revenue per total track by artist</span></span>
<span id="cb20-139"><a href="#cb20-139" aria-hidden="true" tabindex="-1"></a><span class="st">  ROUND(SUM(il.UnitPrice * il.Quantity) / track_counts.TotalTracksByArtist, 2) AS RevenuePerTotalTrack</span></span>
<span id="cb20-140"><a href="#cb20-140" aria-hidden="true" tabindex="-1"></a><span class="st">FROM InvoiceLine il</span></span>
<span id="cb20-141"><a href="#cb20-141" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Track t ON il.TrackId = t.TrackId</span></span>
<span id="cb20-142"><a href="#cb20-142" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb20-143"><a href="#cb20-143" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN Artist ar ON ar.ArtistId = al.ArtistId</span></span>
<span id="cb20-144"><a href="#cb20-144" aria-hidden="true" tabindex="-1"></a><span class="st">-- Subquery to get total number of tracks in each genre</span></span>
<span id="cb20-145"><a href="#cb20-145" aria-hidden="true" tabindex="-1"></a><span class="st">JOIN (</span></span>
<span id="cb20-146"><a href="#cb20-146" aria-hidden="true" tabindex="-1"></a><span class="st">    SELECT </span></span>
<span id="cb20-147"><a href="#cb20-147" aria-hidden="true" tabindex="-1"></a><span class="st">      al.ArtistId,</span></span>
<span id="cb20-148"><a href="#cb20-148" aria-hidden="true" tabindex="-1"></a><span class="st">      COUNT(*) AS TotalTracksByArtist</span></span>
<span id="cb20-149"><a href="#cb20-149" aria-hidden="true" tabindex="-1"></a><span class="st">    FROM Track t</span></span>
<span id="cb20-150"><a href="#cb20-150" aria-hidden="true" tabindex="-1"></a><span class="st">    JOIN Album al ON t.AlbumId = al.AlbumId</span></span>
<span id="cb20-151"><a href="#cb20-151" aria-hidden="true" tabindex="-1"></a><span class="st">    GROUP BY al.ArtistId</span></span>
<span id="cb20-152"><a href="#cb20-152" aria-hidden="true" tabindex="-1"></a><span class="st">) AS track_counts ON ar.ArtistId = track_counts.ArtistId</span></span>
<span id="cb20-153"><a href="#cb20-153" aria-hidden="true" tabindex="-1"></a><span class="st">GROUP BY ar.Name, Year, track_counts.TotalTracksByArtist</span></span>
<span id="cb20-154"><a href="#cb20-154" aria-hidden="true" tabindex="-1"></a><span class="st">-- Arrange by TotalRevenue (Highest to Lowest)</span></span>
<span id="cb20-155"><a href="#cb20-155" aria-hidden="true" tabindex="-1"></a><span class="st">ORDER BY Year, TotalRevenue DESC;"""</span></span>
<span id="cb20-156"><a href="#cb20-156" aria-hidden="true" tabindex="-1"></a>  ).df()</span>
<span id="cb20-157"><a href="#cb20-157" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-158"><a href="#cb20-158" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine data frames and ensure consistent types</span></span>
<span id="cb20-159"><a href="#cb20-159" aria-hidden="true" tabindex="-1"></a>res_genre_df <span class="op">=</span> pd.concat([</span>
<span id="cb20-160"><a href="#cb20-160" aria-hidden="true" tabindex="-1"></a>  res_genre_agg_df,</span>
<span id="cb20-161"><a href="#cb20-161" aria-hidden="true" tabindex="-1"></a>  res_genre_yearly_df.assign(Year<span class="op">=</span>res_genre_yearly_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>))</span>
<span id="cb20-162"><a href="#cb20-162" aria-hidden="true" tabindex="-1"></a>  ], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-163"><a href="#cb20-163" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-164"><a href="#cb20-164" aria-hidden="true" tabindex="-1"></a>res_artist_df <span class="op">=</span> pd.concat([</span>
<span id="cb20-165"><a href="#cb20-165" aria-hidden="true" tabindex="-1"></a>  res_artist_agg_df,</span>
<span id="cb20-166"><a href="#cb20-166" aria-hidden="true" tabindex="-1"></a>  res_artist_yearly_df.assign(Year<span class="op">=</span>res_artist_yearly_df[<span class="st">'Year'</span>].astype(<span class="bu">str</span>))</span>
<span id="cb20-167"><a href="#cb20-167" aria-hidden="true" tabindex="-1"></a>  ], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-168"><a href="#cb20-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-169"><a href="#cb20-169" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique years</span></span>
<span id="cb20-170"><a href="#cb20-170" aria-hidden="true" tabindex="-1"></a>years <span class="op">=</span> [<span class="st">"All"</span>] <span class="op">+</span> <span class="bu">sorted</span>(res_genre_df[res_genre_df[<span class="st">'Year'</span>] <span class="op">!=</span> <span class="st">'All'</span>][<span class="st">'Year'</span>].unique().tolist())</span>
<span id="cb20-171"><a href="#cb20-171" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-172"><a href="#cb20-172" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique genres, sorted by total revenue share</span></span>
<span id="cb20-173"><a href="#cb20-173" aria-hidden="true" tabindex="-1"></a>genres <span class="op">=</span> (</span>
<span id="cb20-174"><a href="#cb20-174" aria-hidden="true" tabindex="-1"></a>    res_genre_df[res_genre_df[<span class="st">'Year'</span>] <span class="op">==</span> <span class="st">'All'</span>]</span>
<span id="cb20-175"><a href="#cb20-175" aria-hidden="true" tabindex="-1"></a>    .sort_values(by<span class="op">=</span><span class="st">'TotalRevenue'</span>, ascending<span class="op">=</span><span class="va">False</span>)[<span class="st">'Genre'</span>]</span>
<span id="cb20-176"><a href="#cb20-176" aria-hidden="true" tabindex="-1"></a>    .tolist()</span>
<span id="cb20-177"><a href="#cb20-177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-178"><a href="#cb20-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-179"><a href="#cb20-179" aria-hidden="true" tabindex="-1"></a><span class="co">## Make Genre an ordered categorical (for plots)</span></span>
<span id="cb20-180"><a href="#cb20-180" aria-hidden="true" tabindex="-1"></a>res_genre_df[<span class="st">'Genre'</span>] <span class="op">=</span> pd.Categorical(</span>
<span id="cb20-181"><a href="#cb20-181" aria-hidden="true" tabindex="-1"></a>  res_genre_df[<span class="st">'Genre'</span>], </span>
<span id="cb20-182"><a href="#cb20-182" aria-hidden="true" tabindex="-1"></a>  categories<span class="op">=</span>genres, </span>
<span id="cb20-183"><a href="#cb20-183" aria-hidden="true" tabindex="-1"></a>  ordered<span class="op">=</span><span class="va">True</span></span>
<span id="cb20-184"><a href="#cb20-184" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-185"><a href="#cb20-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-186"><a href="#cb20-186" aria-hidden="true" tabindex="-1"></a>res_genre_df <span class="op">=</span> res_genre_df.sort_values([<span class="st">'Genre'</span>, <span class="st">'Year'</span>])</span>
<span id="cb20-187"><a href="#cb20-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-188"><a href="#cb20-188" aria-hidden="true" tabindex="-1"></a><span class="co"># Get unique artists, sorted by total revenue share</span></span>
<span id="cb20-189"><a href="#cb20-189" aria-hidden="true" tabindex="-1"></a>artists <span class="op">=</span> (</span>
<span id="cb20-190"><a href="#cb20-190" aria-hidden="true" tabindex="-1"></a>    res_artist_df[res_artist_df[<span class="st">'Year'</span>] <span class="op">==</span> <span class="st">'All'</span>]</span>
<span id="cb20-191"><a href="#cb20-191" aria-hidden="true" tabindex="-1"></a>    .sort_values(by<span class="op">=</span><span class="st">'TotalRevenue'</span>, ascending<span class="op">=</span><span class="va">False</span>)[<span class="st">'Artist'</span>]</span>
<span id="cb20-192"><a href="#cb20-192" aria-hidden="true" tabindex="-1"></a>    .tolist()</span>
<span id="cb20-193"><a href="#cb20-193" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb20-194"><a href="#cb20-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-195"><a href="#cb20-195" aria-hidden="true" tabindex="-1"></a><span class="co">## Make Artist an ordered categorical (for plots)</span></span>
<span id="cb20-196"><a href="#cb20-196" aria-hidden="true" tabindex="-1"></a>res_artist_df[<span class="st">'Artist'</span>] <span class="op">=</span> pd.Categorical(</span>
<span id="cb20-197"><a href="#cb20-197" aria-hidden="true" tabindex="-1"></a>  res_artist_df[<span class="st">'Artist'</span>], </span>
<span id="cb20-198"><a href="#cb20-198" aria-hidden="true" tabindex="-1"></a>  categories<span class="op">=</span>artists, </span>
<span id="cb20-199"><a href="#cb20-199" aria-hidden="true" tabindex="-1"></a>  ordered<span class="op">=</span><span class="va">True</span></span>
<span id="cb20-200"><a href="#cb20-200" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb20-201"><a href="#cb20-201" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb20-202"><a href="#cb20-202" aria-hidden="true" tabindex="-1"></a>res_artist_df <span class="op">=</span> res_artist_df.sort_values([<span class="st">'Artist'</span>, <span class="st">'Year'</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>
<section id="q2-vis-rev-by-genre" class="level3">
<h3 class="anchored" data-anchor-id="q2-vis-rev-by-genre">Revenue by Genre: Stacked Bar Chart</h3>
<p>To better understand genre-level commercial performance, revenue was analyzed both in total and normalized by catalog size. This approach distinguished high-volume genres from those that generated more revenue per available track. The results were visualized with stacked plots to compare total earnings and catalog-adjusted efficiency over time.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-7-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-1" role="tab" aria-controls="tabset-7-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-7-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-7-2" role="tab" aria-controls="tabset-7-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-7-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-7-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># TO DO: Figure out how to get the x-axis values to show</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Stacked Area Plot: Total Revenue by Genre</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  res_genre_df <span class="sc">|&gt;</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">!=</span> <span class="st">"All"</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span>  forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Year)), </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Genre, <span class="at">y =</span> TotalRevenue, <span class="at">fill =</span> Year)</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format Y-xis into dollars</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Revenue"</span>,</span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Genre"</span>,</span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Total Revenue (USD$)"</span>,</span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Year"</span></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Colorblind friendly color scheme</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make Legend Vertical, Turn X-axis text horizontal (legibility)</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Stacked Area Plot: Revenue per Track in Catalog by Genre</span></span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>  res_genre_df <span class="sc">|&gt;</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">!=</span> <span class="st">"All"</span>) <span class="sc">|&gt;</span></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Year)), </span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Genre, <span class="at">y =</span> RevenuePerTotalTrack, <span class="at">fill =</span> Year)</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format Y-xis into dollars</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels</span></span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Revenue per Track in Catalog"</span>,</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Genre"</span>,</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revenue per Track (USD$)"</span>,</span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Year"</span></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Colorblind friendly color scheme</span></span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb21-49"><a href="#cb21-49" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb21-50"><a href="#cb21-50" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make Legend Vertical, Remove X-axis label (large text &amp; in prev plot)</span></span>
<span id="cb21-51"><a href="#cb21-51" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb21-52"><a href="#cb21-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb21-53"><a href="#cb21-53" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb21-54"><a href="#cb21-54" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_blank</span>()</span>
<span id="cb21-55"><a href="#cb21-55" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb21-56"><a href="#cb21-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-57"><a href="#cb21-57" aria-hidden="true" tabindex="-1"></a><span class="do">## Convert to interactive plotly plots</span></span>
<span id="cb21-58"><a href="#cb21-58" aria-hidden="true" tabindex="-1"></a>p1_int <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p1)</span>
<span id="cb21-59"><a href="#cb21-59" aria-hidden="true" tabindex="-1"></a>p2_int <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p2)</span>
<span id="cb21-60"><a href="#cb21-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-61"><a href="#cb21-61" aria-hidden="true" tabindex="-1"></a><span class="co"># For p2, turn off legend for all traces (already in p1)</span></span>
<span id="cb21-62"><a href="#cb21-62" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(p2_int<span class="sc">$</span>x<span class="sc">$</span>data)) {</span>
<span id="cb21-63"><a href="#cb21-63" aria-hidden="true" tabindex="-1"></a>  p2_int<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>showlegend <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb21-64"><a href="#cb21-64" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb21-65"><a href="#cb21-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-66"><a href="#cb21-66" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine plots and display</span></span>
<span id="cb21-67"><a href="#cb21-67" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">subplot</span>(</span>
<span id="cb21-68"><a href="#cb21-68" aria-hidden="true" tabindex="-1"></a>  p1_int, </span>
<span id="cb21-69"><a href="#cb21-69" aria-hidden="true" tabindex="-1"></a>  p2_int, </span>
<span id="cb21-70"><a href="#cb21-70" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrows =</span> <span class="dv">2</span>, </span>
<span id="cb21-71"><a href="#cb21-71" aria-hidden="true" tabindex="-1"></a>  <span class="at">shareX =</span> <span class="cn">TRUE</span>, </span>
<span id="cb21-72"><a href="#cb21-72" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleY =</span> <span class="cn">TRUE</span></span>
<span id="cb21-73"><a href="#cb21-73" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb21-74"><a href="#cb21-74" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">layout</span>(</span>
<span id="cb21-75"><a href="#cb21-75" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Revenue by Genre&lt;br&gt;&lt;sup&gt;2009-01-01 to 2013-12-22&lt;/sup&gt;"</span>),</span>
<span id="cb21-76"><a href="#cb21-76" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">xanchor =</span> <span class="st">"center"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.1</span>)</span>
<span id="cb21-77"><a href="#cb21-77" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-855c272b2ec7c5b1a911" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-855c272b2ec7c5b1a911">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[652.40999999999997,302.94,205.92000000000002,186.12,57.420000000000002,79.599999999999994,47.759999999999998,50.490000000000002,33.659999999999997,10.890000000000001,12.870000000000001,9.9000000000000004,16.829999999999998,26.73,9.9499999999999993,9.9000000000000004,7.9199999999999999,10.890000000000001],"x":[1,2,3,4,6,5,8,7,9,17,16,19,14,12,20,22,23,21],"y":[174.24000000000001,79.199999999999989,55.439999999999998,55.439999999999998,21.780000000000001,13.930000000000007,9.9500000000000028,9.8999999999999986,6.9300000000000068,3.9599999999999991,3.9599999999999973,2.9700000000000006,2.9700000000000024,2.9699999999999989,1.9900000000000002,1.9800000000000004,1.9800000000000004,0.99000000000000021],"text":["Genre: Rock<br />TotalRevenue: 174.24<br />Year: 2013","Genre: Latin<br />TotalRevenue:  79.20<br />Year: 2013","Genre: Metal<br />TotalRevenue:  55.44<br />Year: 2013","Genre: Alternative & Punk<br />TotalRevenue:  55.44<br />Year: 2013","Genre: Jazz<br />TotalRevenue:  21.78<br />Year: 2013","Genre: TV Shows<br />TotalRevenue:  13.93<br />Year: 2013","Genre: Drama<br />TotalRevenue:   9.95<br />Year: 2013","Genre: Blues<br />TotalRevenue:   9.90<br />Year: 2013","Genre: R&B/Soul<br />TotalRevenue:   6.93<br />Year: 2013","Genre: Bossa Nova<br />TotalRevenue:   3.96<br />Year: 2013","Genre: Hip Hop/Rap<br />TotalRevenue:   3.96<br />Year: 2013","Genre: World<br />TotalRevenue:   2.97<br />Year: 2013","Genre: Soundtrack<br />TotalRevenue:   2.97<br />Year: 2013","Genre: Reggae<br />TotalRevenue:   2.97<br />Year: 2013","Genre: Science Fiction<br />TotalRevenue:   1.99<br />Year: 2013","Genre: Heavy Metal<br />TotalRevenue:   1.98<br />Year: 2013","Genre: Easy Listening<br />TotalRevenue:   1.98<br />Year: 2013","Genre: Electronica/Dance<br />TotalRevenue:   0.99<br />Year: 2013"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000036,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[490.04999999999995,140.58000000000001,239.57999999999998,147.50999999999999,53.730000000000004,29.850000000000001,23.759999999999998,5.9699999999999998,27.859999999999999,23.759999999999998,41.579999999999998,19.800000000000001,51.480000000000004,20.789999999999999,12.870000000000001,8.9100000000000001,9.9000000000000004,6.9299999999999997,7.9199999999999999,6.9300000000000006,7.96,3.96],"x":[1,3,2,4,5,8,10,15,11,9,7,13,6,12,14,16,18,22,21,19,20,24],"y":[162.36000000000001,65.340000000000003,63.360000000000014,38.610000000000014,25.86999999999999,17.909999999999997,16.829999999999998,11.940000000000001,11.939999999999998,9.8999999999999986,8.9100000000000037,7.9199999999999982,5.9399999999999977,5.9400000000000013,3.9599999999999973,3.9600000000000009,3.9599999999999991,2.9700000000000006,2.9700000000000006,2.9699999999999998,1.9899999999999993,1.9799999999999995],"text":["Genre: Rock<br />TotalRevenue: 162.36<br />Year: 2012","Genre: Metal<br />TotalRevenue:  65.34<br />Year: 2012","Genre: Latin<br />TotalRevenue:  63.36<br />Year: 2012","Genre: Alternative & Punk<br />TotalRevenue:  38.61<br />Year: 2012","Genre: TV Shows<br />TotalRevenue:  25.87<br />Year: 2012","Genre: Drama<br />TotalRevenue:  17.91<br />Year: 2012","Genre: Classical<br />TotalRevenue:  16.83<br />Year: 2012","Genre: Comedy<br />TotalRevenue:  11.94<br />Year: 2012","Genre: Sci Fi & Fantasy<br />TotalRevenue:  11.94<br />Year: 2012","Genre: R&B/Soul<br />TotalRevenue:   9.90<br />Year: 2012","Genre: Blues<br />TotalRevenue:   8.91<br />Year: 2012","Genre: Pop<br />TotalRevenue:   7.92<br />Year: 2012","Genre: Jazz<br />TotalRevenue:   5.94<br />Year: 2012","Genre: Reggae<br />TotalRevenue:   5.94<br />Year: 2012","Genre: Soundtrack<br />TotalRevenue:   3.96<br />Year: 2012","Genre: Hip Hop/Rap<br />TotalRevenue:   3.96<br />Year: 2012","Genre: Alternative<br />TotalRevenue:   3.96<br />Year: 2012","Genre: Heavy Metal<br />TotalRevenue:   2.97<br />Year: 2012","Genre: Electronica/Dance<br />TotalRevenue:   2.97<br />Year: 2012","Genre: World<br />TotalRevenue:   2.97<br />Year: 2012","Genre: Science Fiction<br />TotalRevenue:   1.99<br />Year: 2012","Genre: Rock And Roll<br />TotalRevenue:   1.98<br />Year: 2012"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2012","legendgroup":"2012","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[333.63,159.38999999999999,101.97,25.870000000000001,114.84,21.780000000000001,9.9499999999999993,35.640000000000001,17.91,9.9000000000000004,13.859999999999999,12.870000000000001,2.9699999999999998,16.829999999999998,7.9199999999999999,3.98,5.9400000000000004,4.9500000000000002,4.9500000000000002,3.98,5.9399999999999995,5.9400000000000004,2.9699999999999998],"x":[1,2,4,5,3,7,11,6,8,13,10,12,17,9,14,20,18,16,23,15,21,19,24],"y":[156.41999999999996,80.189999999999998,45.539999999999992,27.860000000000003,25.740000000000009,19.799999999999997,17.91,15.840000000000003,11.940000000000001,9.9000000000000004,9.8999999999999986,7.9199999999999982,7.9200000000000008,6.9299999999999997,4.9500000000000011,3.98,3.96,3.96,2.9699999999999998,1.9899999999999998,1.9800000000000004,0.99000000000000021,0.99000000000000021],"text":["Genre: Rock<br />TotalRevenue: 156.42<br />Year: 2011","Genre: Latin<br />TotalRevenue:  80.19<br />Year: 2011","Genre: Alternative & Punk<br />TotalRevenue:  45.54<br />Year: 2011","Genre: TV Shows<br />TotalRevenue:  27.86<br />Year: 2011","Genre: Metal<br />TotalRevenue:  25.74<br />Year: 2011","Genre: Blues<br />TotalRevenue:  19.80<br />Year: 2011","Genre: Sci Fi & Fantasy<br />TotalRevenue:  17.91<br />Year: 2011","Genre: Jazz<br />TotalRevenue:  15.84<br />Year: 2011","Genre: Drama<br />TotalRevenue:  11.94<br />Year: 2011","Genre: Pop<br />TotalRevenue:   9.90<br />Year: 2011","Genre: Classical<br />TotalRevenue:   9.90<br />Year: 2011","Genre: Reggae<br />TotalRevenue:   7.92<br />Year: 2011","Genre: Bossa Nova<br />TotalRevenue:   7.92<br />Year: 2011","Genre: R&B/Soul<br />TotalRevenue:   6.93<br />Year: 2011","Genre: Soundtrack<br />TotalRevenue:   4.95<br />Year: 2011","Genre: Science Fiction<br />TotalRevenue:   3.98<br />Year: 2011","Genre: Alternative<br />TotalRevenue:   3.96<br />Year: 2011","Genre: Hip Hop/Rap<br />TotalRevenue:   3.96<br />Year: 2011","Genre: Easy Listening<br />TotalRevenue:   2.97<br />Year: 2011","Genre: Comedy<br />TotalRevenue:   1.99<br />Year: 2011","Genre: Electronica/Dance<br />TotalRevenue:   1.98<br />Year: 2011","Genre: World<br />TotalRevenue:   0.99<br />Year: 2011","Genre: Rock And Roll<br />TotalRevenue:   0.99<br />Year: 2011"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,144,140,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2011","legendgroup":"2011","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[178.19999999999999,82.170000000000002,61.380000000000003,62.369999999999997,0,0,19.800000000000001,0,10.890000000000001,0,0.98999999999999999,7.9199999999999999,5.9400000000000004,0,0,0,1.98,3.96,1.98,2.9700000000000002,3.96,2.9700000000000002,0.98999999999999999,0.98999999999999999],"x":[1,2,3,4,5,8,6,10,7,11,13,9,12,18,20,15,21,14,16,19,22,23,24,17],"y":[155.43000000000001,77.219999999999985,53.460000000000001,39.600000000000001,25.870000000000001,17.91,15.84,13.859999999999999,10.890000000000001,9.9499999999999993,8.9100000000000001,8.9099999999999984,6.9300000000000006,5.9400000000000004,3.98,3.98,3.9599999999999995,3.96,2.9700000000000002,2.9700000000000002,2.9699999999999998,1.98,1.9799999999999998,1.9799999999999998],"text":["Genre: Rock<br />TotalRevenue: 155.43<br />Year: 2010","Genre: Latin<br />TotalRevenue:  77.22<br />Year: 2010","Genre: Metal<br />TotalRevenue:  53.46<br />Year: 2010","Genre: Alternative & Punk<br />TotalRevenue:  39.60<br />Year: 2010","Genre: TV Shows<br />TotalRevenue:  25.87<br />Year: 2010","Genre: Drama<br />TotalRevenue:  17.91<br />Year: 2010","Genre: Jazz<br />TotalRevenue:  15.84<br />Year: 2010","Genre: Classical<br />TotalRevenue:  13.86<br />Year: 2010","Genre: Blues<br />TotalRevenue:  10.89<br />Year: 2010","Genre: Sci Fi & Fantasy<br />TotalRevenue:   9.95<br />Year: 2010","Genre: Pop<br />TotalRevenue:   8.91<br />Year: 2010","Genre: R&B/Soul<br />TotalRevenue:   8.91<br />Year: 2010","Genre: Reggae<br />TotalRevenue:   6.93<br />Year: 2010","Genre: Alternative<br />TotalRevenue:   5.94<br />Year: 2010","Genre: Science Fiction<br />TotalRevenue:   3.98<br />Year: 2010","Genre: Comedy<br />TotalRevenue:   3.98<br />Year: 2010","Genre: Electronica/Dance<br />TotalRevenue:   3.96<br />Year: 2010","Genre: Soundtrack<br />TotalRevenue:   3.96<br />Year: 2010","Genre: Hip Hop/Rap<br />TotalRevenue:   2.97<br />Year: 2010","Genre: World<br />TotalRevenue:   2.97<br />Year: 2010","Genre: Heavy Metal<br />TotalRevenue:   2.97<br />Year: 2010","Genre: Easy Listening<br />TotalRevenue:   1.98<br />Year: 2010","Genre: Rock And Roll<br />TotalRevenue:   1.98<br />Year: 2010","Genre: Bossa Nova<br />TotalRevenue:   1.98<br />Year: 2010"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(93,200,99,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2010","legendgroup":"2010","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,4,3,6,7,9,12,14,22,23,19,16,21,24,13,17],"y":[178.19999999999999,82.170000000000002,62.369999999999997,61.380000000000003,19.800000000000001,10.890000000000001,7.9199999999999999,5.9400000000000004,3.96,3.96,2.9700000000000002,2.9700000000000002,1.98,1.98,0.98999999999999999,0.98999999999999999,0.98999999999999999],"text":["Genre: Rock<br />TotalRevenue: 178.20<br />Year: 2009","Genre: Latin<br />TotalRevenue:  82.17<br />Year: 2009","Genre: Alternative & Punk<br />TotalRevenue:  62.37<br />Year: 2009","Genre: Metal<br />TotalRevenue:  61.38<br />Year: 2009","Genre: Jazz<br />TotalRevenue:  19.80<br />Year: 2009","Genre: Blues<br />TotalRevenue:  10.89<br />Year: 2009","Genre: R&B/Soul<br />TotalRevenue:   7.92<br />Year: 2009","Genre: Reggae<br />TotalRevenue:   5.94<br />Year: 2009","Genre: Soundtrack<br />TotalRevenue:   3.96<br />Year: 2009","Genre: Heavy Metal<br />TotalRevenue:   3.96<br />Year: 2009","Genre: Easy Listening<br />TotalRevenue:   2.97<br />Year: 2009","Genre: World<br />TotalRevenue:   2.97<br />Year: 2009","Genre: Hip Hop/Rap<br />TotalRevenue:   1.98<br />Year: 2009","Genre: Electronica/Dance<br />TotalRevenue:   1.98<br />Year: 2009","Genre: Rock And Roll<br />TotalRevenue:   0.99<br />Year: 2009","Genre: Pop<br />TotalRevenue:   0.99<br />Year: 2009","Genre: Bossa Nova<br />TotalRevenue:   0.99<br />Year: 2009"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2009","legendgroup":"2009","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.51000000000000001,0.52000000000000002,0.54000000000000004,0.57000000000000006,0.44,0.8600000000000001,0.75,0.60999999999999999,0.55000000000000004,0.72999999999999998,0.35999999999999999,0.37,0.39000000000000001,0.46000000000000002,0.77000000000000002,0.35999999999999999,0.32000000000000001,0.37],"x":[1,2,3,4,6,5,8,7,9,17,16,19,14,12,20,22,23,21],"y":[0.13,0.14000000000000001,0.15000000000000002,0.16999999999999993,0.16999999999999998,0.14999999999999991,0.16000000000000003,0.12,0.10999999999999999,0.26000000000000001,0.10999999999999999,0.10999999999999999,0.069999999999999951,0.049999999999999989,0.14999999999999991,0.070000000000000062,0.080000000000000016,0.030000000000000027],"text":["Genre: Rock<br />RevenuePerTotalTrack: 0.13<br />Year: 2013","Genre: Latin<br />RevenuePerTotalTrack: 0.14<br />Year: 2013","Genre: Metal<br />RevenuePerTotalTrack: 0.15<br />Year: 2013","Genre: Alternative & Punk<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Genre: Jazz<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Genre: TV Shows<br />RevenuePerTotalTrack: 0.15<br />Year: 2013","Genre: Drama<br />RevenuePerTotalTrack: 0.16<br />Year: 2013","Genre: Blues<br />RevenuePerTotalTrack: 0.12<br />Year: 2013","Genre: R&B/Soul<br />RevenuePerTotalTrack: 0.11<br />Year: 2013","Genre: Bossa Nova<br />RevenuePerTotalTrack: 0.26<br />Year: 2013","Genre: Hip Hop/Rap<br />RevenuePerTotalTrack: 0.11<br />Year: 2013","Genre: World<br />RevenuePerTotalTrack: 0.11<br />Year: 2013","Genre: Soundtrack<br />RevenuePerTotalTrack: 0.07<br />Year: 2013","Genre: Reggae<br />RevenuePerTotalTrack: 0.05<br />Year: 2013","Genre: Science Fiction<br />RevenuePerTotalTrack: 0.15<br />Year: 2013","Genre: Heavy Metal<br />RevenuePerTotalTrack: 0.07<br />Year: 2013","Genre: Easy Listening<br />RevenuePerTotalTrack: 0.08<br />Year: 2013","Genre: Electronica/Dance<br />RevenuePerTotalTrack: 0.03<br />Year: 2013"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2013","legendgroup":"2013","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000036,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.38,0.37,0.41000000000000003,0.45000000000000001,0.58000000000000007,0.47000000000000003,0.32000000000000001,0.34999999999999998,1.0699999999999998,0.39000000000000001,0.5,0.41999999999999998,0.39000000000000001,0.35999999999999999,0.29999999999999999,0.25,0.25,0.25,0.27000000000000002,0.26000000000000001,0.62,0.33000000000000002],"x":[1,3,2,4,5,8,10,15,11,9,7,13,6,12,14,16,18,22,21,19,20,24],"y":[0.13,0.17000000000000004,0.10999999999999999,0.12000000000000005,0.28000000000000003,0.27999999999999997,0.23000000000000004,0.70000000000000007,0.46000000000000019,0.16000000000000003,0.10999999999999999,0.16999999999999998,0.049999999999999989,0.10000000000000003,0.090000000000000024,0.10999999999999999,0.099999999999999978,0.10999999999999999,0.099999999999999978,0.10999999999999999,0.15000000000000002,0.16999999999999998],"text":["Genre: Rock<br />RevenuePerTotalTrack: 0.13<br />Year: 2012","Genre: Metal<br />RevenuePerTotalTrack: 0.17<br />Year: 2012","Genre: Latin<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Genre: Alternative & Punk<br />RevenuePerTotalTrack: 0.12<br />Year: 2012","Genre: TV Shows<br />RevenuePerTotalTrack: 0.28<br />Year: 2012","Genre: Drama<br />RevenuePerTotalTrack: 0.28<br />Year: 2012","Genre: Classical<br />RevenuePerTotalTrack: 0.23<br />Year: 2012","Genre: Comedy<br />RevenuePerTotalTrack: 0.70<br />Year: 2012","Genre: Sci Fi & Fantasy<br />RevenuePerTotalTrack: 0.46<br />Year: 2012","Genre: R&B/Soul<br />RevenuePerTotalTrack: 0.16<br />Year: 2012","Genre: Blues<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Genre: Pop<br />RevenuePerTotalTrack: 0.17<br />Year: 2012","Genre: Jazz<br />RevenuePerTotalTrack: 0.05<br />Year: 2012","Genre: Reggae<br />RevenuePerTotalTrack: 0.10<br />Year: 2012","Genre: Soundtrack<br />RevenuePerTotalTrack: 0.09<br />Year: 2012","Genre: Hip Hop/Rap<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Genre: Alternative<br />RevenuePerTotalTrack: 0.10<br />Year: 2012","Genre: Heavy Metal<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Genre: Electronica/Dance<br />RevenuePerTotalTrack: 0.10<br />Year: 2012","Genre: World<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Genre: Science Fiction<br />RevenuePerTotalTrack: 0.15<br />Year: 2012","Genre: Rock And Roll<br />RevenuePerTotalTrack: 0.17<br />Year: 2012"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2012","legendgroup":"2012","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.26000000000000001,0.27000000000000002,0.31,0.28000000000000003,0.30000000000000004,0.26000000000000001,0.38,0.27000000000000002,0.28000000000000003,0.20999999999999999,0.19,0.22,0.20000000000000001,0.28000000000000003,0.17999999999999999,0.31,0.14999999999999999,0.14000000000000001,0.20000000000000001,0.23000000000000001,0.20000000000000001,0.22,0.25],"x":[1,2,4,5,3,7,11,6,8,13,10,12,17,9,14,20,18,16,23,15,21,19,24],"y":[0.12,0.14000000000000001,0.14000000000000001,0.30000000000000004,0.069999999999999951,0.23999999999999999,0.68999999999999984,0.12,0.19,0.20999999999999999,0.13,0.13999999999999999,0.53000000000000003,0.10999999999999999,0.12,0.31,0.10000000000000001,0.10999999999999999,0.12,0.11999999999999997,0.070000000000000007,0.040000000000000008,0.080000000000000016],"text":["Genre: Rock<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Genre: Latin<br />RevenuePerTotalTrack: 0.14<br />Year: 2011","Genre: Alternative & Punk<br />RevenuePerTotalTrack: 0.14<br />Year: 2011","Genre: TV Shows<br />RevenuePerTotalTrack: 0.30<br />Year: 2011","Genre: Metal<br />RevenuePerTotalTrack: 0.07<br />Year: 2011","Genre: Blues<br />RevenuePerTotalTrack: 0.24<br />Year: 2011","Genre: Sci Fi & Fantasy<br />RevenuePerTotalTrack: 0.69<br />Year: 2011","Genre: Jazz<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Genre: Drama<br />RevenuePerTotalTrack: 0.19<br />Year: 2011","Genre: Pop<br />RevenuePerTotalTrack: 0.21<br />Year: 2011","Genre: Classical<br />RevenuePerTotalTrack: 0.13<br />Year: 2011","Genre: Reggae<br />RevenuePerTotalTrack: 0.14<br />Year: 2011","Genre: Bossa Nova<br />RevenuePerTotalTrack: 0.53<br />Year: 2011","Genre: R&B/Soul<br />RevenuePerTotalTrack: 0.11<br />Year: 2011","Genre: Soundtrack<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Genre: Science Fiction<br />RevenuePerTotalTrack: 0.31<br />Year: 2011","Genre: Alternative<br />RevenuePerTotalTrack: 0.10<br />Year: 2011","Genre: Hip Hop/Rap<br />RevenuePerTotalTrack: 0.11<br />Year: 2011","Genre: Easy Listening<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Genre: Comedy<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Genre: Electronica/Dance<br />RevenuePerTotalTrack: 0.07<br />Year: 2011","Genre: World<br />RevenuePerTotalTrack: 0.04<br />Year: 2011","Genre: Rock And Roll<br />RevenuePerTotalTrack: 0.08<br />Year: 2011"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,144,140,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2011","legendgroup":"2011","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.14000000000000001,0.14000000000000001,0.16,0.19,0,0,0.14999999999999999,0,0.13,0,0.02,0.13,0.10000000000000001,0,0,0,0.070000000000000007,0.089999999999999997,0.059999999999999998,0.11,0.14000000000000001,0.12,0.080000000000000002,0.070000000000000007],"x":[1,2,3,4,5,8,6,10,7,11,13,9,12,18,20,15,21,14,16,19,22,23,24,17],"y":[0.12,0.13,0.14000000000000004,0.12,0.28000000000000003,0.28000000000000003,0.12000000000000002,0.19,0.13,0.38,0.19,0.15000000000000002,0.12,0.14999999999999999,0.31,0.23000000000000001,0.13,0.089999999999999997,0.080000000000000016,0.11,0.10999999999999999,0.080000000000000016,0.16999999999999998,0.13],"text":["Genre: Rock<br />RevenuePerTotalTrack: 0.12<br />Year: 2010","Genre: Latin<br />RevenuePerTotalTrack: 0.13<br />Year: 2010","Genre: Metal<br />RevenuePerTotalTrack: 0.14<br />Year: 2010","Genre: Alternative & Punk<br />RevenuePerTotalTrack: 0.12<br />Year: 2010","Genre: TV Shows<br />RevenuePerTotalTrack: 0.28<br />Year: 2010","Genre: Drama<br />RevenuePerTotalTrack: 0.28<br />Year: 2010","Genre: Jazz<br />RevenuePerTotalTrack: 0.12<br />Year: 2010","Genre: Classical<br />RevenuePerTotalTrack: 0.19<br />Year: 2010","Genre: Blues<br />RevenuePerTotalTrack: 0.13<br />Year: 2010","Genre: Sci Fi & Fantasy<br />RevenuePerTotalTrack: 0.38<br />Year: 2010","Genre: Pop<br />RevenuePerTotalTrack: 0.19<br />Year: 2010","Genre: R&B/Soul<br />RevenuePerTotalTrack: 0.15<br />Year: 2010","Genre: Reggae<br />RevenuePerTotalTrack: 0.12<br />Year: 2010","Genre: Alternative<br />RevenuePerTotalTrack: 0.15<br />Year: 2010","Genre: Science Fiction<br />RevenuePerTotalTrack: 0.31<br />Year: 2010","Genre: Comedy<br />RevenuePerTotalTrack: 0.23<br />Year: 2010","Genre: Electronica/Dance<br />RevenuePerTotalTrack: 0.13<br />Year: 2010","Genre: Soundtrack<br />RevenuePerTotalTrack: 0.09<br />Year: 2010","Genre: Hip Hop/Rap<br />RevenuePerTotalTrack: 0.08<br />Year: 2010","Genre: World<br />RevenuePerTotalTrack: 0.11<br />Year: 2010","Genre: Heavy Metal<br />RevenuePerTotalTrack: 0.11<br />Year: 2010","Genre: Easy Listening<br />RevenuePerTotalTrack: 0.08<br />Year: 2010","Genre: Rock And Roll<br />RevenuePerTotalTrack: 0.17<br />Year: 2010","Genre: Bossa Nova<br />RevenuePerTotalTrack: 0.13<br />Year: 2010"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(93,200,99,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2010","legendgroup":"2010","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,2,4,3,6,7,9,12,14,22,23,19,16,21,24,13,17],"y":[0.14000000000000001,0.14000000000000001,0.19,0.16,0.14999999999999999,0.13,0.13,0.10000000000000001,0.089999999999999997,0.14000000000000001,0.12,0.11,0.059999999999999998,0.070000000000000007,0.080000000000000002,0.02,0.070000000000000007],"text":["Genre: Rock<br />RevenuePerTotalTrack: 0.14<br />Year: 2009","Genre: Latin<br />RevenuePerTotalTrack: 0.14<br />Year: 2009","Genre: Alternative & Punk<br />RevenuePerTotalTrack: 0.19<br />Year: 2009","Genre: Metal<br />RevenuePerTotalTrack: 0.16<br />Year: 2009","Genre: Jazz<br />RevenuePerTotalTrack: 0.15<br />Year: 2009","Genre: Blues<br />RevenuePerTotalTrack: 0.13<br />Year: 2009","Genre: R&B/Soul<br />RevenuePerTotalTrack: 0.13<br />Year: 2009","Genre: Reggae<br />RevenuePerTotalTrack: 0.10<br />Year: 2009","Genre: Soundtrack<br />RevenuePerTotalTrack: 0.09<br />Year: 2009","Genre: Heavy Metal<br />RevenuePerTotalTrack: 0.14<br />Year: 2009","Genre: Easy Listening<br />RevenuePerTotalTrack: 0.12<br />Year: 2009","Genre: World<br />RevenuePerTotalTrack: 0.11<br />Year: 2009","Genre: Hip Hop/Rap<br />RevenuePerTotalTrack: 0.06<br />Year: 2009","Genre: Electronica/Dance<br />RevenuePerTotalTrack: 0.07<br />Year: 2009","Genre: Rock And Roll<br />RevenuePerTotalTrack: 0.08<br />Year: 2009","Genre: Pop<br />RevenuePerTotalTrack: 0.02<br />Year: 2009","Genre: Bossa Nova<br />RevenuePerTotalTrack: 0.07<br />Year: 2009"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2009","legendgroup":"2009","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,24.600000000000001],"tickmode":"array","ticktext":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B/Soul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop/Rap","Bossa Nova","Alternative","World","Science Fiction","Electronica/Dance","Heavy Metal","Easy Listening","Rock And Roll"],"tickvals":[1,2.0000000000000004,3,3.9999999999999996,5,6,7.0000000000000009,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24],"categoryorder":"array","categoryarray":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B/Soul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop/Rap","Bossa Nova","Alternative","World","Science Fiction","Electronica/Dance","Heavy Metal","Easy Listening","Rock And Roll"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y2","title":{"text":"Genre","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis2":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[-0.076500000000000012,1.6065],"tickmode":"array","ticktext":["$0.00","$0.50","$1.00","$1.50"],"tickvals":[0,0.5,1,1.5],"categoryorder":"array","categoryarray":["$0.00","$0.50","$1.00","$1.50"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Revenue per Track (USD$)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"type":"linear","autorange":false,"range":[-41.332500000000003,867.98249999999996],"tickmode":"array","ticktext":["$0","$200","$400","$600","$800"],"tickvals":[0,200,400,600,800],"categoryorder":"array","categoryarray":["$0","$200","$400","$600","$800"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Revenue (USD$)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"annotations":[],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.52000000000000002,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":0.47999999999999998}],"images":[],"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":28.493150684931511,"l":54.794520547945211},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Revenue by Genre<br><sup>2009-01-01 to 2013-12-22<\/sup>","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"orientation":"h","x":0.5,"xanchor":"center","y":-0.10000000000000001},"hovermode":"closest","barmode":"relative"},"attrs":{"8c581ff5a0f":{"x":{},"y":{},"fill":{},"type":"bar"},"8c586d8436c4":{"x":{},"y":{},"fill":{},"type":"bar"}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-7-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-7-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out "All" year</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> res_genre_df[res_genre_df[<span class="st">"Year"</span>] <span class="op">!=</span> <span class="st">"All"</span>]</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort years in reverse</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>years_r <span class="op">=</span> <span class="bu">sorted</span>(df[<span class="st">"Year"</span>].unique(), reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Create subplot</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">2</span>, cols<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    shared_xaxes<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.08</span>,</span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>(<span class="st">"Total Revenue"</span>, <span class="st">"Revenue per Track in Catalog"</span>)</span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Colorblind-friendly color scheme</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> px.colors.sequential.Viridis[:<span class="op">-</span><span class="bu">len</span>(years_r)]</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Total Revenue</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, year <span class="kw">in</span> <span class="bu">enumerate</span>(years_r):</span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> df[df[<span class="st">"Year"</span>] <span class="op">==</span> year]</span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>subset[<span class="st">"Genre"</span>],</span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>subset[<span class="st">"TotalRevenue"</span>],</span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>colors[i],</span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">True</span> <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="va">False</span>  <span class="co"># only once for cleaner display</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb22-29"><a href="#cb22-29" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span></span>
<span id="cb22-30"><a href="#cb22-30" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="53d33926-b95f-4478-9c32-f67a6b2628e9" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("53d33926-b95f-4478-9c32-f67a6b2628e9")) {                    Plotly.newPlot(                        "53d33926-b95f-4478-9c32-f67a6b2628e9",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}]},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Revenue per Track in Catalog</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, year <span class="kw">in</span> <span class="bu">enumerate</span>(years_r):</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> df[df[<span class="st">"Year"</span>] <span class="op">==</span> year]</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>subset[<span class="st">"Genre"</span>],</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>subset[<span class="st">"RevenuePerTotalTrack"</span>],</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>colors[i],</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">True</span>  <span class="co"># show for all so full legend appears</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="d78926b9-84d4-4ff9-b277-7db44d3b9b74" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("d78926b9-84d4-4ff9-b277-7db44d3b9b74")) {                    Plotly.newPlot(                        "d78926b9-84d4-4ff9-b277-7db44d3b9b74",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}]},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Layout</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Make stacked bar plot</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    barmode<span class="op">=</span><span class="st">'stack'</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">'Revenue by Genre&lt;br&gt;&lt;sub&gt;2009-01-01 to 2013-12-22&lt;/sub&gt;'</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">700</span>,</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">120</span>),</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Legend on bottom, horizontal</span></span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a>        orientation<span class="op">=</span><span class="st">'h'</span>,</span>
<span id="cb24-16"><a href="#cb24-16" aria-hidden="true" tabindex="-1"></a>        yanchor<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb24-17"><a href="#cb24-17" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=-</span><span class="fl">0.25</span>,</span>
<span id="cb24-18"><a href="#cb24-18" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb24-19"><a href="#cb24-19" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb24-20"><a href="#cb24-20" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'Year'</span></span>
<span id="cb24-21"><a href="#cb24-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb24-22"><a href="#cb24-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="6ec97305-d117-49f3-bb50-dcc6a980008c" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("6ec97305-d117-49f3-bb50-dcc6a980008c")) {                    Plotly.newPlot(                        "6ec97305-d117-49f3-bb50-dcc6a980008c",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format axes</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Y-axis as dollars</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"Total Revenue (USD)"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>, tickformat<span class="op">=</span><span class="st">"$,.2f"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="f08043a4-eaf1-4c82-8600-f9e60c532e8d" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("f08043a4-eaf1-4c82-8600-f9e60c532e8d")) {                    Plotly.newPlot(                        "f08043a4-eaf1-4c82-8600-f9e60c532e8d",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"Revenue per Track (USD)"</span>, row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span>, tickformat<span class="op">=</span><span class="st">"$,.2f"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="2024bbbd-1b32-447d-8ae7-05664fc563b0" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("2024bbbd-1b32-447d-8ae7-05664fc563b0")) {                    Plotly.newPlot(                        "2024bbbd-1b32-447d-8ae7-05664fc563b0",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Ensure only one x-axis shows, rotated (for legibility)</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="va">None</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="ac588940-cc7a-4c73-b348-ec65fb16d996" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("ac588940-cc7a-4c73-b348-ec65fb16d996")) {                    Plotly.newPlot(                        "ac588940-cc7a-4c73-b348-ec65fb16d996",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"Genre"</span>, tickangle<span class="op">=</span><span class="dv">45</span>, row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="4fec6ba9-4693-442b-bb58-c8be8c072a4e" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("4fec6ba9-4693-442b-bb58-c8be8c072a4e")) {                    Plotly.newPlot(                        "4fec6ba9-4693-442b-bb58-c8be8c072a4e",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Genre"},"tickangle":45},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plot</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="ee37d195-8a5e-4b8c-ab60-5e155d9da028" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("ee37d195-8a5e-4b8c-ab60-5e155d9da028")) {                    Plotly.newPlot(                        "ee37d195-8a5e-4b8c-ab60-5e155d9da028",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"SOF6FK7HZUDNzMzMzMxTQLgehetRuEtAuB6F61G4S0Bcj8L1KNwrQEjhehSuxzVAzczMzMzMI0BmZmZmZuYjQLgehetRuBtAw\u002fUoXI\u002fCB0DD9Shcj8IHQK5H4XoUrg9ArkfhehSuD0DD9Shcj8IHQNejcD0K1\u002f8\u002frkfhehSu7z+uR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoVLZECuR+F6FK5PQPYoXI\u002fCVVBArkfhehROQ0AfhetRuN45QMP1KFyPwhdAUrgehevRIUApXI\u002fC9egxQM3MzMzMzCNAFK5H4XrUMEDhehSuR+EnQMP1KFyPwhdArkfhehSuH0CuR+F6FK4PQOF6FK5H4SdArkfhehSuD0CuR+F6FK4PQMP1KFyPwgdA16NwPQrX\u002fz\u002fD9Shcj8IHQMP1KFyPwgdArkfhehSu\u002fz8="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"PQrXo3CNY0Bcj8L1KAxUQD0K16NwvTlAhetRuB7FRkBcj8L1KNw7QK5H4XoUri9AzczMzMzMM0DhehSuR+EnQLgehetRuBtAzczMzMzMI0ApXI\u002fC9egxQK5H4XoUrh9AzczMzMzMI0DNzMzMzMwTQNejcD0K1\u002f8\u002frkfhehSuD0CuR+F6FK4fQK5H4XoUrg9ArkfhehSu7z\u002fXo3A9CtcPQK5H4XoUrv8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"9ihcj8JtY0CuR+F6FE5TQHsUrkfhukpAzczMzMzMQ0AfhetRuN45QK5H4XoUri9ASOF6FK7HJUApXI\u002fC9egxQFK4HoXr0SFAuB6F61G4K0BmZmZmZuYjQLgehetRuBtAUrgehevRIUCuR+F6FK4PQNejcD0K1w9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP8P1KFyPwhdAw\u002fUoXI\u002fCB0DXo3A9CtcPQK5H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrv8\u002f"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"ZmZmZmZGZkB7FK5H4YpUQHE9CtejsE5Aj8L1KFwvT0DNzMzMzMwzQEjhehSuxyVArkfhehSuH0DD9Shcj8IXQK5H4XoUru8\u002frkfhehSuD0CuR+F6FK7\u002fP65H4XoUru8\u002fw\u002fUoXI\u002fCB0CuR+F6FK7\u002fP65H4XoUrg9Aw\u002fUoXI\u002fCB0CuR+F6FK7vPw=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Reggae","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening"],"y":{"dtype":"f8","bdata":"pHA9CtejwD\u002fsUbgehevBPzMzMzMzM8M\u002fw\u002fUoXI\u002fCxT8zMzMzMzPDP8P1KFyPwsU\u002fuB6F61G4vj97FK5H4XrEPylcj8L1KLw\u002fmpmZmZmZqT\u002fsUbgeheuxPylcj8L1KLw\u002fpHA9Ctej0D8pXI\u002fC9Si8PzMzMzMzM8M\u002fuB6F61G4nj\u002fsUbgeheuxP3sUrkfherQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Rock And Roll"],"y":{"dtype":"f8","bdata":"pHA9CtejwD8pXI\u002fC9Si8P8P1KFyPwsU\u002fuB6F61G4vj\u002fsUbgehevRP5qZmZmZmak\u002fKVyPwvUovD\u002fsUbgehevRP3sUrkfhesQ\u002fcT0K16NwzT9xPQrXo3DdP5qZmZmZmbk\u002fw\u002fUoXI\u002fCxT8K16NwPQq3P2ZmZmZmZuY\u002fKVyPwvUovD+amZmZmZm5Pylcj8L1KLw\u002fMzMzMzMzwz+amZmZmZm5Pylcj8L1KLw\u002fw\u002fUoXI\u002fCxT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj\u002fsUbgehevBP+xRuB6F67E\u002f7FG4HoXrwT8zMzMzMzPTP7gehetRuL4\u002fuB6F61G4zj9SuB6F61HIPylcj8L1KLw\u002fpHA9CtejwD8UrkfhehTmP+xRuB6F68E\u002f4XoUrkfhyj+4HoXrUbi+P7gehetRuL4\u002fKVyPwvUovD\u002f2KFyPwvXgP5qZmZmZmbk\u002fexSuR+F6pD\u002fXo3A9CtfTP+xRuB6F67E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","TV Shows","Jazz","Blues","Drama","R&B\u002fSoul","Classical","Sci Fi & Fantasy","Reggae","Pop","Soundtrack","Comedy","Hip Hop\u002fRap","Bossa Nova","Alternative","World","Science Fiction","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"uB6F61G4vj+kcD0K16PAP+xRuB6F68E\u002fuB6F61G4vj\u002fsUbgehevRP7gehetRuL4\u002fpHA9CtejwD\u002fsUbgehevRPzMzMzMzM8M\u002fUrgehetRyD9SuB6F61HYP7gehetRuL4\u002fUrgehetRyD8K16NwPQq3P3E9CtejcM0\u002fexSuR+F6tD+kcD0K16PAPzMzMzMzM8M\u002fKVyPwvUovD\u002fXo3A9CtfTP6RwPQrXo8A\u002fKVyPwvUovD97FK5H4Xq0P8P1KFyPwsU\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Rock","Latin","Metal","Alternative & Punk","Jazz","Blues","R&B\u002fSoul","Reggae","Pop","Soundtrack","Hip Hop\u002fRap","Bossa Nova","World","Electronica\u002fDance","Heavy Metal","Easy Listening","Rock And Roll"],"y":{"dtype":"f8","bdata":"7FG4HoXrwT\u002fsUbgehevBP3sUrkfhesQ\u002fUrgehetRyD8zMzMzMzPDP6RwPQrXo8A\u002fpHA9CtejwD+amZmZmZm5P3sUrkfhepQ\u002fCtejcD0Ktz+4HoXrUbiuP+xRuB6F67E\u002fKVyPwvUovD\u002fsUbgeheuxP+xRuB6F68E\u002fuB6F61G4vj97FK5H4Xq0Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Genre"},"tickangle":45},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Genre\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><em>Genre-level revenue remains stable over time</em>, with no significant year-over-year shifts. This aligns with earlier findings: a small number of genres — primarily Rock, along with Latin, Metal, Alternative &amp; Punk, and TV Shows — consistently drive the majority of revenue.</li>
<li><em>Revenue per track in catalog tells a different story.</em> While Rock shows consistent but moderate returns (likely due to its large catalog volume), several niche genres outperform in efficiency:
<ul>
<li>Sci Fi &amp; Fantasy shows disproportionately high revenue per track, largely driven by premium TV content such as <em>Battlestar Galactica</em>. This genre saw a strong spike in 2011–2012 before tapering off in 2013 — suggesting a temporary surge in popularity.</li>
<li>Comedy experienced an anomalous peak in 2012, attributable to sales of <em>The Office</em> episodes.</li>
<li>Bossa Nova displayed a notable jump in 2012 revenue per catalog track, indicating strong demand relative to catalog size. Though less pronounced, this trend continued into 2013, hinting at <em>sustained niche appeal</em>.</li>
<li>TV Show performance is likely undervalued in the current database structure, as <em>Battlestar Galactica</em> and <em>The Office</em> (TV Shows classified as Sci Fi &amp; Frantasy and Comedy, respectively) are drivers of high per-track revenue in genres that are otherwise unrepresented in total revenue.</li>
</ul></li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li><em>Invest in high-margin, premium content.</em><br>
TV-based genres such as Sci Fi &amp; Fantasy and Comedy show strong per-track performance despite limited catalog sizes. Expanding these offerings — particularly episodic or narrative-driven media — could unlock outsized returns relative to content volume.</li>
<li><em>Capitalize on short-term demand spikes.</em><br>
Genres like Bossa Nova and Comedy demonstrated temporal revenue surges. Identifying and acting on these trends through <em>curated promotions</em>, <em>seasonal playlists</em>, or <em>limited-time bundles</em> may help convert interest into sustained revenue.</li>
<li><em>Reevaluate catalog strategies for large-volume genres.</em><br>
While Rock contributes the most revenue overall, its performance per track is relatively modest. Optimizing underperforming catalog segments — through <em>targeted marketing</em> or <em>re-packaging</em> — may improve monetization efficiency without requiring new content.</li>
<li><em>Monitor genre saturation and track penetrance.</em><br>
Genres with high sales penetration (e.g., Sci Fi &amp; Fantasy) may signal either <em>strong consumer interest</em> or an <em>exhausted catalog</em>. Ensuring a consistent stream of new content in high-penetration genres can help maintain engagement and avoid plateaus.</li>
</ul>
</div>
</div>
</section>
<section id="artist-revenue" class="level3">
<h3 class="anchored" data-anchor-id="artist-revenue">Artist Revenue</h3>
</section>
<section id="q2-vis-rev-by-artist" class="level3">
<h3 class="anchored" data-anchor-id="q2-vis-rev-by-artist">Revenue by Artist: Stacked Bar Chart</h3>
<p>To better understand artist-level commercial performance, revenue was analyzed both in total and normalized by catalog size. This approach distinguished high-volume artists from those that generated more revenue per available track. The results were visualized with stacked plots to compare total earnings and catalog-adjusted efficiency over time.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-8-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-1" role="tab" aria-controls="tabset-8-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-8-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-8-2" role="tab" aria-controls="tabset-8-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-8-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-8-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># TO DO: Figure out how to make the x-axis values show</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Stacked Area Plot: Total Revenue by Artist</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  res_artist_df <span class="sc">|&gt;</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">!=</span> <span class="st">"All"</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span>  forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Year)) <span class="sc">|&gt;</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>   <span class="do">## Restrict to top 20 artists for legibility</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Artist <span class="sc">%in%</span> artists[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]) <span class="sc">|&gt;</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Artist =</span> <span class="fu">factor</span>(Artist, <span class="at">levels =</span> artists[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>], <span class="at">ordered =</span> T)), </span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Artist, <span class="at">y =</span> TotalRevenue, <span class="at">fill =</span> Year)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format Y-xis into dollars</span></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels</span></span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Total Revenue"</span>,</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Artist"</span>,</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Total Revenue (USD$)"</span>,</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Year"</span></span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Colorblind friendly color scheme</span></span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-26"><a href="#cb30-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make Legend Vertical, Turn X-axis text horizontal (legibility)</span></span>
<span id="cb30-27"><a href="#cb30-27" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb30-28"><a href="#cb30-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb30-29"><a href="#cb30-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb30-30"><a href="#cb30-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x =</span> ggplot2<span class="sc">::</span><span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>, <span class="at">vjust =</span> <span class="fl">0.5</span>, <span class="at">hjust =</span> <span class="dv">1</span>)</span>
<span id="cb30-31"><a href="#cb30-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-32"><a href="#cb30-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-33"><a href="#cb30-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Stacked Area Plot: Revenue per Track in Catalog by Artist</span></span>
<span id="cb30-34"><a href="#cb30-34" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span><span class="fu">ggplot</span>(</span>
<span id="cb30-35"><a href="#cb30-35" aria-hidden="true" tabindex="-1"></a>  res_artist_df <span class="sc">|&gt;</span></span>
<span id="cb30-36"><a href="#cb30-36" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Year <span class="sc">!=</span> <span class="st">"All"</span>) <span class="sc">|&gt;</span></span>
<span id="cb30-37"><a href="#cb30-37" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Year =</span> forcats<span class="sc">::</span><span class="fu">fct_rev</span>(Year)) <span class="sc">|&gt;</span></span>
<span id="cb30-38"><a href="#cb30-38" aria-hidden="true" tabindex="-1"></a>   <span class="do">## Restrict to top 20 artists for legibility</span></span>
<span id="cb30-39"><a href="#cb30-39" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">filter</span>(Artist <span class="sc">%in%</span> artists[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>]) <span class="sc">|&gt;</span></span>
<span id="cb30-40"><a href="#cb30-40" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">mutate</span>(<span class="at">Artist =</span> <span class="fu">factor</span>(Artist, <span class="at">levels =</span> artists[<span class="dv">1</span><span class="sc">:</span><span class="dv">20</span>], <span class="at">ordered =</span> T)), </span>
<span id="cb30-41"><a href="#cb30-41" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">aes</span>(<span class="at">x =</span> Artist, <span class="at">y =</span> RevenuePerTotalTrack, <span class="at">fill =</span> Year)</span>
<span id="cb30-42"><a href="#cb30-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb30-43"><a href="#cb30-43" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">"identity"</span>) <span class="sc">+</span></span>
<span id="cb30-44"><a href="#cb30-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format Y-xis into dollars</span></span>
<span id="cb30-45"><a href="#cb30-45" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_y_continuous</span>(<span class="at">labels =</span> scales<span class="sc">::</span>dollar) <span class="sc">+</span></span>
<span id="cb30-46"><a href="#cb30-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Labels</span></span>
<span id="cb30-47"><a href="#cb30-47" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">labs</span>(</span>
<span id="cb30-48"><a href="#cb30-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Revenue per Track in Catalog"</span>,</span>
<span id="cb30-49"><a href="#cb30-49" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Artist"</span>,</span>
<span id="cb30-50"><a href="#cb30-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Revenue per Track (USD$)"</span>,</span>
<span id="cb30-51"><a href="#cb30-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"Year"</span></span>
<span id="cb30-52"><a href="#cb30-52" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb30-53"><a href="#cb30-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Colorblind friendly color scheme</span></span>
<span id="cb30-54"><a href="#cb30-54" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">scale_fill_viridis_d</span>() <span class="sc">+</span></span>
<span id="cb30-55"><a href="#cb30-55" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb30-56"><a href="#cb30-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Make Legend Vertical, Remove X-axis label (large text &amp; in prev plot)</span></span>
<span id="cb30-57"><a href="#cb30-57" aria-hidden="true" tabindex="-1"></a>  ggplot2<span class="sc">::</span><span class="fu">theme</span>(</span>
<span id="cb30-58"><a href="#cb30-58" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">"bottom"</span>,</span>
<span id="cb30-59"><a href="#cb30-59" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.direction =</span> <span class="st">"vertical"</span>,</span>
<span id="cb30-60"><a href="#cb30-60" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.x=</span><span class="fu">element_blank</span>()</span>
<span id="cb30-61"><a href="#cb30-61" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb30-62"><a href="#cb30-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-63"><a href="#cb30-63" aria-hidden="true" tabindex="-1"></a><span class="do">## Convert to interactive plotly plots</span></span>
<span id="cb30-64"><a href="#cb30-64" aria-hidden="true" tabindex="-1"></a>p1_int <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p1)</span>
<span id="cb30-65"><a href="#cb30-65" aria-hidden="true" tabindex="-1"></a>p2_int <span class="ot">&lt;-</span> plotly<span class="sc">::</span><span class="fu">ggplotly</span>(p2)</span>
<span id="cb30-66"><a href="#cb30-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-67"><a href="#cb30-67" aria-hidden="true" tabindex="-1"></a><span class="co"># For p2, turn off legend for all traces (already in p1)</span></span>
<span id="cb30-68"><a href="#cb30-68" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(p2_int<span class="sc">$</span>x<span class="sc">$</span>data)) {</span>
<span id="cb30-69"><a href="#cb30-69" aria-hidden="true" tabindex="-1"></a>  p2_int<span class="sc">$</span>x<span class="sc">$</span>data[[i]]<span class="sc">$</span>showlegend <span class="ot">&lt;-</span> <span class="cn">FALSE</span></span>
<span id="cb30-70"><a href="#cb30-70" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb30-71"><a href="#cb30-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-72"><a href="#cb30-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine plots and display</span></span>
<span id="cb30-73"><a href="#cb30-73" aria-hidden="true" tabindex="-1"></a>plotly<span class="sc">::</span><span class="fu">subplot</span>(</span>
<span id="cb30-74"><a href="#cb30-74" aria-hidden="true" tabindex="-1"></a>  p1_int, </span>
<span id="cb30-75"><a href="#cb30-75" aria-hidden="true" tabindex="-1"></a>  p2_int, </span>
<span id="cb30-76"><a href="#cb30-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrows =</span> <span class="dv">2</span>, </span>
<span id="cb30-77"><a href="#cb30-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">shareX =</span> <span class="cn">TRUE</span>, </span>
<span id="cb30-78"><a href="#cb30-78" aria-hidden="true" tabindex="-1"></a>  <span class="at">titleY =</span> <span class="cn">TRUE</span></span>
<span id="cb30-79"><a href="#cb30-79" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb30-80"><a href="#cb30-80" aria-hidden="true" tabindex="-1"></a>  plotly<span class="sc">::</span><span class="fu">layout</span>(</span>
<span id="cb30-81"><a href="#cb30-81" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Revenue by Artist&lt;br&gt;&lt;sup&gt;2009-01-01 to 2013-12-22&lt;/sup&gt;"</span>),</span>
<span id="cb30-82"><a href="#cb30-82" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend =</span> <span class="fu">list</span>(<span class="at">orientation =</span> <span class="st">"h"</span>, <span class="at">x =</span> <span class="fl">0.5</span>, <span class="at">xanchor =</span> <span class="st">"center"</span>, <span class="at">y =</span> <span class="sc">-</span><span class="fl">0.1</span>)</span>
<span id="cb30-83"><a href="#cb30-83" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-a37af9a2b6a4c10226c5" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-a37af9a2b6a4c10226c5">{"x":{"data":[{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036],"base":[102.95999999999999,81.180000000000007,73.260000000000005,65.670000000000002,71.280000000000001,33.660000000000004,29.699999999999999,35.640000000000001,27.720000000000002,21.780000000000001,29.700000000000003,24.75,34.649999999999999,22.77,26.73,29.700000000000003,32.670000000000002,27.719999999999999,47.759999999999998],"x":[1,2,3,5,4,8,10,7,13,19,12,18,9,20,17,15,11,16,6],"y":[35.640000000000001,24.75,16.829999999999998,15.920000000000002,14.849999999999994,9.8999999999999986,9.9000000000000021,8.9099999999999966,8.9100000000000001,8.9100000000000001,6.9299999999999997,6.9299999999999997,6.9299999999999997,5.9400000000000013,5.9400000000000013,5.9399999999999977,5.9399999999999977,5.9399999999999977,1.990000000000002],"text":["Artist: Iron Maiden<br />TotalRevenue: 35.64<br />Year: 2013","Artist: U2<br />TotalRevenue: 24.75<br />Year: 2013","Artist: Metallica<br />TotalRevenue: 16.83<br />Year: 2013","Artist: Lost<br />TotalRevenue: 15.92<br />Year: 2013","Artist: Led Zeppelin<br />TotalRevenue: 14.85<br />Year: 2013","Artist: Deep Purple<br />TotalRevenue:  9.90<br />Year: 2013","Artist: Eric Clapton<br />TotalRevenue:  9.90<br />Year: 2013","Artist: Os Paralamas Do Sucesso<br />TotalRevenue:  8.91<br />Year: 2013","Artist: Queen<br />TotalRevenue:  8.91<br />Year: 2013","Artist: Kiss<br />TotalRevenue:  8.91<br />Year: 2013","Artist: Creedence Clearwater Revival<br />TotalRevenue:  6.93<br />Year: 2013","Artist: Pearl Jam<br />TotalRevenue:  6.93<br />Year: 2013","Artist: Faith No More<br />TotalRevenue:  6.93<br />Year: 2013","Artist: Van Halen<br />TotalRevenue:  5.94<br />Year: 2013","Artist: Green Day<br />TotalRevenue:  5.94<br />Year: 2013","Artist: Guns N' Roses<br />TotalRevenue:  5.94<br />Year: 2013","Artist: R.E.M.<br />TotalRevenue:  5.94<br />Year: 2013","Artist: Titãs<br />TotalRevenue:  5.94<br />Year: 2013","Artist: The Office<br />TotalRevenue:  1.99<br />Year: 2013"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2013","legendgroup":"2013","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[69.299999999999997,53.460000000000001,21.890000000000001,47.520000000000003,47.520000000000003,45.769999999999996,21.780000000000001,16.830000000000002,25.870000000000001,24.75,16.829999999999998,16.829999999999998,21.779999999999998,19.800000000000001],"x":[1,2,6,3,4,5,7,13,14,11,18,20,16,19],"y":[33.659999999999997,27.720000000000006,25.869999999999997,25.740000000000002,23.759999999999998,19.900000000000006,13.859999999999999,10.890000000000001,9.9499999999999993,7.9200000000000017,7.9200000000000017,5.9400000000000013,5.9400000000000013,1.9800000000000004],"text":["Artist: Iron Maiden<br />TotalRevenue: 33.66<br />Year: 2012","Artist: U2<br />TotalRevenue: 27.72<br />Year: 2012","Artist: The Office<br />TotalRevenue: 25.87<br />Year: 2012","Artist: Metallica<br />TotalRevenue: 25.74<br />Year: 2012","Artist: Led Zeppelin<br />TotalRevenue: 23.76<br />Year: 2012","Artist: Lost<br />TotalRevenue: 19.90<br />Year: 2012","Artist: Os Paralamas Do Sucesso<br />TotalRevenue: 13.86<br />Year: 2012","Artist: Queen<br />TotalRevenue: 10.89<br />Year: 2012","Artist: Battlestar Galactica (Classic)<br />TotalRevenue:  9.95<br />Year: 2012","Artist: R.E.M.<br />TotalRevenue:  7.92<br />Year: 2012","Artist: Pearl Jam<br />TotalRevenue:  7.92<br />Year: 2012","Artist: Van Halen<br />TotalRevenue:  5.94<br />Year: 2012","Artist: Titãs<br />TotalRevenue:  5.94<br />Year: 2012","Artist: Kiss<br />TotalRevenue:  1.98<br />Year: 2012"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2012","legendgroup":"2012","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999991],"base":[26.73,23.879999999999999,7.96,15.84,11.880000000000001,9.9000000000000004,5.9400000000000004,11.94,23.760000000000002,25.740000000000002,13.859999999999999,21.780000000000001,8.9100000000000001,8.9100000000000001,22.770000000000003,20.789999999999999,14.850000000000001,44.549999999999997,44.549999999999997,68.310000000000002],"x":[2,5,14,10,11,7,13,6,8,9,16,15,18,20,12,17,19,4,3,1],"y":[26.73,21.889999999999997,17.91,13.859999999999999,12.869999999999999,11.880000000000001,10.890000000000001,9.9500000000000011,9.9000000000000021,8.9099999999999966,7.9199999999999982,7.9200000000000017,7.9199999999999982,7.9199999999999982,6.9299999999999997,5.9400000000000013,4.9499999999999993,2.970000000000006,2.970000000000006,0.98999999999999488],"text":["Artist: U2<br />TotalRevenue: 26.73<br />Year: 2011","Artist: Lost<br />TotalRevenue: 21.89<br />Year: 2011","Artist: Battlestar Galactica (Classic)<br />TotalRevenue: 17.91<br />Year: 2011","Artist: Eric Clapton<br />TotalRevenue: 13.86<br />Year: 2011","Artist: R.E.M.<br />TotalRevenue: 12.87<br />Year: 2011","Artist: Os Paralamas Do Sucesso<br />TotalRevenue: 11.88<br />Year: 2011","Artist: Queen<br />TotalRevenue: 10.89<br />Year: 2011","Artist: The Office<br />TotalRevenue:  9.95<br />Year: 2011","Artist: Deep Purple<br />TotalRevenue:  9.90<br />Year: 2011","Artist: Faith No More<br />TotalRevenue:  8.91<br />Year: 2011","Artist: Titãs<br />TotalRevenue:  7.92<br />Year: 2011","Artist: Guns N' Roses<br />TotalRevenue:  7.92<br />Year: 2011","Artist: Pearl Jam<br />TotalRevenue:  7.92<br />Year: 2011","Artist: Van Halen<br />TotalRevenue:  7.92<br />Year: 2011","Artist: Creedence Clearwater Revival<br />TotalRevenue:  6.93<br />Year: 2011","Artist: Green Day<br />TotalRevenue:  5.94<br />Year: 2011","Artist: Kiss<br />TotalRevenue:  4.95<br />Year: 2011","Artist: Led Zeppelin<br />TotalRevenue:  2.97<br />Year: 2011","Artist: Metallica<br />TotalRevenue:  2.97<br />Year: 2011","Artist: Iron Maiden<br />TotalRevenue:  0.99<br />Year: 2011"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,144,140,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2011","legendgroup":"2011","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036],"base":[33.659999999999997,0,0,21.780000000000001,22.77,0.98999999999999999,0,11.880000000000001,10.890000000000001,9.9000000000000004,4.9500000000000002,3.96,15.84,11.880000000000001,0,0,4.9500000000000002,8.9100000000000001],"x":[1,2,5,3,4,16,6,8,12,17,10,19,9,15,20,14,13,7],"y":[34.650000000000006,26.73,23.879999999999999,22.769999999999996,21.779999999999998,12.869999999999999,11.94,11.880000000000001,11.880000000000003,10.889999999999999,10.890000000000001,10.890000000000001,9.9000000000000021,9.9000000000000004,8.9100000000000001,7.96,0.99000000000000021,0.99000000000000021],"text":["Artist: Iron Maiden<br />TotalRevenue: 34.65<br />Year: 2010","Artist: U2<br />TotalRevenue: 26.73<br />Year: 2010","Artist: Lost<br />TotalRevenue: 23.88<br />Year: 2010","Artist: Metallica<br />TotalRevenue: 22.77<br />Year: 2010","Artist: Led Zeppelin<br />TotalRevenue: 21.78<br />Year: 2010","Artist: Titãs<br />TotalRevenue: 12.87<br />Year: 2010","Artist: The Office<br />TotalRevenue: 11.94<br />Year: 2010","Artist: Deep Purple<br />TotalRevenue: 11.88<br />Year: 2010","Artist: Creedence Clearwater Revival<br />TotalRevenue: 11.88<br />Year: 2010","Artist: Green Day<br />TotalRevenue: 10.89<br />Year: 2010","Artist: Eric Clapton<br />TotalRevenue: 10.89<br />Year: 2010","Artist: Kiss<br />TotalRevenue: 10.89<br />Year: 2010","Artist: Faith No More<br />TotalRevenue:  9.90<br />Year: 2010","Artist: Guns N' Roses<br />TotalRevenue:  9.90<br />Year: 2010","Artist: Van Halen<br />TotalRevenue:  8.91<br />Year: 2010","Artist: Battlestar Galactica (Classic)<br />TotalRevenue:  7.96<br />Year: 2010","Artist: Queen<br />TotalRevenue:  0.99<br />Year: 2010","Artist: Os Paralamas Do Sucesso<br />TotalRevenue:  0.99<br />Year: 2010"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(93,200,99,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2010","legendgroup":"2010","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,4,3,9,8,11,15,12,17,7,18,13,10,19,16],"y":[33.659999999999997,22.77,21.780000000000001,15.84,11.880000000000001,11.880000000000001,11.880000000000001,10.890000000000001,9.9000000000000004,8.9100000000000001,8.9100000000000001,4.9500000000000002,4.9500000000000002,3.96,0.98999999999999999],"text":["Artist: Iron Maiden<br />TotalRevenue: 33.66<br />Year: 2009","Artist: Led Zeppelin<br />TotalRevenue: 22.77<br />Year: 2009","Artist: Metallica<br />TotalRevenue: 21.78<br />Year: 2009","Artist: Faith No More<br />TotalRevenue: 15.84<br />Year: 2009","Artist: Deep Purple<br />TotalRevenue: 11.88<br />Year: 2009","Artist: R.E.M.<br />TotalRevenue: 11.88<br />Year: 2009","Artist: Guns N' Roses<br />TotalRevenue: 11.88<br />Year: 2009","Artist: Creedence Clearwater Revival<br />TotalRevenue: 10.89<br />Year: 2009","Artist: Green Day<br />TotalRevenue:  9.90<br />Year: 2009","Artist: Os Paralamas Do Sucesso<br />TotalRevenue:  8.91<br />Year: 2009","Artist: Pearl Jam<br />TotalRevenue:  8.91<br />Year: 2009","Artist: Queen<br />TotalRevenue:  4.95<br />Year: 2009","Artist: Eric Clapton<br />TotalRevenue:  4.95<br />Year: 2009","Artist: Kiss<br />TotalRevenue:  3.96<br />Year: 2009","Artist: Titãs<br />TotalRevenue:  0.99<br />Year: 2009"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2009","legendgroup":"2009","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036],"base":[0.47999999999999998,0.60999999999999999,0.65000000000000002,0.71999999999999997,0.63,0.37,0.62,0.71999999999999997,0.60999999999999999,0.62,0.73999999999999999,0.37,0.66000000000000003,0.42999999999999999,0.78000000000000003,0.70999999999999996,0.79000000000000004,0.73999999999999999,0.91000000000000003],"x":[1,2,3,5,4,8,10,7,13,19,12,18,9,20,17,15,11,16,6],"y":[0.17000000000000004,0.18000000000000005,0.15000000000000002,0.17000000000000004,0.13,0.10999999999999999,0.20999999999999996,0.18000000000000005,0.19999999999999996,0.25,0.17000000000000004,0.099999999999999978,0.13,0.11000000000000004,0.16999999999999993,0.14000000000000012,0.1399999999999999,0.16000000000000003,0.039999999999999925],"text":["Artist: Iron Maiden<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Artist: U2<br />RevenuePerTotalTrack: 0.18<br />Year: 2013","Artist: Metallica<br />RevenuePerTotalTrack: 0.15<br />Year: 2013","Artist: Lost<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Artist: Led Zeppelin<br />RevenuePerTotalTrack: 0.13<br />Year: 2013","Artist: Deep Purple<br />RevenuePerTotalTrack: 0.11<br />Year: 2013","Artist: Eric Clapton<br />RevenuePerTotalTrack: 0.21<br />Year: 2013","Artist: Os Paralamas Do Sucesso<br />RevenuePerTotalTrack: 0.18<br />Year: 2013","Artist: Queen<br />RevenuePerTotalTrack: 0.20<br />Year: 2013","Artist: Kiss<br />RevenuePerTotalTrack: 0.25<br />Year: 2013","Artist: Creedence Clearwater Revival<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Artist: Pearl Jam<br />RevenuePerTotalTrack: 0.10<br />Year: 2013","Artist: Faith No More<br />RevenuePerTotalTrack: 0.13<br />Year: 2013","Artist: Van Halen<br />RevenuePerTotalTrack: 0.11<br />Year: 2013","Artist: Green Day<br />RevenuePerTotalTrack: 0.17<br />Year: 2013","Artist: Guns N' Roses<br />RevenuePerTotalTrack: 0.14<br />Year: 2013","Artist: R.E.M.<br />RevenuePerTotalTrack: 0.14<br />Year: 2013","Artist: Titãs<br />RevenuePerTotalTrack: 0.16<br />Year: 2013","Artist: The Office<br />RevenuePerTotalTrack: 0.04<br />Year: 2013"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(68,1,84,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2013","legendgroup":"2013","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0.32000000000000001,0.40000000000000002,0.42000000000000004,0.42000000000000004,0.42000000000000004,0.5,0.44,0.37,1.0800000000000001,0.59999999999999998,0.25,0.32000000000000001,0.58000000000000007,0.56000000000000005],"x":[1,2,6,3,4,5,7,13,14,11,18,20,16,19],"y":[0.15999999999999998,0.20999999999999996,0.48999999999999999,0.22999999999999998,0.20999999999999996,0.21999999999999997,0.27999999999999997,0.23999999999999999,0.40999999999999992,0.19000000000000006,0.12,0.10999999999999999,0.15999999999999992,0.059999999999999942],"text":["Artist: Iron Maiden<br />RevenuePerTotalTrack: 0.16<br />Year: 2012","Artist: U2<br />RevenuePerTotalTrack: 0.21<br />Year: 2012","Artist: The Office<br />RevenuePerTotalTrack: 0.49<br />Year: 2012","Artist: Metallica<br />RevenuePerTotalTrack: 0.23<br />Year: 2012","Artist: Led Zeppelin<br />RevenuePerTotalTrack: 0.21<br />Year: 2012","Artist: Lost<br />RevenuePerTotalTrack: 0.22<br />Year: 2012","Artist: Os Paralamas Do Sucesso<br />RevenuePerTotalTrack: 0.28<br />Year: 2012","Artist: Queen<br />RevenuePerTotalTrack: 0.24<br />Year: 2012","Artist: Battlestar Galactica (Classic)<br />RevenuePerTotalTrack: 0.41<br />Year: 2012","Artist: R.E.M.<br />RevenuePerTotalTrack: 0.19<br />Year: 2012","Artist: Pearl Jam<br />RevenuePerTotalTrack: 0.12<br />Year: 2012","Artist: Van Halen<br />RevenuePerTotalTrack: 0.11<br />Year: 2012","Artist: Titãs<br />RevenuePerTotalTrack: 0.16<br />Year: 2012","Artist: Kiss<br />RevenuePerTotalTrack: 0.06<br />Year: 2012"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(59,82,139,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2012","legendgroup":"2012","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.90000000000000013,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.90000000000000036,0.89999999999999991],"base":[0.20000000000000001,0.26000000000000001,0.33000000000000002,0.33000000000000002,0.28999999999999998,0.19999999999999998,0.13,0.23000000000000001,0.26000000000000001,0.48999999999999999,0.37,0.52000000000000002,0.13,0.17000000000000001,0.57000000000000006,0.60999999999999999,0.41999999999999998,0.39000000000000001,0.39000000000000001,0.32000000000000001],"x":[2,5,14,10,11,7,13,6,8,9,16,15,18,20,12,17,19,4,3,1],"y":[0.20000000000000001,0.23999999999999999,0.75,0.28999999999999998,0.31,0.24000000000000002,0.23999999999999999,0.19000000000000003,0.10999999999999999,0.17000000000000004,0.21000000000000008,0.18999999999999995,0.12,0.14999999999999999,0.16999999999999993,0.17000000000000004,0.14000000000000007,0.030000000000000027,0.030000000000000027,0],"text":["Artist: U2<br />RevenuePerTotalTrack: 0.20<br />Year: 2011","Artist: Lost<br />RevenuePerTotalTrack: 0.24<br />Year: 2011","Artist: Battlestar Galactica (Classic)<br />RevenuePerTotalTrack: 0.75<br />Year: 2011","Artist: Eric Clapton<br />RevenuePerTotalTrack: 0.29<br />Year: 2011","Artist: R.E.M.<br />RevenuePerTotalTrack: 0.31<br />Year: 2011","Artist: Os Paralamas Do Sucesso<br />RevenuePerTotalTrack: 0.24<br />Year: 2011","Artist: Queen<br />RevenuePerTotalTrack: 0.24<br />Year: 2011","Artist: The Office<br />RevenuePerTotalTrack: 0.19<br />Year: 2011","Artist: Deep Purple<br />RevenuePerTotalTrack: 0.11<br />Year: 2011","Artist: Faith No More<br />RevenuePerTotalTrack: 0.17<br />Year: 2011","Artist: Titãs<br />RevenuePerTotalTrack: 0.21<br />Year: 2011","Artist: Guns N' Roses<br />RevenuePerTotalTrack: 0.19<br />Year: 2011","Artist: Pearl Jam<br />RevenuePerTotalTrack: 0.12<br />Year: 2011","Artist: Van Halen<br />RevenuePerTotalTrack: 0.15<br />Year: 2011","Artist: Creedence Clearwater Revival<br />RevenuePerTotalTrack: 0.17<br />Year: 2011","Artist: Green Day<br />RevenuePerTotalTrack: 0.17<br />Year: 2011","Artist: Kiss<br />RevenuePerTotalTrack: 0.14<br />Year: 2011","Artist: Led Zeppelin<br />RevenuePerTotalTrack: 0.03<br />Year: 2011","Artist: Metallica<br />RevenuePerTotalTrack: 0.03<br />Year: 2011","Artist: Iron Maiden<br />RevenuePerTotalTrack: 0.00<br />Year: 2011"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(33,144,140,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2011","legendgroup":"2011","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000013,0.90000000000000036,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.90000000000000036,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036],"base":[0.16,0,0,0.19,0.20000000000000001,0.029999999999999999,0,0.13,0.27000000000000002,0.28999999999999998,0.10000000000000001,0.11,0.29999999999999999,0.28000000000000003,0,0,0.11,0.17999999999999999],"x":[1,2,5,3,4,16,6,8,12,17,10,19,9,15,20,14,13,7],"y":[0.16,0.20000000000000001,0.26000000000000001,0.20000000000000001,0.19,0.33999999999999997,0.23000000000000001,0.13,0.30000000000000004,0.32000000000000001,0.23000000000000001,0.31,0.19,0.23999999999999999,0.17000000000000001,0.33000000000000002,0.020000000000000004,0.01999999999999999],"text":["Artist: Iron Maiden<br />RevenuePerTotalTrack: 0.16<br />Year: 2010","Artist: U2<br />RevenuePerTotalTrack: 0.20<br />Year: 2010","Artist: Lost<br />RevenuePerTotalTrack: 0.26<br />Year: 2010","Artist: Metallica<br />RevenuePerTotalTrack: 0.20<br />Year: 2010","Artist: Led Zeppelin<br />RevenuePerTotalTrack: 0.19<br />Year: 2010","Artist: Titãs<br />RevenuePerTotalTrack: 0.34<br />Year: 2010","Artist: The Office<br />RevenuePerTotalTrack: 0.23<br />Year: 2010","Artist: Deep Purple<br />RevenuePerTotalTrack: 0.13<br />Year: 2010","Artist: Creedence Clearwater Revival<br />RevenuePerTotalTrack: 0.30<br />Year: 2010","Artist: Green Day<br />RevenuePerTotalTrack: 0.32<br />Year: 2010","Artist: Eric Clapton<br />RevenuePerTotalTrack: 0.23<br />Year: 2010","Artist: Kiss<br />RevenuePerTotalTrack: 0.31<br />Year: 2010","Artist: Faith No More<br />RevenuePerTotalTrack: 0.19<br />Year: 2010","Artist: Guns N' Roses<br />RevenuePerTotalTrack: 0.24<br />Year: 2010","Artist: Van Halen<br />RevenuePerTotalTrack: 0.17<br />Year: 2010","Artist: Battlestar Galactica (Classic)<br />RevenuePerTotalTrack: 0.33<br />Year: 2010","Artist: Queen<br />RevenuePerTotalTrack: 0.02<br />Year: 2010","Artist: Os Paralamas Do Sucesso<br />RevenuePerTotalTrack: 0.02<br />Year: 2010"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(93,200,99,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2010","legendgroup":"2010","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.89999999999999991,0.90000000000000036,0.90000000000000036,0.89999999999999858,0.89999999999999947,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.90000000000000036,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858,0.89999999999999858],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[1,4,3,9,8,11,15,12,17,7,18,13,10,19,16],"y":[0.16,0.20000000000000001,0.19,0.29999999999999999,0.13,0.28999999999999998,0.28000000000000003,0.27000000000000002,0.28999999999999998,0.17999999999999999,0.13,0.11,0.10000000000000001,0.11,0.029999999999999999],"text":["Artist: Iron Maiden<br />RevenuePerTotalTrack: 0.16<br />Year: 2009","Artist: Led Zeppelin<br />RevenuePerTotalTrack: 0.20<br />Year: 2009","Artist: Metallica<br />RevenuePerTotalTrack: 0.19<br />Year: 2009","Artist: Faith No More<br />RevenuePerTotalTrack: 0.30<br />Year: 2009","Artist: Deep Purple<br />RevenuePerTotalTrack: 0.13<br />Year: 2009","Artist: R.E.M.<br />RevenuePerTotalTrack: 0.29<br />Year: 2009","Artist: Guns N' Roses<br />RevenuePerTotalTrack: 0.28<br />Year: 2009","Artist: Creedence Clearwater Revival<br />RevenuePerTotalTrack: 0.27<br />Year: 2009","Artist: Green Day<br />RevenuePerTotalTrack: 0.29<br />Year: 2009","Artist: Os Paralamas Do Sucesso<br />RevenuePerTotalTrack: 0.18<br />Year: 2009","Artist: Pearl Jam<br />RevenuePerTotalTrack: 0.13<br />Year: 2009","Artist: Queen<br />RevenuePerTotalTrack: 0.11<br />Year: 2009","Artist: Eric Clapton<br />RevenuePerTotalTrack: 0.10<br />Year: 2009","Artist: Kiss<br />RevenuePerTotalTrack: 0.11<br />Year: 2009","Artist: Titãs<br />RevenuePerTotalTrack: 0.03<br />Year: 2009"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(253,231,37,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"2009","legendgroup":"2009","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,20.600000000000001],"tickmode":"array","ticktext":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Titãs","Green Day","Pearl Jam","Kiss","Van Halen"],"tickvals":[1,2,3,4.0000000000000009,5,6.0000000000000009,7,8,9,10,11,12.000000000000002,13,14.000000000000002,15,16,17,18,19,20],"categoryorder":"array","categoryarray":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Titãs","Green Day","Pearl Jam","Kiss","Van Halen"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y2","title":{"text":"Artist","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis2":{"domain":[0,0.47999999999999998],"automargin":true,"type":"linear","autorange":false,"range":[-0.074499999999999997,1.5645],"tickmode":"array","ticktext":["$0.00","$0.50","$1.00","$1.50"],"tickvals":[0,0.5,1,1.5],"categoryorder":"array","categoryarray":["$0.00","$0.50","$1.00","$1.50"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Revenue per Track (USD$)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"type":"linear","autorange":false,"range":[-6.9299999999999997,145.53],"tickmode":"array","ticktext":["$0","$50","$100"],"tickvals":[0,50,100],"categoryorder":"array","categoryarray":["$0","$50","$100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"Total Revenue (USD$)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"annotations":[],"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0.52000000000000002,"y1":1},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","layer":"below","x0":0,"x1":1,"y0":0,"y1":0.47999999999999998}],"images":[],"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":28.493150684931511,"l":54.794520547945211},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Revenue by Artist<br><sup>2009-01-01 to 2013-12-22<\/sup>","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"Year","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"orientation":"h","x":0.5,"xanchor":"center","y":-0.10000000000000001},"hovermode":"closest","barmode":"relative"},"attrs":{"8c5819ce4a0c":{"x":{},"y":{},"fill":{},"type":"bar"},"8c581cae7b1e":{"x":{},"y":{},"fill":{},"type":"bar"}},"source":"A","config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
<div id="tabset-8-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-8-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out "All" year</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> res_artist_df[res_artist_df[<span class="st">"Year"</span>] <span class="op">!=</span> <span class="st">"All"</span>]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Restrict to top 20 artists (for legibility)</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df[<span class="st">"Artist"</span>].isin(artists[<span class="dv">0</span>:<span class="dv">20</span>])]</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort years in reverse</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>years_r <span class="op">=</span> <span class="bu">sorted</span>(df[<span class="st">"Year"</span>].unique(), reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create subplot</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> make_subplots(</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    rows<span class="op">=</span><span class="dv">2</span>, cols<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>    shared_xaxes<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>    vertical_spacing<span class="op">=</span><span class="fl">0.08</span>,</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>    subplot_titles<span class="op">=</span>(<span class="st">"Total Revenue"</span>, <span class="st">"Revenue per Track in Catalog"</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Colorblind-friendly color scheme</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>colors <span class="op">=</span> px.colors.sequential.Viridis[:<span class="op">-</span><span class="bu">len</span>(years_r)]</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Total Revenue</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, year <span class="kw">in</span> <span class="bu">enumerate</span>(years_r):</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> df[df[<span class="st">"Year"</span>] <span class="op">==</span> year]</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>subset[<span class="st">"Artist"</span>],</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>subset[<span class="st">"TotalRevenue"</span>],</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>colors[i],</span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">True</span> <span class="cf">if</span> i <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="va">False</span>  <span class="co"># only once for cleaner display</span></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span></span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="54a3dd3a-3bc7-44be-91ac-fdc66eb10ad2" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("54a3dd3a-3bc7-44be-91ac-fdc66eb10ad2")) {                    Plotly.newPlot(                        "54a3dd3a-3bc7-44be-91ac-fdc66eb10ad2",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}]},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot 1: Revenue per Track in Catalog</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, year <span class="kw">in</span> <span class="bu">enumerate</span>(years_r):</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    subset <span class="op">=</span> df[df[<span class="st">"Year"</span>] <span class="op">==</span> year]</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>    fig.add_trace(</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>        go.Bar(</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>subset[<span class="st">"Artist"</span>],</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>subset[<span class="st">"RevenuePerTotalTrack"</span>],</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>            name<span class="op">=</span><span class="bu">str</span>(year),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>            marker_color<span class="op">=</span>colors[i],</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>            showlegend<span class="op">=</span><span class="va">True</span>  <span class="co"># show for all so full legend appears</span></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>        row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="9342ac8d-8aba-42d2-b5d2-c4f5533244ef" class="plotly-graph-div" style="height:100%; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("9342ac8d-8aba-42d2-b5d2-c4f5533244ef")) {                    Plotly.newPlot(                        "9342ac8d-8aba-42d2-b5d2-c4f5533244ef",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}]},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format Layout</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>fig.update_layout(</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">## Make stacked bar plot</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    barmode<span class="op">=</span><span class="st">'stack'</span>,</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>        text<span class="op">=</span><span class="st">'Revenue by Artist&lt;br&gt;&lt;sub&gt;2009-01-01 to 2013-12-22&lt;/sub&gt;'</span>,</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>        font<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">20</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">700</span>,</span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>    margin<span class="op">=</span><span class="bu">dict</span>(t<span class="op">=</span><span class="dv">120</span>),</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Legend on bottom, horizontal</span></span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="bu">dict</span>(</span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>        orientation<span class="op">=</span><span class="st">'h'</span>,</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>        yanchor<span class="op">=</span><span class="st">'bottom'</span>,</span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=-</span><span class="fl">0.25</span>,</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>        xanchor<span class="op">=</span><span class="st">'center'</span>,</span>
<span id="cb33-19"><a href="#cb33-19" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb33-20"><a href="#cb33-20" aria-hidden="true" tabindex="-1"></a>        title<span class="op">=</span><span class="st">'Year'</span></span>
<span id="cb33-21"><a href="#cb33-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-22"><a href="#cb33-22" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="430b5087-cd61-43fe-98af-f6b70a17b917" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("430b5087-cd61-43fe-98af-f6b70a17b917")) {                    Plotly.newPlot(                        "430b5087-cd61-43fe-98af-f6b70a17b917",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0]},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Format axes</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Y-axis as dollars</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"Total Revenue (USD)"</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>, tickformat<span class="op">=</span><span class="st">"$,.2f"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="e3241946-45f8-4130-b20e-8c2fadd386f5" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e3241946-45f8-4130-b20e-8c2fadd386f5")) {                    Plotly.newPlot(                        "e3241946-45f8-4130-b20e-8c2fadd386f5",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46]},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>fig.update_yaxes(title_text<span class="op">=</span><span class="st">"Revenue per Track (USD)"</span>, row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span>, tickformat<span class="op">=</span><span class="st">"$,.2f"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="c5a9f605-49c7-44d6-b38d-334407bcb874" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("c5a9f605-49c7-44d6-b38d-334407bcb874")) {                    Plotly.newPlot(                        "c5a9f605-49c7-44d6-b38d-334407bcb874",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Ensure only one x-axis shows, rotated (for legibility)</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="va">None</span>, row<span class="op">=</span><span class="dv">1</span>, col<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="718a4ec1-7cc9-4cdd-8b37-7d186b5439e9" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("718a4ec1-7cc9-4cdd-8b37-7d186b5439e9")) {                    Plotly.newPlot(                        "718a4ec1-7cc9-4cdd-8b37-7d186b5439e9",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0]},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(title_text<span class="op">=</span><span class="st">"Artist"</span>, tickangle<span class="op">=</span><span class="dv">45</span>, row<span class="op">=</span><span class="dv">2</span>, col<span class="op">=</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="e393ec47-77f1-4cc3-ab83-b2607529d79b" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("e393ec47-77f1-4cc3-ab83-b2607529d79b")) {                    Plotly.newPlot(                        "e393ec47-77f1-4cc3-ab83-b2607529d79b",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Artist"},"tickangle":45},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display plot</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.0.1.min.js" integrity="sha256-oy6Be7Eh6eiQFs5M7oXuPxxm9qbJXEtTpfSI93dW16Q=" crossorigin="anonymous"></script>                <div id="1940897d-4091-4a56-919d-431b052e2660" class="plotly-graph-div" style="height:700px; width:100%;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("1940897d-4091-4a56-919d-431b052e2660")) {                    Plotly.newPlot(                        "1940897d-4091-4a56-919d-431b052e2660",                        [{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"UrgehevRQUAAAAAAAMA4QBSuR+F61DBAMzMzMzOzLUDXo3A9CtcvQNejcD0K1\u002f8\u002fUrgehevRIUDNzMzMzMwjQLgehetRuBtAzczMzMzMI0DD9Shcj8IXQLgehetRuBtAUrgehevRIUDD9Shcj8IXQMP1KFyPwhdAw\u002fUoXI\u002fCF0C4HoXrUbgbQFK4HoXr0SFArkfhehSuD0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#482878"},"name":"2012","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEC4HoXrUbg7QD0K16NwvTlAw\u002fUoXI\u002fCN0BmZmZmZuYzQB+F61G43jlAuB6F61G4K0CuR+F6FK4fQEjhehSuxyVAZmZmZmbmI0DD9Shcj8IXQK5H4XoUrh9ArkfhehSu\u002fz+uR+F6FK4PQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"rkfhehSu7z97FK5H4bo6QMP1KFyPwgdAw\u002fUoXI\u002fCB0CkcD0K1+M1QGZmZmZm5iNAw\u002fUoXI\u002fCJ0DNzMzMzMwjQFK4HoXr0SFAuB6F61G4K0A9CtejcL0pQLgehetRuBtASOF6FK7HJUApXI\u002fC9egxQK5H4XoUrh9ArkfhehSuH0DD9Shcj8IXQK5H4XoUrh9AzczMzMzME0C4HoXrUbgbQA=="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":false,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"MzMzMzNTQUB7FK5H4bo6QIXrUbgexTZASOF6FK7HNUDhehSuR+E3QOF6FK5H4SdArkfhehSu7z\u002fD9Shcj8InQM3MzMzMzCNASOF6FK7HJUDD9Shcj8InQK5H4XoUru8\u002f16NwPQrXH0DNzMzMzMwjQD0K16NwvSlASOF6FK7HJUBI4XoUrsclQFK4HoXr0SFA"},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":false,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"FK5H4XrUQEBI4XoUrsc1QIXrUbgexTZAUrgehevRIUDD9Shcj8InQK5H4XoUri9AzczMzMzME0DD9Shcj8InQEjhehSuxyVAzczMzMzME0DD9Shcj8InQK5H4XoUru8\u002fzczMzMzMI0BSuB6F69EhQK5H4XoUrg9AzczMzMzME0A="},"type":"bar","xaxis":"x","yaxis":"y"},{"marker":{"color":"#440154"},"name":"2013","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"w\u002fUoXI\u002fCxT8K16NwPQrHPzMzMzMzM8M\u002fpHA9CtejwD\u002fD9Shcj8LFP3sUrkfheqQ\u002fCtejcD0Kxz8pXI\u002fC9Si8P6RwPQrXo8A\u002f4XoUrkfhyj\u002fsUbgehevBP8P1KFyPwsU\u002fmpmZmZmZyT\u002fsUbgehevBP3sUrkfhesQ\u002fw\u002fUoXI\u002fCxT+amZmZmZm5PwAAAAAAANA\u002f7FG4HoXrsT8="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#482878"},"name":"2012","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","R.E.M.","Queen","Battlestar Galactica (Classic)","Tit\u00e3s","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD\u002fhehSuR+HKP3E9CtejcM0\u002f4XoUrkfhyj8pXI\u002fC9SjMP1yPwvUoXN8\u002f7FG4HoXr0T9SuB6F61HIP7gehetRuM4\u002fPQrXo3A92j97FK5H4XrEP7gehetRuL4\u002fuB6F61G4rj\u002fsUbgeheuxPw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#3e4989"},"name":"2011","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"AAAAAAAAAACamZmZmZnJP7gehetRuJ4\u002fuB6F61G4nj+4HoXrUbjOP1K4HoXrUcg\u002fuB6F61G4zj8pXI\u002fC9Si8P8P1KFyPwsU\u002fj8L1KFyP0j\u002fXo3A9CtfTP8P1KFyPwsU\u002fuB6F61G4zj8AAAAAAADoP1K4HoXrUcg\u002f4XoUrkfhyj\u002fD9Shcj8LFP7gehetRuL4\u002f7FG4HoXrwT+4HoXrUbi+Pw=="},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#31688e"},"name":"2010","showlegend":true,"x":["Iron Maiden","U2","Metallica","Led Zeppelin","Lost","The Office","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","Creedence Clearwater Revival","Queen","Battlestar Galactica (Classic)","Guns N' Roses","Tit\u00e3s","Green Day","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD+amZmZmZnJP5qZmZmZmck\u002fUrgehetRyD+kcD0K16PQP3E9CtejcM0\u002fexSuR+F6lD+kcD0K16PAP1K4HoXrUcg\u002fcT0K16NwzT8zMzMzMzPTP3sUrkfhepQ\u002fH4XrUbge1T+4HoXrUbjOP8P1KFyPwtU\u002fexSuR+F61D\u002fXo3A9CtfTP3sUrkfhesQ\u002f"},"type":"bar","xaxis":"x2","yaxis":"y2"},{"marker":{"color":"#26828e"},"name":"2009","showlegend":true,"x":["Iron Maiden","Metallica","Led Zeppelin","Os Paralamas Do Sucesso","Deep Purple","Faith No More","Eric Clapton","R.E.M.","Creedence Clearwater Revival","Queen","Guns N' Roses","Tit\u00e3s","Green Day","Pearl Jam","Kiss","Various Artists"],"y":{"dtype":"f8","bdata":"exSuR+F6xD9SuB6F61HIP5qZmZmZmck\u002fCtejcD0Kxz+kcD0K16PAPzMzMzMzM9M\u002fmpmZmZmZuT+PwvUoXI\u002fSP0jhehSuR9E\u002fKVyPwvUovD\u002fsUbgehevRP7gehetRuJ4\u002fj8L1KFyP0j+kcD0K16PAPylcj8L1KLw\u002fCtejcD0Ktz8="},"type":"bar","xaxis":"x2","yaxis":"y2"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermap":[{"type":"scattermap","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"matches":"x2","showticklabels":false},"yaxis":{"anchor":"x","domain":[0.54,1.0],"title":{"text":"Total Revenue (USD)"},"tickformat":"$,.2f"},"xaxis2":{"anchor":"y2","domain":[0.0,1.0],"title":{"text":"Artist"},"tickangle":45},"yaxis2":{"anchor":"x2","domain":[0.0,0.46],"title":{"text":"Revenue per Track (USD)"},"tickformat":"$,.2f"},"annotations":[{"font":{"size":16},"showarrow":false,"text":"Total Revenue","x":0.5,"xanchor":"center","xref":"paper","y":1.0,"yanchor":"bottom","yref":"paper"},{"font":{"size":16},"showarrow":false,"text":"Revenue per Track in Catalog","x":0.5,"xanchor":"center","xref":"paper","y":0.46,"yanchor":"bottom","yref":"paper"}],"title":{"font":{"size":20},"text":"Revenue by Artist\u003cbr\u003e\u003csub\u003e2009-01-01 to 2013-12-22\u003c\u002fsub\u003e","x":0.5,"xanchor":"center"},"margin":{"t":120},"legend":{"orientation":"h","yanchor":"bottom","y":-0.25,"xanchor":"center","x":0.5,"title":{"text":"Year"}},"barmode":"stack","height":700},                        {"responsive": true}                    )                };            </script>        </div>
</div>
</div>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Insights
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li><em>Artist revenue is temporally consistent.</em><br>
Most artists show stable annual revenue across the 2009–2013 period. While individual years may fluctuate (e.g., dips for Metallica and Led Zeppelin in 2011), these appear to be temporary rather than indicative of long-term trends.</li>
<li><em>Average revenue per track sold is remarkably stable (~$0.75).</em><br>
A small number of high-volume artists (e.g., Deep Purple, Pearl Jam, Van Halen) show lower per-track revenue (~$0.50), suggesting that large catalogs may dilute revenue unless paired with sustained demand. This could indicate catalog saturation or uneven consumer engagement across their offerings.</li>
<li><em>Revenue per track in catalog highlights structural differences.</em><br>
This metric remains consistent for most music artists, but <em>TV show content</em> (e.g., <em>Lost</em>, <em>The Office</em>) shows a different pattern: exceptionally high revenue per catalog track but concentrated in specific years. For instance, <em>Lost</em> peaked in 2012 before falling to zero in 2013, and <em>The Office</em> spiked from 2010–2012 with no revenue in adjacent years.</li>
<li><em>TV Shows demonstrate high efficiency per asset.</em><br>
Despite small catalogs, TV content generates significantly higher revenue per track than traditional music. This suggests strong demand relative to supply — possibly pointing to unmet or episodic consumption patterns.</li>
</ul>
<p><strong>Opportunities</strong>:</p>
<ul>
<li><em>Expand premium TV show content.</em><br>
The high return per catalog item in TV genres suggests an underexploited category. Adding similar content (episodic, narrative-driven media) could yield high revenue efficiency without requiring large-scale production.</li>
<li><em>Reinvigorate large but underperforming catalogs.</em><br>
Artists with expansive libraries but low per-track revenue (e.g., Deep Purple, Pearl Jam) may benefit from targeted marketing efforts such as <em>curated collections</em>, <em>remastered releases</em>, or <em>highlight reels</em> that surface their most engaging content.</li>
<li><em>Use consumption patterns to guide licensing and promotions.</em><br>
The temporal spikes in shows like <em>Lost</em> and <em>The Office</em> suggest windows of elevated demand. Monitor and act on these seasonal or cultural surges to time <em>promotions</em>, <em>exclusive bundles</em>, or <em>re-releases</em> effectively.</li>
<li><em>Monitor catalog saturation signals.</em><br>
When large catalogs yield diminishing per-track returns, it may be time to reassess content strategy. This includes retiring underperforming assets or introducing new content types that align better with current listener interests.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="q2-summary" class="level2">
<h2 class="anchored" data-anchor-id="q2-summary">Summary of Exploratory Findings</h2>
<p>While overall genre revenue remains stable across years, genre-specific performance varies widely depending on how it’s measured:</p>
<ul>
<li><em>Total Revenue</em> reflects market size. Rock dominates here, alongside Latin, Metal, and Alternative.</li>
<li><em>Revenue per Track in Catalog</em> reveals efficiency. Sci Fi &amp; Fantasy, Comedy, and Bossa Nova perform disproportionately well relative to their catalog sizes — often driven by episodic TV content.</li>
</ul>
<p>These patterns suggest that catalog volume and monetization efficiency are often misaligned. Notably, the top-performing genres by revenue-per-track tend to be narrow in scope but high in engagement, hinting at an opportunity to rebalance the content portfolio.</p>
<p>On the artist level, similar trends likely exist (see artist data prep), and deeper analysis could surface key revenue drivers hiding behind genre-level aggregates.</p>
<ul>
<li><em>Most Efficient Genres by Revenue per Track (2012 spike):</em> Sci Fi &amp; Fantasy (<em>Battlestar Galactica</em>), Comedy (<em>The Office</em>), Bossa Nova</li>
<li><em>Top Genres by Total Revenue:</em> Rock, Latin, Metal, Alternative &amp; Punk, TV Shows</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Possible Next Steps
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Deepen the Analysis:</strong></p>
<ul>
<li><em>Attribute-level analysis for top-performing genres.</em><br>
Disaggregate genre revenue by artist, album, or track to pinpoint the specific drivers of efficiency within high-performing niches.</li>
<li><em>Explore customer-level purchase behavior.</em><br>
Are niche genre buyers also more valuable customers overall? Understanding cross-genre engagement can inform bundling or recommendation strategies.</li>
</ul>
<p><strong>Strategic Business Opportunities:</strong></p>
<ul>
<li><em>Invest in premium, episodic content.</em><br>
Sci Fi &amp; Fantasy and Comedy genres — driven by TV content — deliver strong returns per track. Expanding this segment could yield high-margin growth.</li>
<li><em>React quickly to demand spikes.</em><br>
Temporal surges in Bossa Nova and Comedy suggest that curated playlists or limited-time offers can help capitalize on emerging trends.</li>
<li><em>Reoptimize large, underperforming genres.</em><br>
Rock has broad catalog coverage but moderate per-track performance. Marketing, repackaging, or removal of underperformers could improve efficiency.</li>
<li><em>Prioritize catalog expansion where penetration is high.</em><br>
For genres with high track sales penetration (e.g., Sci Fi), maintaining momentum may require fresh content to meet continuing demand.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="question-3-how-many-customers-are-repeat-buyers" class="level1">
<h1>Question 3: How many customers are repeat buyers?</h1>
<ul>
<li><strong>Key Tables</strong>: <code>Invoice</code>, <code>Customer</code>, <code>InvoiceLine</code></li>
<li><strong>Explanation</strong>: <code>Customer</code> provides key customer data. Links to <code>Invoice</code> provide sales frequency information linked to each <code>Customer</code>, which may be further broken down to individual units or cost-per-unit with links to <code>InvoiceLine</code>.</li>
</ul>
</section>
<section id="question-4.-how-do-sales-trends-evolve-over-time" class="level1">
<h1>Question 4. How do sales trends evolve over time?</h1>
<ul>
<li><strong>Key Tables</strong>: <code>Invoice</code>, <code>InvoiceLine</code>, <code>Customer</code></li>
<li><strong>Explanation</strong>: <code>Invoice</code> provides sales data, including date of sale and revenue. This data may be further broken down to individual units or cost-per-unit with links to <code>InvoiceLine</code>. Further characterization may be done with links to <code>Customer</code> or other tables linked to <code>InvoiceLine</code>.</li>
</ul>
</section>
<section id="bottom" class="level1">
<h1>BOTTOM</h1>
<p>Disconnect from the database.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-9-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-1" role="tab" aria-controls="tabset-9-1" aria-selected="true">R</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-9-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-9-2" role="tab" aria-controls="tabset-9-2" aria-selected="false">Python</a></li></ul>
<div class="tab-content">
<div id="tabset-9-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-9-1-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>DBI<span class="sc">::</span><span class="fu">dbDisconnect</span>(con_chinook)</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-9-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-9-2-tab">
<div class="cell">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># conn_chinook.close()</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
</div>
</div>


</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    // Ensure there is a toggle, if there isn't float one in the top right
    if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
      const a = window.document.createElement('a');
      a.classList.add('top-right');
      a.classList.add('quarto-color-scheme-toggle');
      a.href = "";
      a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
      const i = window.document.createElement("i");
      i.classList.add('bi');
      a.appendChild(i);
      window.document.body.appendChild(a);
    }
    setColorSchemeToggle(hasAlternateSentinel())
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/corvidfox/corvidfox.github.io/blob/main/projects/draft.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li><li><a href="https://github.com/corvidfox/corvidfox.github.io/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>